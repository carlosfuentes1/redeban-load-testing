{"failedCount":0,"prefixedPath":"classpath:Cierres\/Cierre_VoucherQA.feature","packageQualifiedName":"Cierres.Cierre_VoucherQA","loopIndex":-1,"relativePath":"Cierres\/Cierre_VoucherQA.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1040000,"millis":1.04,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def path = '\/transactional\/api\/vouchers\/closures'"},"stepLog":"16:08:43.826 << lock released, cached callSingle: classpath:helper\/CrearToken.feature\n","callResults":[{"prefixedPath":"classpath:helper\/CrearToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2024-02-05 04:08:44 p.Â m.","durationMillis":1137.9589,"callArg":{"pathUrl":"\/transactional\/api\/vouchers\/transactions","apiToken":"https:\/\/voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com\/oauth2\/token","url":"https:\/\/apicorr.redebanvd.net","apiKey":"tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g","tokenAuthorization":"Basic NnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGw6MW5uNjVnOXA1bHY5cnZubHYwdTljNm52cnMzM2hramluNWVrNDNyNTJyYmcwaDhxdmhjMQ=="},"failedCount":0,"packageQualifiedName":"helper.CrearToken","relativePath":"helper\/CrearToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1003400,"millis":1.0034,"status":"passed"},"step":{"line":4,"prefix":"Given","index":0,"text":"url apiToken"},"stepLog":"16:08:42.604 karate.env system property was: dev-corr \n16:08:42.615 >> lock acquired, begin callSingle: classpath:helper\/CrearToken.feature\n"},{"result":{"nanos":1211400,"millis":1.2114,"status":"passed"},"step":{"line":5,"prefix":"And","index":1,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":333700,"millis":0.3337,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"header Authorization = tokenAuthorization"}},{"result":{"nanos":722900,"millis":0.7229,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request 'grant_type=client_credentials&Scope=consumers%2Ffabrica'"}},{"result":{"nanos":1128692400,"millis":1128.6924,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method post"},"stepLog":"16:08:43.094 request:\n1 > POST https:\/\/voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Authorization: Basic NnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGw6MW5uNjVnOXA1bHY5cnZubHYwdTljNm52cnMzM2hramluNWVrNDNyNTJyYmcwaDhxdmhjMQ==\n1 > Content-Length: 55\n1 > Host: voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&Scope=consumers%2Ffabrica\n\n16:08:43.783 response time in milliseconds: 682\n1 < 200\n1 < Date: Mon, 05 Feb 2024 21:08:42 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Content-Security-Policy-Report-Only: script-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com; style-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com; img-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com; report-uri https:\/\/voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com\/cspreport\n1 < x-amz-cognito-request-id: 9fdff45c-a8bf-45e8-8c50-8ca622048195\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n1 < Set-Cookie: XSRF-TOKEN=4d523ab6-67d7-4e4f-ae11-fc63e82b3b42; Domain=voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com; Secure\n{\"access_token\":\"eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3MzIyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNjkxMjIsImlhdCI6MTcwNzE2NzMyMiwidmVyc2lvbiI6MiwianRpIjoiNmMwZGE1NTItZTFkMC00MzQ0LTg0MTItOGMyMTc2Y2FjYTU3IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.WnAmrbV1geWf8AflIcUF4uicMwByBn5TruRoTT4ZSXxIGUSno1aoPRvSuiimWvOFOUfQoofyjR6jJ67KISWTbfvxid_7DE-Cz2YAjdwkYeOVbwogR7pRVmrN_WLALNd1PjYcU-1MX_1G_BKybtIB7l-YRUAGuAQDq4uFkej_POLSBL6yJ6-zwYF3Ffb0mWd4QOTbE0FncbUmr__Nym-MUgUByqgXK-Naga_BZACgmJ2C_thNOA5_bhEhjMlDr3IeUVbDcdFNGvU_JNB6fQYBJttV94n5FW35Hbg8D80HJT4euw5XAbhcjZMOPqcPUtj1tOMpbqNhokzd9IzDkdnLlw\",\"expires_in\":1800,\"token_type\":\"Bearer\"}\n\n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":9,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":5965500,"millis":5.9655,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"def access_token = response.access_token"}}],"executorName":"pool-1-thread-1","line":3,"name":"crear token","description":"","durationMillis":1137.9589,"startTime":1707167322663,"failed":false,"refId":"[1:3]","endTime":1707167323824,"exampleIndex":-1}],"name":"Ejecutar Endpoint para crear el token que se usara para crear las transacciones","passedCount":1}]},{"result":{"nanos":60865000,"millis":60.865,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def bodyTrx = read('classpath:payloads\/BodyCierres.json')"}},{"result":{"nanos":639500,"millis":0.6395,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":478720800,"millis":478.7208,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":4063500,"millis":4.0635,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1541900,"millis":1.5419,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1757700,"millis":1.7577,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":240700,"millis":0.2407,"status":"passed"},"step":{"line":13,"prefix":"Given","index":0,"text":"url url"}},{"result":{"nanos":504100,"millis":0.5041,"status":"passed"},"step":{"line":14,"prefix":"And","index":1,"text":"path path"}},{"result":{"nanos":179600,"millis":0.1796,"status":"passed"},"step":{"line":15,"prefix":"And","index":2,"text":"header x-api-key = apiKey"}},{"result":{"nanos":3237100,"millis":3.2371,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request bodyTrx.payload[0].commerce.financialCode = '0051'"}},{"result":{"nanos":981700,"millis":0.9817,"status":"passed"},"step":{"line":17,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].commerce.address = 'PRUEBAS CIERRES MIXTO CORR 0051'"}},{"result":{"nanos":718900,"millis":0.7189,"status":"passed"},"step":{"line":18,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = '93724375834'"}},{"result":{"nanos":676500,"millis":0.6765,"status":"passed"},"step":{"line":19,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = 'DGSDYFDYE3'"}},{"result":{"nanos":151500,"millis":0.1515,"status":"passed"},"step":{"line":20,"prefix":"And","index":7,"text":"request bodyTrx"}},{"result":{"nanos":360065900,"millis":360.0659,"status":"passed"},"step":{"line":21,"prefix":"When","index":8,"text":"method post"},"stepLog":"16:08:44.396 request:\n2 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/closures\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3MzIyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNjkxMjIsImlhdCI6MTcwNzE2NzMyMiwidmVyc2lvbiI6MiwianRpIjoiNmMwZGE1NTItZTFkMC00MzQ0LTg0MTItOGMyMTc2Y2FjYTU3IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.WnAmrbV1geWf8AflIcUF4uicMwByBn5TruRoTT4ZSXxIGUSno1aoPRvSuiimWvOFOUfQoofyjR6jJ67KISWTbfvxid_7DE-Cz2YAjdwkYeOVbwogR7pRVmrN_WLALNd1PjYcU-1MX_1G_BKybtIB7l-YRUAGuAQDq4uFkej_POLSBL6yJ6-zwYF3Ffb0mWd4QOTbE0FncbUmr__Nym-MUgUByqgXK-Naga_BZACgmJ2C_thNOA5_bhEhjMlDr3IeUVbDcdFNGvU_JNB6fQYBJttV94n5FW35Hbg8D80HJT4euw5XAbhcjZMOPqcPUtj1tOMpbqNhokzd9IzDkdnLlw\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 298\n2 > Host: apicorr.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"address\":\"PRUEBAS CIERRES MIXTO CORR 0051\",\"name\":\"testTT WWWWW TTTTTTTT FFFFFFF\",\"terminalId\":\"DGSDYFDYE3\",\"correspondentId\":\"93724375834\",\"financialCode\":\"0051\"},\"transaction\":{\"date\":\"20240205\",\"dateTime\":\"20240205160800\",\"hour\":\"1608\",\"techVersion\":\"V42343223T35T\"}}]}\n\n16:08:44.749 response time in milliseconds: 353\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 509\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:08:43 GMT\n2 < x-amzn-RequestId: 653027c0-4b3d-4363-bcc7-bef0d028b35c\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: SrkuPEujIAMEd3A=\n2 < X-Amzn-Trace-Id: Root=1-65c14e5a-5377d84c2d086964492f4b46\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 8Om3x7X_m3jVPfGfY3kG2ag3ki2bFnYIiJcjnF9k2Dc34npTlY6QTQ==\n{\"resultObject\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"address\":\"PRUEBAS CIERRES MIXTO CORR 0051\",\"name\":\"testTT WWWWW TTTTTTTT FFFFFFF\",\"financialCode\":\"0051\",\"terminalId\":\"DGSDYFDYE3\"},\"transaction\":{\"closeId\":\"60208f2d-1d52-4ea3-bfa3-87e2b5e9176a\",\"date\":\"2024-02-05\",\"hour\":\"16:08:00\",\"dateTime\":\"2024-02-05T16:08:00\",\"techVersion\":\"V42343223T35T\"}}],\"status\":[{\"transactionId\":\"60208f2d-1d52-4ea3-bfa3-87e2b5e9176a\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205160843\"}]}\n\n"},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":22,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":5886700,"millis":5.8867,"status":"passed"},"step":{"line":23,"prefix":"And","index":10,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":10804100,"millis":10.8041,"status":"passed"},"step":{"line":24,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1503400,"millis":1.5034,"status":"passed"},"step":{"line":25,"prefix":"And","index":12,"text":"match response.status[0].statusCode == '00'"}}],"line":33,"description":"","durationMillis":933.5925,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que envia el cierre Correcto de una determinada terminal o datafono","startTime":1707167322514,"refId":"[1.1:33]","endTime":1707167324771,"exampleData":{"financialCode":"0051","address":"'PRUEBAS CIERRES MIXTO CORR 0051'","terminal":"DGSDYFDYE3"},"exampleIndex":0}],"callDepth":0,"name":"Ejecutar Endpoint para realizar el cierre Correcto de una terminal o Datafono","description":"","resultDate":"2024-02-05 04:08:44 p.Â m.","durationMillis":933.5925,"passedCount":1}