{"failedCount":0,"prefixedPath":"classpath:CORRandADQUI\/TransaccionalADQUI.feature","packageQualifiedName":"CORRandADQUI.TransaccionalADQUI","loopIndex":-1,"relativePath":"CORRandADQUI\/TransaccionalADQUI.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":30137900,"millis":30.1379,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:04.285 karate.env system property was: dev-adqui \n16:15:05.759 this thread waited 1461 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n"},{"result":{"nanos":715500,"millis":0.7155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":15929300,"millis":15.9293,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":103812500,"millis":103.8125,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":7782700,"millis":7.7827,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":1532300,"millis":1.5323,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1018500,"millis":1.0185,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":5833400,"millis":5.8334,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":17230500,"millis":17.2305,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":3968600,"millis":3.9686,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":643400,"millis":0.6434,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":8586000,"millis":8.586,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":640390000,"millis":640.39,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":2463000,"millis":2.463,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1376600,"millis":1.3766,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":4809200,"millis":4.8092,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1397900,"millis":1.3979,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":243500,"millis":0.2435,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":677300,"millis":0.6773,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":150500,"millis":0.1505,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":10894400,"millis":10.8944,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":3220300,"millis":3.2203,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":1648600,"millis":1.6486,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\""}},{"result":{"nanos":853600,"millis":0.8536,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\""}},{"result":{"nanos":128300,"millis":0.1283,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":597696700,"millis":597.6967,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:06.670 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2798\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"759032aBcD\"},\"transaction\":{\"approvalNum\":823191,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":823191,\"rrn\":823191,\"dateTime\":\"20240205161500\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"80984319****6165\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":823191,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":823191},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.245 response time in milliseconds: 575\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 763\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:05 GMT\n1 < x-amzn-RequestId: dd45286f-afa2-414d-999b-6c0b710b26bb\n1 < x-amz-apigw-id: SrlqBHszIAMEjVA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fd9-3bf1c6d72daf9c7c6a3e7e04\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: C1bW57wP7s2uyTvbNc-qzng72f0S9X4wGxAMqj1ATn3Looreee2ikg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"759032aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV582319182319120240205161500\",\"approvalNum\":\"823191\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"823191\",\"rrn\":\"823191\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"80984319****6165\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"823191\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"823191\"}}],\"status\":[{\"transactionId\":\"YTEUSCV582319182319120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161505\"}]}\n\n"},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":15327700,"millis":15.3277,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1692200,"millis":1.6922,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":9089300,"millis":9.0893,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":52,"description":"","durationMillis":1489.2778,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167704185,"refId":"[1.1:52]","endTime":1707167707273,"exampleData":{"accountType":"AH","franchise":"AMEX","transactionType":"VENTA"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31568000,"millis":31.568,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:04.284 karate.env system property was: dev-adqui \n16:15:05.758 this thread waited 1461 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n"},{"result":{"nanos":476000,"millis":0.476,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":18567200,"millis":18.5672,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":99916300,"millis":99.9163,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":19994300,"millis":19.9943,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":2388400,"millis":2.3884,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":5107100,"millis":5.1071,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":7621700,"millis":7.6217,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":3389600,"millis":3.3896,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":6070000,"millis":6.07,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":1062400,"millis":1.0624,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":5616100,"millis":5.6161,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":636363900,"millis":636.3639,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":2619500,"millis":2.6195,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":10085500,"millis":10.0855,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1472700,"millis":1.4727,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1663400,"millis":1.6634,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":254000,"millis":0.254,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":582000,"millis":0.582,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":805900,"millis":0.8059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":3158400,"millis":3.1584,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":8409400,"millis":8.4094,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":11987500,"millis":11.9875,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\""}},{"result":{"nanos":1298500,"millis":1.2985,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\""}},{"result":{"nanos":626900,"millis":0.6269,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":602731800,"millis":602.7318,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:06.679 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"639153aBcD\"},\"transaction\":{\"approvalNum\":937416,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":937416,\"rrn\":937416,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"75948747****8682\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":937416,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":937416},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.254 response time in milliseconds: 572\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:05 GMT\n1 < x-amzn-RequestId: 7aa7f306-9a95-4ad0-85fc-da0e19dd1e09\n1 < x-amz-apigw-id: SrlqAH5zoAMEVSg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fd9-2706b34a0d27ba9f056d8283\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 064907318388ddb71d9d0db586a17f3a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: bWDragQsmAtz1HqI0m5ufJBoIcnnADyTI3n9RtIVu3kZq-Xk8XOwSw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"639153aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV593741693741620240205161500\",\"approvalNum\":\"937416\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"937416\",\"rrn\":\"937416\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"75948747****8682\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"937416\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"937416\"}}],\"status\":[{\"transactionId\":\"YTEUSCV593741693741620240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161505\"}]}\n\n"},{"result":{"nanos":21600,"millis":0.0216,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":26104000,"millis":26.104,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":12965700,"millis":12.9657,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":6971600,"millis":6.9716,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":53,"description":"","durationMillis":1529.8994,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167704185,"refId":"[1.2:53]","endTime":1707167707321,"exampleData":{"accountType":"CC","franchise":"BCO_SUP","transactionType":"LEALTAD"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35404600,"millis":35.4046,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:05.758 << lock released, cached callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n","callResults":[{"prefixedPath":"classpath:helper\/CrearTokenDEVADQUI.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2024-02-05 04:15:10 p. m.","durationMillis":1369.4928,"callArg":{"pathUrl":"\/transactional\/api\/vouchers\/transactions","apiToken":"https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token","url":"https:\/\/api.redebanvd.net","apiKey":"tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g","tokenAuthorization":"Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA=="},"failedCount":0,"packageQualifiedName":"helper.CrearTokenDEVADQUI","relativePath":"helper\/CrearTokenDEVADQUI.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1325400,"millis":1.3254,"status":"passed"},"step":{"line":4,"prefix":"Given","index":0,"text":"url apiToken"},"stepLog":"16:15:04.284 karate.env system property was: dev-adqui \n16:15:04.297 >> lock acquired, begin callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n"},{"result":{"nanos":2210000,"millis":2.21,"status":"passed"},"step":{"line":5,"prefix":"And","index":1,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":442000,"millis":0.442,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"header Authorization = tokenAuthorization"}},{"result":{"nanos":1319000,"millis":1.319,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request 'grant_type=client_credentials&Scope=consumers%2Ffabrica'"}},{"result":{"nanos":1359895400,"millis":1359.8954,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method post"},"stepLog":"16:15:04.991 request:\n1 > POST https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Authorization: Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA==\n1 > Content-Length: 55\n1 > Host: voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&Scope=consumers%2Ffabrica\n\n16:15:05.712 response time in milliseconds: 714\n1 < 200\n1 < Date: Mon, 05 Feb 2024 21:15:03 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Content-Security-Policy-Report-Only: script-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; style-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; img-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; report-uri https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/cspreport\n1 < x-amz-cognito-request-id: 6bbc1dff-db9c-4f15-9bc5-d791f379ce3c\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n1 < Set-Cookie: XSRF-TOKEN=50d3ecc9-067f-42c0-bdee-b2f39256a108; Domain=voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; Secure\n{\"access_token\":\"eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\",\"expires_in\":1800,\"token_type\":\"Bearer\"}\n\n"},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":9,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4277200,"millis":4.2772,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"def access_token = response.access_token"}}],"executorName":"pool-1-thread-3","line":3,"name":"crear token","description":"","durationMillis":1369.4928,"startTime":1707167704354,"failed":false,"refId":"[1:3]","endTime":1707167705757,"exampleIndex":-1}],"name":"Ejecutar Endpoint para crear el token que se usara para crear las transacciones","passedCount":1}]},{"result":{"nanos":851600,"millis":0.8516,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":14220700,"millis":14.2207,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":99920500,"millis":99.9205,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":1282600,"millis":1.2826,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":3173600,"millis":3.1736,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1875400,"millis":1.8754,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":9922600,"millis":9.9226,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":14355400,"millis":14.3554,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":4713600,"millis":4.7136,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":753600,"millis":0.7536,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":2741700,"millis":2.7417,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":633349000,"millis":633.349,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":7904000,"millis":7.904,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1987200,"millis":1.9872,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":4159900,"millis":4.1599,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":2046400,"millis":2.0464,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":196300,"millis":0.1963,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":824800,"millis":0.8248,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":174200,"millis":0.1742,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":3865600,"millis":3.8656,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":3554500,"millis":3.5545,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":1650200,"millis":1.6502,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\""}},{"result":{"nanos":1977600,"millis":1.9776,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\""}},{"result":{"nanos":154200,"millis":0.1542,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":682860300,"millis":682.8603,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:06.677 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2814\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"312047aBcD\"},\"transaction\":{\"approvalNum\":987530,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":987530,\"rrn\":987530,\"dateTime\":\"20240205161500\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"12373669****9499\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":987530,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":987530},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.332 response time in milliseconds: 655\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 779\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:15:05 GMT\n2 < x-amzn-RequestId: c8826c8f-5394-4662-9e16-b5e3f838b0a7\n2 < x-amz-apigw-id: SrlqBF-8oAMEtZg=\n2 < X-Amzn-Trace-Id: Root=1-65c14fd9-6d26b6830dba015509bc4c08\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: nVszlfeUuuT1eAJFbpxYOMoM7_b2RWdfjL5EOK_V4RIZUbW4GvNLZw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"312047aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV598753098753020240205161500\",\"approvalNum\":\"987530\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"987530\",\"rrn\":\"987530\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"12373669****9499\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"987530\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"987530\"}}],\"status\":[{\"transactionId\":\"YTEUSCV598753098753020240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161505\"}]}\n\n"},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1306100,"millis":1.3061,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":987900,"millis":0.9879,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":957000,"millis":0.957,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":54,"description":"","durationMillis":1537.19,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167704185,"refId":"[1.3:54]","endTime":1707167707338,"exampleData":{"accountType":"CR","franchise":"DINERSCLUB","transactionType":"PUNTOS COLOMBIA"},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":30138700,"millis":30.1387,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:04.283 karate.env system property was: dev-adqui \n16:15:05.758 this thread waited 1461 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n"},{"result":{"nanos":868800,"millis":0.8688,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":15862500,"millis":15.8625,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":103251200,"millis":103.2512,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":6332600,"millis":6.3326,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":1851900,"millis":1.8519,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1669500,"millis":1.6695,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":7945700,"millis":7.9457,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":16104800,"millis":16.1048,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":3460600,"millis":3.4606,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":775200,"millis":0.7752,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1178800,"millis":1.1788,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":695111400,"millis":695.1114,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":3752400,"millis":3.7524,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1646600,"millis":1.6466,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1436700,"millis":1.4367,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1250700,"millis":1.2507,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":279300,"millis":0.2793,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":618000,"millis":0.618,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":137100,"millis":0.1371,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":997500,"millis":0.9975,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":838400,"millis":0.8384,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\""}},{"result":{"nanos":943100,"millis":0.9431,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\""}},{"result":{"nanos":968000,"millis":0.968,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\""}},{"result":{"nanos":137500,"millis":0.1375,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":561878300,"millis":561.8783,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:06.684 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"358517aBcD\"},\"transaction\":{\"approvalNum\":267262,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":267262,\"rrn\":267262,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"16694957****2774\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":267262,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":267262},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.238 response time in milliseconds: 550\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:05 GMT\n1 < x-amzn-RequestId: 9a7c1bc5-dff8-45f4-a905-7c20e9b8f706\n1 < x-amz-apigw-id: Srlp_HmHIAMEuOg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fd9-3a26d08a3bbe20ad71ebe20d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 71L4yu3Pkw-qVSnyopDnZMslhz85GEk_zA5kGjRqSth_V5VRpvc_kQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"358517aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV526726226726220240205161500\",\"approvalNum\":\"267262\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"267262\",\"rrn\":\"267262\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"16694957****2774\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"267262\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"267262\"}}],\"status\":[{\"transactionId\":\"YTEUSCV526726226726220240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161505\"}]}\n\n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":19689100,"millis":19.6891,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1673800,"millis":1.6738,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":9090700,"millis":9.0907,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":55,"description":"","durationMillis":1489.9172,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167704185,"refId":"[1.4:55]","endTime":1707167707273,"exampleData":{"accountType":"LT","franchise":"MAESTRO","transactionType":"LEALTADPLUS"},"exampleIndex":3},{"sectionIndex":0,"stepResults":[{"result":{"nanos":206173400,"millis":206.1734,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:07.307 karate.env system property was: dev-adqui \n"},{"result":{"nanos":524500,"millis":0.5245,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":2732900,"millis":2.7329,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1896900,"millis":1.8969,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":766900,"millis":0.7669,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":494600,"millis":0.4946,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":575700,"millis":0.5757,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":580400,"millis":0.5804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":3633800,"millis":3.6338,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":2384900,"millis":2.3849,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":642000,"millis":0.642,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":565300,"millis":0.5653,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":11379400,"millis":11.3794,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1972800,"millis":1.9728,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1478100,"millis":1.4781,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":954400,"millis":0.9544,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":994500,"millis":0.9945,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":105100,"millis":0.1051,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":477800,"millis":0.4778,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":122900,"millis":0.1229,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":904500,"millis":0.9045,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":764000,"millis":0.764,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\""}},{"result":{"nanos":684900,"millis":0.6849,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\""}},{"result":{"nanos":745700,"millis":0.7457,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\""}},{"result":{"nanos":122100,"millis":0.1221,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":238464200,"millis":238.4642,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:07.557 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"83477aBcD\"},\"transaction\":{\"approvalNum\":493136,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":493136,\"rrn\":493136,\"dateTime\":\"20240205161500\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"35657578****2059\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":493136,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":493136},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.792 response time in milliseconds: 235\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: 1e3eaf81-e57c-40c2-99d3-542b77197492\n1 < x-amz-apigw-id: SrlqHEyvoAMEfyw=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-05ca07ba08f29f216bcd9161\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: ANqo_FdkIbyA-qXmgHq3e4SjY3LBZXcBDSSf0YlS1FiUEQQNrzWd8g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"83477aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV549313649313620240205161500\",\"approvalNum\":\"493136\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"493136\",\"rrn\":\"493136\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"35657578****2059\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"493136\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"493136\"}}],\"status\":[{\"transactionId\":\"YTEUSCV549313649313620240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n"},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":816300,"millis":0.8163,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1087300,"millis":1.0873,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":901300,"millis":0.9013,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":56,"description":"","durationMillis":482.9645,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167707303,"refId":"[1.5:56]","endTime":1707167707796,"exampleData":{"accountType":"CM","franchise":"CREDENCIAL","transactionType":"T. PRIVADA"},"exampleIndex":4},{"sectionIndex":0,"stepResults":[{"result":{"nanos":9785300,"millis":9.7853,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:07.351 karate.env system property was: dev-adqui \n"},{"result":{"nanos":496100,"millis":0.4961,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1385800,"millis":1.3858,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":2239100,"millis":2.2391,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":871400,"millis":0.8714,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":551700,"millis":0.5517,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":492200,"millis":0.4922,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":566400,"millis":0.5664,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":2660000,"millis":2.66,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":2463500,"millis":2.4635,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":566300,"millis":0.5663,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":528900,"millis":0.5289,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":18463100,"millis":18.4631,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1800200,"millis":1.8002,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1564900,"millis":1.5649,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1217300,"millis":1.2173,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1105100,"millis":1.1051,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":134400,"millis":0.1344,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":987800,"millis":0.9878,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":121700,"millis":0.1217,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":1048200,"millis":1.0482,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":952200,"millis":0.9522,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\""}},{"result":{"nanos":787700,"millis":0.7877,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\""}},{"result":{"nanos":906500,"millis":0.9065,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\""}},{"result":{"nanos":152400,"millis":0.1524,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":421793600,"millis":421.7936,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:07.410 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"862711aBcD\"},\"transaction\":{\"approvalNum\":216077,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":216077,\"rrn\":216077,\"dateTime\":\"20240205161500\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"23345281****5804\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":216077,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":216077},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.827 response time in milliseconds: 417\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: 97e1391e-9656-407d-8e00-0fe50364798d\n1 < x-amz-apigw-id: SrlqHF5zoAMEqZA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-4db305dd4c38aa6e63b85c4b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 8t98-I616Qu820cTQbZuvDtexHOnoP0BUY4ExvUZf6sws0ZkRxrMug==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"862711aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV521607721607720240205161500\",\"approvalNum\":\"216077\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"216077\",\"rrn\":\"216077\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"23345281****5804\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"216077\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"216077\"}}],\"status\":[{\"transactionId\":\"YTEUSCV521607721607720240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n"},{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":951800,"millis":0.9518,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1278300,"millis":1.2783,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":969700,"millis":0.9697,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":57,"description":"","durationMillis":476.8566,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167707345,"refId":"[1.6:57]","endTime":1707167707833,"exampleData":{"accountType":"CU","franchise":"MASTERCARD","transactionType":"TOTAL BONOS"},"exampleIndex":5},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17629000,"millis":17.629,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:07.339 karate.env system property was: dev-adqui \n"},{"result":{"nanos":6712700,"millis":6.7127,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1967000,"millis":1.967,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":3575300,"millis":3.5753,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":674200,"millis":0.6742,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":2927000,"millis":2.927,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":3376600,"millis":3.3766,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":14821200,"millis":14.8212,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":16670600,"millis":16.6706,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":2485100,"millis":2.4851,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":18663300,"millis":18.6633,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":731100,"millis":0.7311,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":22141500,"millis":22.1415,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":2885700,"millis":2.8857,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1592000,"millis":1.592,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1204800,"millis":1.2048,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1142000,"millis":1.142,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":121700,"millis":0.1217,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":524900,"millis":0.5249,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":120300,"millis":0.1203,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":938000,"millis":0.938,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":820600,"millis":0.8206,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\""}},{"result":{"nanos":739400,"millis":0.7394,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\""}},{"result":{"nanos":12308600,"millis":12.3086,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\""}},{"result":{"nanos":259200,"millis":0.2592,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":346815300,"millis":346.8153,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:07.487 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2816\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"145361aBcD\"},\"transaction\":{\"approvalNum\":169421,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":169421,\"rrn\":169421,\"dateTime\":\"20240205161500\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"95797103****9134\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":169421,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":169421},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.831 response time in milliseconds: 344\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: f804155e-7e85-4b9a-8888-996db9339742\n1 < x-amz-apigw-id: SrlqHE1noAMEdTQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-61212b8d3d418a8d4c63e57c\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: vp0o9ueDT1e54R_3uvmEFUDioXXSO0gdNk04s7yWINC4PWz9CZGKSw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"145361aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV516942116942120240205161500\",\"approvalNum\":\"169421\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"169421\",\"rrn\":\"169421\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"95797103****9134\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"169421\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"169421\"}}],\"status\":[{\"transactionId\":\"YTEUSCV516942116942120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n"},{"result":{"nanos":10900,"millis":0.0109,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":438300,"millis":0.4383,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":2649000,"millis":2.649,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":920500,"millis":0.9205,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":58,"description":"","durationMillis":485.8658,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167707333,"refId":"[1.7:58]","endTime":1707167707836,"exampleData":{"accountType":"BE","franchise":"VISA DEBIT","transactionType":"BONOS RECARGABLES"},"exampleIndex":6},{"sectionIndex":0,"stepResults":[{"result":{"nanos":9186100,"millis":9.1861,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:07.351 karate.env system property was: dev-adqui \n"},{"result":{"nanos":728600,"millis":0.7286,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1410400,"millis":1.4104,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":2425900,"millis":2.4259,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":608700,"millis":0.6087,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":578400,"millis":0.5784,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":571700,"millis":0.5717,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":631900,"millis":0.6319,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":14579100,"millis":14.5791,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":4143000,"millis":4.143,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":1833300,"millis":1.8333,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":4620400,"millis":4.6204,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":34569500,"millis":34.5695,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1542500,"millis":1.5425,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1186900,"millis":1.1869,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":985800,"millis":0.9858,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1049600,"millis":1.0496,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":102000,"millis":0.102,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":449600,"millis":0.4496,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":865800,"millis":0.8658,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":743900,"millis":0.7439,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\""}},{"result":{"nanos":5330200,"millis":5.3302,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\""}},{"result":{"nanos":2169100,"millis":2.1691,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\""}},{"result":{"nanos":165500,"millis":0.1655,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":282781000,"millis":282.781,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:07.451 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"796232aBcD\"},\"transaction\":{\"approvalNum\":757565,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":757565,\"rrn\":757565,\"dateTime\":\"20240205161500\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"14465635****6202\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":757565,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":757565},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.728 response time in milliseconds: 277\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:05 GMT\n1 < x-amzn-RequestId: ca94b6ae-f6c9-45a7-9795-266a85be2108\n1 < x-amz-apigw-id: SrlqGF0ToAMEZMg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fd9-2dd6ba2d327206a84617572a\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: BB4oMtgj_tGeFHmUtFOYfouDax72Euutb68oj5pSbJepYnHob9C_8g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"796232aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV575756575756520240205161500\",\"approvalNum\":\"757565\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"757565\",\"rrn\":\"757565\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"14465635****6202\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"757565\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"757565\"}}],\"status\":[{\"transactionId\":\"YTEUSCV575756575756520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161505\"}]}\n\n"},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":777500,"millis":0.7775,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":535700,"millis":0.5357,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":289200,"millis":0.2892,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":59,"description":"","durationMillis":374.976,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167707347,"refId":"[1.8:59]","endTime":1707167707732,"exampleData":{"accountType":"RT","franchise":"V.ELECTRON","transactionType":"PCR"},"exampleIndex":7},{"sectionIndex":0,"stepResults":[{"result":{"nanos":2900400,"millis":2.9004,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:07.739 karate.env system property was: dev-adqui \n"},{"result":{"nanos":304800,"millis":0.3048,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":654100,"millis":0.6541,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1228000,"millis":1.228,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":735200,"millis":0.7352,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":813300,"millis":0.8133,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":493800,"millis":0.4938,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":467700,"millis":0.4677,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1340900,"millis":1.3409,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1043200,"millis":1.0432,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":467600,"millis":0.4676,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":392900,"millis":0.3929,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":5092400,"millis":5.0924,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":820200,"millis":0.8202,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":844300,"millis":0.8443,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":519700,"millis":0.5197,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":444400,"millis":0.4444,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":142900,"millis":0.1429,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":112300,"millis":0.1123,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":261100,"millis":0.2611,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1057700,"millis":1.0577,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\""}},{"result":{"nanos":779200,"millis":0.7792,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\""}},{"result":{"nanos":711800,"millis":0.7118,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\""}},{"result":{"nanos":104600,"millis":0.1046,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":255022400,"millis":255.0224,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:07.767 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2814\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"180489aBcD\"},\"transaction\":{\"approvalNum\":266728,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":266728,\"rrn\":266728,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"61032177****6643\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":266728,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":266728},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.019 response time in milliseconds: 252\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 779\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: 3dec1ca6-66b6-41be-8235-d58e1e9e383f\n1 < x-amz-apigw-id: SrlqJFoYoAMEQqg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-412add922635b8481f30035b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 7a95ef3dywgukpAZQPLA2cytMdJnN_serrGHHNX3ivCpD4MKZh4vlg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"180489aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV526672826672820240205161500\",\"approvalNum\":\"266728\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"266728\",\"rrn\":\"266728\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"61032177****6643\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"266728\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"266728\"}}],\"status\":[{\"transactionId\":\"YTEUSCV526672826672820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n"},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":4275600,"millis":4.2756,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":3428200,"millis":3.4282,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":2586100,"millis":2.5861,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":60,"description":"","durationMillis":287.1483,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167707738,"refId":"[1.9:60]","endTime":1707167708031,"exampleData":{"accountType":"RG","franchise":"CREDITO P","transactionType":"RECARGA EFECTIVO"},"exampleIndex":8},{"sectionIndex":0,"stepResults":[{"result":{"nanos":3297000,"millis":3.297,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:07.803 karate.env system property was: dev-adqui \n"},{"result":{"nanos":375200,"millis":0.3752,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":449900,"millis":0.4499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1089800,"millis":1.0898,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":1391600,"millis":1.3916,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":455800,"millis":0.4558,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":477600,"millis":0.4776,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":384900,"millis":0.3849,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1755000,"millis":1.755,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1643200,"millis":1.6432,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":509200,"millis":0.5092,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":358200,"millis":0.3582,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":12696600,"millis":12.6966,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":656700,"millis":0.6567,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":659800,"millis":0.6598,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":594100,"millis":0.5941,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":390800,"millis":0.3908,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":89300,"millis":0.0893,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":166000,"millis":0.166,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":101100,"millis":0.1011,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":372200,"millis":0.3722,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1040100,"millis":1.0401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\""}},{"result":{"nanos":1324100,"millis":1.3241,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\""}},{"result":{"nanos":840900,"millis":0.8409,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\""}},{"result":{"nanos":89000,"millis":0.089,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":351909500,"millis":351.9095,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:07.840 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"778862aBcD\"},\"transaction\":{\"approvalNum\":753119,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":753119,\"rrn\":753119,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"64141497****4347\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":753119,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":753119},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.189 response time in milliseconds: 348\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: 50ce16a8-0016-4108-98ae-d81a29426fb0\n1 < x-amz-apigw-id: SrlqLHSTIAMEJgw=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-3bacc7542daaa6815d66c7df\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: lx7O7F9iDFdgdvTgQcxWHEGJUFhxIN0UrY71YwSY7hvZrdSauYDkXQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"778862aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV575311975311920240205161500\",\"approvalNum\":\"753119\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"753119\",\"rrn\":\"753119\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"64141497****4347\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"753119\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"753119\"}}],\"status\":[{\"transactionId\":\"YTEUSCV575311975311920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n"},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":810800,"millis":0.8108,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":603500,"millis":0.6035,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":355400,"millis":0.3554,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":61,"description":"","durationMillis":384.906,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167707802,"refId":"[1.10:61]","endTime":1707167708191,"exampleData":{"accountType":"DS","franchise":"T. ALKOSTO","transactionType":"RECARGAS"},"exampleIndex":9},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39068700,"millis":39.0687,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:07.838 karate.env system property was: dev-adqui \n"},{"result":{"nanos":512700,"millis":0.5127,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":830900,"millis":0.8309,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1413500,"millis":1.4135,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":639900,"millis":0.6399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":616200,"millis":0.6162,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":431300,"millis":0.4313,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":431800,"millis":0.4318,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1456400,"millis":1.4564,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1414400,"millis":1.4144,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":426700,"millis":0.4267,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":375800,"millis":0.3758,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":18820500,"millis":18.8205,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":922200,"millis":0.9222,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1262600,"millis":1.2626,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":751700,"millis":0.7517,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":529500,"millis":0.5295,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":124200,"millis":0.1242,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":144600,"millis":0.1446,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":80500,"millis":0.0805,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":1216600,"millis":1.2166,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1211500,"millis":1.2115,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\""}},{"result":{"nanos":942100,"millis":0.9421,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\""}},{"result":{"nanos":730900,"millis":0.7309,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\""}},{"result":{"nanos":351700,"millis":0.3517,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":408020000,"millis":408.02,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:07.919 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"536453aBcD\"},\"transaction\":{\"approvalNum\":138994,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":138994,\"rrn\":138994,\"dateTime\":\"20240205161500\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"65367014****5591\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":138994,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":138994},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.322 response time in milliseconds: 403\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: f7155021-3440-444e-a82b-af063fd31a3f\n1 < x-amz-apigw-id: SrlqMHJkoAMELaw=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-04097e010eef8fbf7a280891\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: y3DzfjzM98xFoGHqrN7k03XNqB4VaW_x4xRsKZyrV0uahR2DWBxGJA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"536453aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV513899413899420240205161500\",\"approvalNum\":\"138994\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"138994\",\"rrn\":\"138994\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"65367014****5591\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"138994\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"138994\"}}],\"status\":[{\"transactionId\":\"YTEUSCV513899413899420240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n"},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1243400,"millis":1.2434,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":958500,"millis":0.9585,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":281700,"millis":0.2817,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":62,"description":"","durationMillis":485.2288,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167707837,"refId":"[1.11:62]","endTime":1707167708326,"exampleData":{"accountType":"BC","franchise":"TUYA","transactionType":"EFECTIVO"},"exampleIndex":10},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58652000,"millis":58.652,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:07.849 karate.env system property was: dev-adqui \n"},{"result":{"nanos":1480500,"millis":1.4805,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":478000,"millis":0.478,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1212200,"millis":1.2122,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":748800,"millis":0.7488,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":775200,"millis":0.7752,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1620600,"millis":1.6206,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":1290400,"millis":1.2904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":4490700,"millis":4.4907,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":11939300,"millis":11.9393,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":695800,"millis":0.6958,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":482300,"millis":0.4823,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":35196200,"millis":35.1962,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1383900,"millis":1.3839,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":700200,"millis":0.7002,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":921800,"millis":0.9218,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":428100,"millis":0.4281,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":87300,"millis":0.0873,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":131500,"millis":0.1315,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":87600,"millis":0.0876,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":284100,"millis":0.2841,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1149600,"millis":1.1496,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\""}},{"result":{"nanos":1606500,"millis":1.6065,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\""}},{"result":{"nanos":1122200,"millis":1.1222,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\""}},{"result":{"nanos":176800,"millis":0.1768,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":368221100,"millis":368.2211,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:07.982 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"119079aBcD\"},\"transaction\":{\"approvalNum\":380913,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":380913,\"rrn\":380913,\"dateTime\":\"20240205161500\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"20179426****3461\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":380913,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":380913},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.348 response time in milliseconds: 365\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: cd6e98b8-954e-4c6d-9b5a-d521db5a2e7d\n1 < x-amz-apigw-id: SrlqMG31oAMEcDQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-3d0a838f751e14d938e61d2e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: K0IYrauBd3EBqO35B4dsO6BEgxP8YLBIN0sAJfJNg36rr9T37-HjEg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"119079aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV538091338091320240205161500\",\"approvalNum\":\"380913\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"380913\",\"rrn\":\"380913\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"20179426****3461\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"380913\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"380913\"}}],\"status\":[{\"transactionId\":\"YTEUSCV538091338091320240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n"},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":628000,"millis":0.628,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":2045900,"millis":2.0459,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":267900,"millis":0.2679,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":63,"description":"","durationMillis":498.3208,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167707847,"refId":"[1.12:63]","endTime":1707167708352,"exampleData":{"accountType":"BD","franchise":"PRIVADACR","transactionType":"IMPUESTOS"},"exampleIndex":11},{"sectionIndex":0,"stepResults":[{"result":{"nanos":37550500,"millis":37.5505,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:08.048 karate.env system property was: dev-adqui \n"},{"result":{"nanos":283400,"millis":0.2834,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":887000,"millis":0.887,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":2012800,"millis":2.0128,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":1294600,"millis":1.2946,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":536000,"millis":0.536,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":472100,"millis":0.4721,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":613200,"millis":0.6132,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1509000,"millis":1.509,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1374000,"millis":1.374,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":403100,"millis":0.4031,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":383600,"millis":0.3836,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":12301300,"millis":12.3013,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":2399700,"millis":2.3997,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1235400,"millis":1.2354,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":690300,"millis":0.6903,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":405200,"millis":0.4052,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":96600,"millis":0.0966,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":139000,"millis":0.139,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":90200,"millis":0.0902,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":875400,"millis":0.8754,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1276200,"millis":1.2762,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\""}},{"result":{"nanos":1175800,"millis":1.1758,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\""}},{"result":{"nanos":1146400,"millis":1.1464,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\""}},{"result":{"nanos":104800,"millis":0.1048,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":380244300,"millis":380.2443,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:08.123 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"208874aBcD\"},\"transaction\":{\"approvalNum\":927655,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":927655,\"rrn\":927655,\"dateTime\":\"20240205161500\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"19114934****2473\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":927655,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":927655},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.500 response time in milliseconds: 377\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: 41bd2d30-2d82-4cb6-9e3d-0c69d6521ee7\n1 < x-amz-apigw-id: SrlqOEEloAMEPGQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-0ecd6b8b19efb9ce286bebf1\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: suQuGG-JvJA2RvxBF_AjK10MM14x7bdQHeuASgHyElnJHYOCACTstA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"208874aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV592765592765520240205161500\",\"approvalNum\":\"927655\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"927655\",\"rrn\":\"927655\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"19114934****2473\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"927655\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"927655\"}}],\"status\":[{\"transactionId\":\"YTEUSCV592765592765520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n"},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":691800,"millis":0.6918,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":608500,"millis":0.6085,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":171000,"millis":0.171,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":64,"description":"","durationMillis":450.9865,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167708045,"refId":"[1.13:64]","endTime":1707167708503,"exampleData":{"accountType":"SP","franchise":"CREDENVISA","transactionType":"WIZEO"},"exampleIndex":12},{"sectionIndex":0,"stepResults":[{"result":{"nanos":6514700,"millis":6.5147,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:08.197 karate.env system property was: dev-adqui \n"},{"result":{"nanos":283700,"millis":0.2837,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":584300,"millis":0.5843,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":933100,"millis":0.9331,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":570300,"millis":0.5703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":318400,"millis":0.3184,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":251800,"millis":0.2518,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":254300,"millis":0.2543,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1171300,"millis":1.1713,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1051700,"millis":1.0517,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":330400,"millis":0.3304,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":356100,"millis":0.3561,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":4584600,"millis":4.5846,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":780800,"millis":0.7808,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":485300,"millis":0.4853,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":437200,"millis":0.4372,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":295900,"millis":0.2959,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":91200,"millis":0.0912,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":931800,"millis":0.9318,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":275800,"millis":0.2758,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1164600,"millis":1.1646,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":868300,"millis":0.8683,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\""}},{"result":{"nanos":643600,"millis":0.6436,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\""}},{"result":{"nanos":87400,"millis":0.0874,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":412349300,"millis":412.3493,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:08.225 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"3235aBcD\"},\"transaction\":{\"approvalNum\":873229,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":873229,\"rrn\":873229,\"dateTime\":\"20240205161500\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"88762021****7230\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":873229,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":873229},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.634 response time in milliseconds: 408\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: a9e365fe-860d-4d3f-ba47-28d3412ab84f\n1 < x-amz-apigw-id: SrlqPFOsIAMET0Q=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-7e3564d45a6703be00f02e53\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 8cFMXPnaD_29mT8MmPecZCzfDuqJTqQ00FnqqXN_MwTLp6TviHmwiQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"3235aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV587322987322920240205161500\",\"approvalNum\":\"873229\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"873229\",\"rrn\":\"873229\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"88762021****7230\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"873229\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"873229\"}}],\"status\":[{\"transactionId\":\"YTEUSCV587322987322920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n"},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":949400,"millis":0.9494,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":398700,"millis":0.3987,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":188700,"millis":0.1887,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":65,"description":"","durationMillis":437.2433,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167708196,"refId":"[1.14:65]","endTime":1707167708637,"exampleData":{"accountType":"00","franchise":"COLSUBISIDIO","transactionType":"OPS"},"exampleIndex":13},{"sectionIndex":0,"stepResults":[{"result":{"nanos":2173400,"millis":2.1734,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:08.332 karate.env system property was: dev-adqui \n"},{"result":{"nanos":286900,"millis":0.2869,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":441200,"millis":0.4412,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1006700,"millis":1.0067,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":545700,"millis":0.5457,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":458000,"millis":0.458,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":310100,"millis":0.3101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":324800,"millis":0.3248,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1086700,"millis":1.0867,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1254000,"millis":1.254,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":398800,"millis":0.3988,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1306700,"millis":1.3067,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":13976100,"millis":13.9761,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1084800,"millis":1.0848,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1796600,"millis":1.7966,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":825900,"millis":0.8259,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":374800,"millis":0.3748,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":118900,"millis":0.1189,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":89700,"millis":0.0897,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":283800,"millis":0.2838,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1072100,"millis":1.0721,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\""}},{"result":{"nanos":804200,"millis":0.8042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\""}},{"result":{"nanos":641500,"millis":0.6415,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\""}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":385393800,"millis":385.3938,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:08.368 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"676590aBcD\"},\"transaction\":{\"approvalNum\":404885,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":404885,\"rrn\":404885,\"dateTime\":\"20240205161500\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"84058101****8613\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":404885,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":404885},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.750 response time in milliseconds: 382\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: ceac207b-6a29-44ee-8b0e-081d330cdd78\n1 < x-amz-apigw-id: SrlqQFDAoAMEJuA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-13b7dc590d87276d577f87ef\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Ud63BQTC295UruMlAlw1oDuZS0xChy4rkj0T-fVllnNiyBRalMk-Og==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"676590aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV540488540488520240205161500\",\"approvalNum\":\"404885\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"404885\",\"rrn\":\"404885\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"84058101****8613\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"404885\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"404885\"}}],\"status\":[{\"transactionId\":\"YTEUSCV540488540488520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n"},{"result":{"nanos":503800,"millis":0.5038,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":798100,"millis":0.7981,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":426700,"millis":0.4267,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":263300,"millis":0.2633,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":66,"description":"","durationMillis":418.2117,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167708331,"refId":"[1.15:66]","endTime":1707167708753,"exampleData":{"accountType":"LT","franchise":"CAJA C.F.","transactionType":"LIFEMILES"},"exampleIndex":14},{"sectionIndex":0,"stepResults":[{"result":{"nanos":12314400,"millis":12.3144,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:08.358 karate.env system property was: dev-adqui \n"},{"result":{"nanos":1614800,"millis":1.6148,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":860300,"millis":0.8603,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1366900,"millis":1.3669,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":618100,"millis":0.6181,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":365700,"millis":0.3657,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":285400,"millis":0.2854,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":317200,"millis":0.3172,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1909000,"millis":1.909,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1182000,"millis":1.182,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":350300,"millis":0.3503,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":350400,"millis":0.3504,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":14607900,"millis":14.6079,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":2771700,"millis":2.7717,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1587600,"millis":1.5876,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1179300,"millis":1.1793,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":384100,"millis":0.3841,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":4318300,"millis":4.3183,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":5554000,"millis":5.554,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":155800,"millis":0.1558,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":331700,"millis":0.3317,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":3525200,"millis":3.5252,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\""}},{"result":{"nanos":3975000,"millis":3.975,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\""}},{"result":{"nanos":1242200,"millis":1.2422,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"QR\""}},{"result":{"nanos":106000,"millis":0.106,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":375806500,"millis":375.8065,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:08.424 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"215726aBcD\"},\"transaction\":{\"approvalNum\":633481,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":633481,\"rrn\":633481,\"dateTime\":\"20240205161500\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"27589584****2721\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":633481,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":633481},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.798 response time in milliseconds: 373\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 5eeb3fc5-cad1-43f1-9bf6-4a014dfb7368\n1 < x-amz-apigw-id: SrlqREz7oAMEKvg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-7f5a458b064a84b40f745b9f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: -uv3bE-9kOeEX6UUj9hP0TOGZ324ZCbjl8Kis1_di8eOyVs6sKidaQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"215726aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV563348163348120240205161500\",\"approvalNum\":\"633481\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"633481\",\"rrn\":\"633481\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"27589584****2721\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"633481\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"633481\"}}],\"status\":[{\"transactionId\":\"YTEUSCV563348163348120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n"},{"result":{"nanos":156600,"millis":0.1566,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":330100,"millis":0.3301,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":538500,"millis":0.5385,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":620700,"millis":0.6207,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":67,"description":"","durationMillis":438.7257,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167708357,"refId":"[1.16:67]","endTime":1707167708800,"exampleData":{"accountType":"CM","franchise":"T. PRIVADA","transactionType":"QR"},"exampleIndex":15},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4693600,"millis":4.6936,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:08.507 karate.env system property was: dev-adqui \n"},{"result":{"nanos":182900,"millis":0.1829,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":386600,"millis":0.3866,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":739900,"millis":0.7399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":477800,"millis":0.4778,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":304900,"millis":0.3049,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":236900,"millis":0.2369,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":235400,"millis":0.2354,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":916300,"millis":0.9163,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1026700,"millis":1.0267,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":278800,"millis":0.2788,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":486200,"millis":0.4862,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":7027900,"millis":7.0279,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1169400,"millis":1.1694,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":642300,"millis":0.6423,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":425000,"millis":0.425,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":317200,"millis":0.3172,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":92400,"millis":0.0924,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":97200,"millis":0.0972,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":202300,"millis":0.2023,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":748900,"millis":0.7489,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\""}},{"result":{"nanos":690200,"millis":0.6902,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\""}},{"result":{"nanos":627700,"millis":0.6277,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\""}},{"result":{"nanos":128100,"millis":0.1281,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":332621800,"millis":332.6218,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:08.534 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"631923aBcD\"},\"transaction\":{\"approvalNum\":987701,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":987701,\"rrn\":987701,\"dateTime\":\"20240205161500\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"44452631****7956\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":987701,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":987701},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.865 response time in milliseconds: 331\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 70c75b86-dee8-47d6-b0fc-4e0f5133a67b\n1 < x-amz-apigw-id: SrlqRFyFoAMEioQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-27256c1207056d573c858d3b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: fi16C_nwF94WtAusO-xEyGdDKEXL5m8oBrQAhUp3H9O5wVh-MSOEXw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"631923aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV598770198770120240205161500\",\"approvalNum\":\"987701\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"987701\",\"rrn\":\"987701\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"44452631****7956\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"987701\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"987701\"}}],\"status\":[{\"transactionId\":\"YTEUSCV598770198770120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n"},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":555800,"millis":0.5558,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1107000,"millis":1.107,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":2275100,"millis":2.2751,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":68,"description":"","durationMillis":358.7605,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167708506,"refId":"[1.17:68]","endTime":1707167708869,"exampleData":{"accountType":"CU","franchise":"T. CREDITO","transactionType":"PSP"},"exampleIndex":16},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4836700,"millis":4.8367,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:08.642 karate.env system property was: dev-adqui \n"},{"result":{"nanos":211100,"millis":0.2111,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":412300,"millis":0.4123,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":698700,"millis":0.6987,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":651500,"millis":0.6515,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":330800,"millis":0.3308,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":242900,"millis":0.2429,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":282400,"millis":0.2824,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1328600,"millis":1.3286,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1054200,"millis":1.0542,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":318600,"millis":0.3186,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":272900,"millis":0.2729,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":5371800,"millis":5.3718,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1012600,"millis":1.0126,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":519200,"millis":0.5192,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":728100,"millis":0.7281,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":728100,"millis":0.7281,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":139400,"millis":0.1394,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":116900,"millis":0.1169,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":308300,"millis":0.3083,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1156600,"millis":1.1566,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\""}},{"result":{"nanos":1976900,"millis":1.9769,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\""}},{"result":{"nanos":1224600,"millis":1.2246,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\""}},{"result":{"nanos":106400,"millis":0.1064,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":348296800,"millis":348.2968,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:08.670 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"249791aBcD\"},\"transaction\":{\"approvalNum\":475602,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":475602,\"rrn\":475602,\"dateTime\":\"20240205161500\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"31171816****8613\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":475602,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":475602},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.016 response time in milliseconds: 345\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 04b3f6c9-efce-4c98-86a0-f03a1a1f16be\n1 < x-amz-apigw-id: SrlqTFdvIAMErOQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-72e4390b7bb79a3f2c77f52f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c044357f15da715d4a1fab016bbf0008.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: yKZtxhf0mwMNggVc2sDPzRMrhHu9ULXCk7jJeiHW-uoEj7c0uR01xA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"249791aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV547560247560220240205161500\",\"approvalNum\":\"475602\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"475602\",\"rrn\":\"475602\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"31171816****8613\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"475602\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"475602\"}}],\"status\":[{\"transactionId\":\"YTEUSCV547560247560220240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n"},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":546200,"millis":0.5462,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":866900,"millis":0.8669,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":774300,"millis":0.7743,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":69,"description":"","durationMillis":374.5902,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167708641,"refId":"[1.18:69]","endTime":1707167709019,"exampleData":{"accountType":"LC","franchise":"T. EXITO","transactionType":"NODATA"},"exampleIndex":17},{"sectionIndex":0,"stepResults":[{"result":{"nanos":3623200,"millis":3.6232,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:08.757 karate.env system property was: dev-adqui \n"},{"result":{"nanos":499200,"millis":0.4992,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":608100,"millis":0.6081,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":761700,"millis":0.7617,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":552800,"millis":0.5528,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":423900,"millis":0.4239,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":328900,"millis":0.3289,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":238800,"millis":0.2388,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":8096000,"millis":8.096,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1969900,"millis":1.9699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":280800,"millis":0.2808,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":229200,"millis":0.2292,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":16497100,"millis":16.4971,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1207400,"millis":1.2074,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":899300,"millis":0.8993,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1517400,"millis":1.5174,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":948500,"millis":0.9485,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":425500,"millis":0.4255,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":682300,"millis":0.6823,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":641100,"millis":0.6411,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\""}},{"result":{"nanos":528700,"millis":0.5287,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\""}},{"result":{"nanos":941600,"millis":0.9416,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\""}},{"result":{"nanos":79100,"millis":0.0791,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":262243700,"millis":262.2437,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:08.803 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"516689aBcD\"},\"transaction\":{\"approvalNum\":147043,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":147043,\"rrn\":147043,\"dateTime\":\"20240205161500\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"72669986****6217\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":147043,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":147043},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.063 response time in milliseconds: 260\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 764\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 4bf88c55-7b2a-4ddf-a3eb-ed0123fc984a\n1 < x-amz-apigw-id: SrlqTE6PIAMEbSw=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-1fd507437ef19dd70e863832\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: PARvho38uTLgRcgCMC0Mconkf4qsXih38-1jWb6RBuqyxYD2oZob7A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"516689aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV514704314704320240205161500\",\"approvalNum\":\"147043\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"147043\",\"rrn\":\"147043\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"72669986****6217\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"147043\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"147043\"}}],\"status\":[{\"transactionId\":\"YTEUSCV514704314704320240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n"},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":513300,"millis":0.5133,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":850800,"millis":0.8508,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":803000,"millis":0.803,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":70,"description":"","durationMillis":306.5162,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167708756,"refId":"[1.19:70]","endTime":1707167709066,"exampleData":{"accountType":"MD","franchise":"C.M.R","transactionType":"VENTA"},"exampleIndex":18},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20925200,"millis":20.9252,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:08.807 karate.env system property was: dev-adqui \n"},{"result":{"nanos":199200,"millis":0.1992,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":2409200,"millis":2.4092,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1376000,"millis":1.376,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":460900,"millis":0.4609,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":265700,"millis":0.2657,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1857400,"millis":1.8574,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":335600,"millis":0.3356,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1331600,"millis":1.3316,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1683300,"millis":1.6833,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":340100,"millis":0.3401,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":206600,"millis":0.2066,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":73581800,"millis":73.5818,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":8418300,"millis":8.4183,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":39474300,"millis":39.4743,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":5143400,"millis":5.1434,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":2222700,"millis":2.2227,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":101100,"millis":0.1011,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":6266800,"millis":6.2668,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":354900,"millis":0.3549,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":1374700,"millis":1.3747,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":813900,"millis":0.8139,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\""}},{"result":{"nanos":504100,"millis":0.5041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\""}},{"result":{"nanos":492700,"millis":0.4927,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\""}},{"result":{"nanos":72400,"millis":0.0724,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":273552300,"millis":273.5523,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:08.984 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"62322aBcD\"},\"transaction\":{\"approvalNum\":162405,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":162405,\"rrn\":162405,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"37185167****8835\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":162405,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":162405},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.255 response time in milliseconds: 271\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 4df3b11f-1999-4148-851d-435209466009\n1 < x-amz-apigw-id: SrlqVEENIAMEjSA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-7dc26a39587aee4e79001ecf\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: pupwxgKfQ9oBJxEHicnSwE9NUeydm-30877T8mp3LwqUoOY-wP-1XA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"62322aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV516240516240520240205161500\",\"approvalNum\":\"162405\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"162405\",\"rrn\":\"162405\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"37185167****8835\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"162405\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"162405\"}}],\"status\":[{\"transactionId\":\"YTEUSCV516240516240520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n"},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":685100,"millis":0.6851,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":380700,"millis":0.3807,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":165700,"millis":0.1657,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":71,"description":"","durationMillis":445.0094,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167708804,"refId":"[1.20:71]","endTime":1707167709257,"exampleData":{"accountType":"AM","franchise":"TARL TCO","transactionType":"LEALTAD"},"exampleIndex":19},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4527600,"millis":4.5276,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:08.877 karate.env system property was: dev-adqui \n"},{"result":{"nanos":217800,"millis":0.2178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1066200,"millis":1.0662,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1411300,"millis":1.4113,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":869100,"millis":0.8691,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":335900,"millis":0.3359,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":311900,"millis":0.3119,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":487500,"millis":0.4875,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1156600,"millis":1.1566,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":2164900,"millis":2.1649,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":298000,"millis":0.298,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":265900,"millis":0.2659,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":14806300,"millis":14.8063,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":2829900,"millis":2.8299,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":38607300,"millis":38.6073,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":2333400,"millis":2.3334,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":2493700,"millis":2.4937,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":78300,"millis":0.0783,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":557300,"millis":0.5573,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":1194200,"millis":1.1942,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":22919800,"millis":22.9198,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":985900,"millis":0.9859,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\""}},{"result":{"nanos":4423800,"millis":4.4238,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\""}},{"result":{"nanos":3047800,"millis":3.0478,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\""}},{"result":{"nanos":100400,"millis":0.1004,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":407740100,"millis":407.7401,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:08.995 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"287838aBcD\"},\"transaction\":{\"approvalNum\":959107,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":959107,\"rrn\":959107,\"dateTime\":\"20240205161500\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"20257776****5683\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":959107,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":959107},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.396 response time in milliseconds: 401\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 0f201a2e-0763-4630-bc0f-2ef63effbd08\n1 < x-amz-apigw-id: SrlqXGMaoAMEtZg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-20c581685ece110e5dbcec60\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: PKXAQo0KkWR0YhVTlfGZ8Sac3UBBpC1hX4VyKHwcc0qMjl681_obwg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"287838aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV595910795910720240205161500\",\"approvalNum\":\"959107\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"959107\",\"rrn\":\"959107\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"20257776****5683\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"959107\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"959107\"}}],\"status\":[{\"transactionId\":\"YTEUSCV595910795910720240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n"},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":694000,"millis":0.694,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":322900,"millis":0.3229,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":195000,"millis":0.195,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":72,"description":"","durationMillis":516.4652,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167708872,"refId":"[1.21:72]","endTime":1707167709398,"exampleData":{"accountType":"NC","franchise":"PRIVADA","transactionType":"PUNTOS COLOMBIA"},"exampleIndex":20},{"sectionIndex":0,"stepResults":[{"result":{"nanos":157565900,"millis":157.5659,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:09.026 karate.env system property was: dev-adqui \n"},{"result":{"nanos":330600,"millis":0.3306,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1092400,"millis":1.0924,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1038700,"millis":1.0387,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":411500,"millis":0.4115,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":250100,"millis":0.2501,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1062100,"millis":1.0621,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":223200,"millis":0.2232,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":717600,"millis":0.7176,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1341600,"millis":1.3416,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":294100,"millis":0.2941,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":224600,"millis":0.2246,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":23726100,"millis":23.7261,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1011000,"millis":1.011,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1374800,"millis":1.3748,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1175300,"millis":1.1753,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1901600,"millis":1.9016,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":693700,"millis":0.6937,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":258500,"millis":0.2585,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":5802000,"millis":5.802,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":976400,"millis":0.9764,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\""}},{"result":{"nanos":612800,"millis":0.6128,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\""}},{"result":{"nanos":885900,"millis":0.8859,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\""}},{"result":{"nanos":125300,"millis":0.1253,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":232961200,"millis":232.9612,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:09.234 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"363080aBcD\"},\"transaction\":{\"approvalNum\":777028,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":777028,\"rrn\":777028,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"64407249****1785\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":777028,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":777028},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.465 response time in milliseconds: 230\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: cdb4f348-0530-4f6c-ab67-df702632b252\n1 < x-amz-apigw-id: SrlqXGvnoAMEUog=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-39d06ad50ade64b65e1a2725\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: pXae_bowG8sJtKsKsW2-GczEDMeEqZv5hk-QVapbZqIeWNOw_tV3-w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"363080aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV577702877702820240205161500\",\"approvalNum\":\"777028\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"777028\",\"rrn\":\"777028\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"64407249****1785\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"777028\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"777028\"}}],\"status\":[{\"transactionId\":\"YTEUSCV577702877702820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n"},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":516600,"millis":0.5166,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":344600,"millis":0.3446,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":205000,"millis":0.205,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":73,"description":"","durationMillis":437.2008,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167709023,"refId":"[1.22:73]","endTime":1707167709466,"exampleData":{"accountType":"-","franchise":"CREDITOPR","transactionType":"LEALTADPLUS"},"exampleIndex":21},{"sectionIndex":0,"stepResults":[{"result":{"nanos":108770000,"millis":108.77,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:09.075 karate.env system property was: dev-adqui \n"},{"result":{"nanos":196700,"millis":0.1967,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":650200,"millis":0.6502,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1038600,"millis":1.0386,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":392000,"millis":0.392,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":435400,"millis":0.4354,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":259000,"millis":0.259,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":292900,"millis":0.2929,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":915600,"millis":0.9156,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1036000,"millis":1.036,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":529300,"millis":0.5293,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":310000,"millis":0.31,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":19819800,"millis":19.8198,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":689400,"millis":0.6894,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":702000,"millis":0.702,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":384500,"millis":0.3845,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":387100,"millis":0.3871,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":89400,"millis":0.0894,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":226800,"millis":0.2268,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":2097500,"millis":2.0975,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":762800,"millis":0.7628,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\""}},{"result":{"nanos":597200,"millis":0.5972,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\""}},{"result":{"nanos":77900,"millis":0.0779,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":263629800,"millis":263.6298,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:09.223 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"891647aBcD\"},\"transaction\":{\"approvalNum\":854628,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":854628,\"rrn\":854628,\"dateTime\":\"20240205161500\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"57512960****4705\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":854628,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":854628},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.483 response time in milliseconds: 259\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 2f666dbf-38ae-450f-acc3-226949dbe282\n1 < x-amz-apigw-id: SrlqXEbaIAMEvPg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-72b5fcda379c62cf5cae1b81\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: EHBBBCm4YZV7KHb9vxdA7URW22FGgvzuUwGDsroKvbfhEzNs5xlHgQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"891647aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV585462885462820240205161500\",\"approvalNum\":\"854628\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"854628\",\"rrn\":\"854628\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"57512960****4705\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"854628\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"854628\"}}],\"status\":[{\"transactionId\":\"YTEUSCV585462885462820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n"},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":558600,"millis":0.5586,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":323200,"millis":0.3232,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":188600,"millis":0.1886,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":74,"description":"","durationMillis":405.4733,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167709072,"refId":"[1.23:74]","endTime":1707167709484,"exampleData":{"accountType":"AH","franchise":"BONO CODEN","transactionType":"T. PRIVADA"},"exampleIndex":22},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39955700,"millis":39.9557,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:09.261 karate.env system property was: dev-adqui \n"},{"result":{"nanos":224500,"millis":0.2245,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":3003100,"millis":3.0031,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1499000,"millis":1.499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":1139200,"millis":1.1392,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":472600,"millis":0.4726,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1079400,"millis":1.0794,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":300600,"millis":0.3006,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":859000,"millis":0.859,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1000200,"millis":1.0002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":236000,"millis":0.236,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":344000,"millis":0.344,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":14815800,"millis":14.8158,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":846100,"millis":0.8461,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":378100,"millis":0.3781,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":358200,"millis":0.3582,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":238500,"millis":0.2385,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":177500,"millis":0.1775,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":7148100,"millis":7.1481,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":7082800,"millis":7.0828,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\""}},{"result":{"nanos":5517900,"millis":5.5179,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\""}},{"result":{"nanos":154600,"millis":0.1546,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":380010800,"millis":380.0108,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:09.366 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"546697aBcD\"},\"transaction\":{\"approvalNum\":675965,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":675965,\"rrn\":675965,\"dateTime\":\"20240205161500\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"11299440****5897\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":675965,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":675965},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.732 response time in milliseconds: 366\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 398657a2-104f-4f17-acc0-fc36af53eeec\n1 < x-amz-apigw-id: SrlqaF9moAMEEYQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-27cbabcf228a6ec74ed77a5e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: lGXEeckW0E2_HjW1_G2h4RWfL0MK6mH9NHJgQuvyblwACRfDZBaJkQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"546697aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV567596567596520240205161500\",\"approvalNum\":\"675965\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"675965\",\"rrn\":\"675965\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"11299440****5897\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"675965\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"675965\"}}],\"status\":[{\"transactionId\":\"YTEUSCV567596567596520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n"},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":354700,"millis":0.3547,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":226600,"millis":0.2266,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":141800,"millis":0.1418,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":75,"description":"","durationMillis":467.7145,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167709260,"refId":"[1.24:75]","endTime":1707167709733,"exampleData":{"accountType":"CC","franchise":"BONOS","transactionType":"TOTAL BONOS"},"exampleIndex":23},{"sectionIndex":0,"stepResults":[{"result":{"nanos":166568700,"millis":166.5687,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:09.404 karate.env system property was: dev-adqui \n"},{"result":{"nanos":431900,"millis":0.4319,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1604800,"millis":1.6048,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1139400,"millis":1.1394,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":357000,"millis":0.357,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":1239300,"millis":1.2393,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":14591200,"millis":14.5912,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":920400,"millis":0.9204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":2096900,"millis":2.0969,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":922800,"millis":0.9228,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":251600,"millis":0.2516,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":389500,"millis":0.3895,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":6302600,"millis":6.3026,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":585900,"millis":0.5859,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":325400,"millis":0.3254,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":359800,"millis":0.3598,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":269900,"millis":0.2699,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":171500,"millis":0.1715,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":891500,"millis":0.8915,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":1129500,"millis":1.1295,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\""}},{"result":{"nanos":600600,"millis":0.6006,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\""}},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":265315700,"millis":265.3157,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:09.647 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"858239aBcD\"},\"transaction\":{\"approvalNum\":264251,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":264251,\"rrn\":264251,\"dateTime\":\"20240205161500\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"68087478****1890\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":264251,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":264251},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.910 response time in milliseconds: 263\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: a6cfb6b8-9d77-4049-9c49-87611cabe1dc\n1 < x-amz-apigw-id: SrlqcG1YIAMEIOA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-09cc596d5bd6de645a4eeae0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: xC7uoI7FcFOpubyLTYyKCOsvlkEWtt05j0a9E4Koc29kyE-1j2YZLg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"858239aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV526425126425120240205161500\",\"approvalNum\":\"264251\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"264251\",\"rrn\":\"264251\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"68087478****1890\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"264251\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"264251\"}}],\"status\":[{\"transactionId\":\"YTEUSCV526425126425120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n"},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":509100,"millis":0.5091,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":257900,"millis":0.2579,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":250900,"millis":0.2509,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":76,"description":"","durationMillis":467.7383,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167709403,"refId":"[1.25:76]","endTime":1707167709912,"exampleData":{"accountType":"CR","franchise":"SODEXO","transactionType":"BONOS RECARGABLES"},"exampleIndex":24},{"sectionIndex":0,"stepResults":[{"result":{"nanos":180337400,"millis":180.3374,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:09.471 karate.env system property was: dev-adqui \n"},{"result":{"nanos":177600,"millis":0.1776,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":373100,"millis":0.3731,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":623700,"millis":0.6237,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":369800,"millis":0.3698,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":180700,"millis":0.1807,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":231900,"millis":0.2319,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":183600,"millis":0.1836,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":741800,"millis":0.7418,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":616400,"millis":0.6164,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":192900,"millis":0.1929,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":170500,"millis":0.1705,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":5458900,"millis":5.4589,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1068400,"millis":1.0684,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":423700,"millis":0.4237,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":291400,"millis":0.2914,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":244400,"millis":0.2444,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":59800,"millis":0.0598,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":629700,"millis":0.6297,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1110200,"millis":1.1102,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\""}},{"result":{"nanos":792800,"millis":0.7928,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\""}},{"result":{"nanos":536400,"millis":0.5364,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\""}},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":370378300,"millis":370.3783,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:09.670 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2800\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"368283aBcD\"},\"transaction\":{\"approvalNum\":382657,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":382657,\"rrn\":382657,\"dateTime\":\"20240205161500\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"35143473****2972\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":382657,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":382657},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.037 response time in milliseconds: 367\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 765\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: cf054c3f-cea4-4a57-81d8-7c203b7d114a\n1 < x-amz-apigw-id: SrlqdEL2oAMEVSg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-22d0dcc31a3fb4bd7ea8450f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: BSVz968qUa3kalZaOMY7fkuzjRn7P4Dxrqvg5zx32UARW3Im-POASA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"368283aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV538265738265720240205161500\",\"approvalNum\":\"382657\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"382657\",\"rrn\":\"382657\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"35143473****2972\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"382657\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"382657\"}}],\"status\":[{\"transactionId\":\"YTEUSCV538265738265720240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n"},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":324800,"millis":0.3248,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":206100,"millis":0.2061,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":103700,"millis":0.1037,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":77,"description":"","durationMillis":565.9898,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167709470,"refId":"[1.26:77]","endTime":1707167710039,"exampleData":{"accountType":"LT","franchise":"BIG PASS","transactionType":"PCR"},"exampleIndex":25},{"sectionIndex":0,"stepResults":[{"result":{"nanos":89383400,"millis":89.3834,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:09.488 karate.env system property was: dev-adqui \n"},{"result":{"nanos":471300,"millis":0.4713,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":440400,"millis":0.4404,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":737200,"millis":0.7372,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":611500,"millis":0.6115,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":391300,"millis":0.3913,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":209600,"millis":0.2096,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":215000,"millis":0.215,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":822200,"millis":0.8222,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":762600,"millis":0.7626,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":242500,"millis":0.2425,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":196100,"millis":0.1961,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":27962900,"millis":27.9629,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":658100,"millis":0.6581,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":318500,"millis":0.3185,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":270200,"millis":0.2702,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":275600,"millis":0.2756,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":185200,"millis":0.1852,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1042500,"millis":1.0425,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\""}},{"result":{"nanos":743000,"millis":0.743,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\""}},{"result":{"nanos":533600,"millis":0.5336,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\""}},{"result":{"nanos":71300,"millis":0.0713,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":385090000,"millis":385.09,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:09.619 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"54817aBcD\"},\"transaction\":{\"approvalNum\":820018,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":820018,\"rrn\":820018,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"60272471****5829\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":820018,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":820018},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.002 response time in milliseconds: 383\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 778\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: f3fac3d5-8e3d-41ed-81e3-540d4a81f174\n1 < x-amz-apigw-id: SrlqdH9mIAMEjoQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-0669e5245ee9bb8e74040243\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: N8J34-9w2hgEW5cRjRJUfXFhSqdXMf6980eZqz8cZBlBT9FC3EJC1g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"54817aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV582001882001820240205161500\",\"approvalNum\":\"820018\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"820018\",\"rrn\":\"820018\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"60272471****5829\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"820018\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"820018\"}}],\"status\":[{\"transactionId\":\"YTEUSCV582001882001820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n"},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":391500,"millis":0.3915,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":212000,"millis":0.212,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":188100,"millis":0.1881,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":78,"description":"","durationMillis":512.5808,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167709487,"refId":"[1.27:78]","endTime":1707167710003,"exampleData":{"accountType":"CM","franchise":"BTERA.OTP","transactionType":"RECARGA EFECTIVO"},"exampleIndex":26},{"sectionIndex":0,"stepResults":[{"result":{"nanos":12230300,"millis":12.2303,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:09.737 karate.env system property was: dev-adqui \n"},{"result":{"nanos":194300,"millis":0.1943,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":346600,"millis":0.3466,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":3690100,"millis":3.6901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":494900,"millis":0.4949,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":3157800,"millis":3.1578,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":394000,"millis":0.394,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":180700,"millis":0.1807,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1288600,"millis":1.2886,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1382400,"millis":1.3824,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":290000,"millis":0.29,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":196600,"millis":0.1966,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":11305600,"millis":11.3056,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":511900,"millis":0.5119,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":429000,"millis":0.429,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":243600,"millis":0.2436,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1468500,"millis":1.4685,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":52200,"millis":0.0522,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":1812500,"millis":1.8125,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":2134900,"millis":2.1349,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\""}},{"result":{"nanos":1577600,"millis":1.5776,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\""}},{"result":{"nanos":936000,"millis":0.936,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\""}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":344395200,"millis":344.3952,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:09.790 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"343625aBcD\"},\"transaction\":{\"approvalNum\":143358,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":143358,\"rrn\":143358,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"33674921****5448\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":143358,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":143358},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.129 response time in milliseconds: 339\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: db09dd93-f433-49be-af5b-98bf43ce909e\n1 < x-amz-apigw-id: SrlqeHhUoAMEdfQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-075226175ee10f094cff4653\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: U0hgrrkqmzGR-E41ywZfL-1TXyrkVhN-xbZ7Bi51DUhfHrl_13sTMg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"343625aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV514335814335820240205161500\",\"approvalNum\":\"143358\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"143358\",\"rrn\":\"143358\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"33674921****5448\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"143358\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"143358\"}}],\"status\":[{\"transactionId\":\"YTEUSCV514335814335820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":701600,"millis":0.7016,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":224300,"millis":0.2243,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":230500,"millis":0.2305,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":79,"description":"","durationMillis":390.0849,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167709737,"refId":"[1.28:79]","endTime":1707167710134,"exampleData":{"accountType":"CU","franchise":"PTOSCOLMB","transactionType":"RECARGAS"},"exampleIndex":27},{"sectionIndex":0,"stepResults":[{"result":{"nanos":7599200,"millis":7.5992,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:09.916 karate.env system property was: dev-adqui \n"},{"result":{"nanos":747400,"millis":0.7474,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1457500,"millis":1.4575,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":3739300,"millis":3.7393,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":518200,"millis":0.5182,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":238100,"millis":0.2381,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":163900,"millis":0.1639,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":1221700,"millis":1.2217,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":5591300,"millis":5.5913,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":950600,"millis":0.9506,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":199200,"millis":0.1992,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":158700,"millis":0.1587,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":10503500,"millis":10.5035,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":550900,"millis":0.5509,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":292100,"millis":0.2921,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":232700,"millis":0.2327,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":226200,"millis":0.2262,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":185300,"millis":0.1853,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":955600,"millis":0.9556,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\""}},{"result":{"nanos":720700,"millis":0.7207,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\""}},{"result":{"nanos":572100,"millis":0.5721,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\""}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":245028800,"millis":245.0288,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:09.958 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"948892aBcD\"},\"transaction\":{\"approvalNum\":598174,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":598174,\"rrn\":598174,\"dateTime\":\"20240205161500\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"98799911****3871\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":598174,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":598174},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.199 response time in milliseconds: 241\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: c0d2bdcc-f90f-446f-97a7-f5a5ff7640d6\n1 < x-amz-apigw-id: SrlqfEe6oAMEgrQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-0d6b9b3c30efcdc4400e3363\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 4ctFinsD8kApwECP6Dj-PJbpIjD4nUBlPmeYZo7tjDn2I2i9mrS90A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"948892aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV559817459817420240205161500\",\"approvalNum\":\"598174\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"598174\",\"rrn\":\"598174\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"98799911****3871\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"598174\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"598174\"}}],\"status\":[{\"transactionId\":\"YTEUSCV559817459817420240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n"},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":669400,"millis":0.6694,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":794000,"millis":0.794,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":175500,"millis":0.1755,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":80,"description":"","durationMillis":283.699,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167709916,"refId":"[1.29:80]","endTime":1707167710202,"exampleData":{"accountType":"BE","franchise":"LIFEMILES","transactionType":"EFECTIVO"},"exampleIndex":28},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16947800,"millis":16.9478,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:10.007 karate.env system property was: dev-adqui \n"},{"result":{"nanos":177300,"millis":0.1773,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":344700,"millis":0.3447,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":636900,"millis":0.6369,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":376800,"millis":0.3768,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":180400,"millis":0.1804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":166500,"millis":0.1665,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":141300,"millis":0.1413,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":784400,"millis":0.7844,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":654300,"millis":0.6543,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":170300,"millis":0.1703,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":153700,"millis":0.1537,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":4596200,"millis":4.5962,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":529800,"millis":0.5298,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":272000,"millis":0.272,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":237700,"millis":0.2377,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":196900,"millis":0.1969,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":291500,"millis":0.2915,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1051000,"millis":1.051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\""}},{"result":{"nanos":660200,"millis":0.6602,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\""}},{"result":{"nanos":474600,"millis":0.4746,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\""}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":337884300,"millis":337.8843,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:10.041 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"93851aBcD\"},\"transaction\":{\"approvalNum\":876053,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":876053,\"rrn\":876053,\"dateTime\":\"20240205161500\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"79802828****8734\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":876053,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":876053},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.375 response time in milliseconds: 334\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: 626d6c45-1389-440c-a324-6a8f871e2f0e\n1 < x-amz-apigw-id: SrlqhFCOoAMEfyw=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-2aae4a626657c97a077f6298\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 94Ht8G-uQbWsiBFDOQPOylG9h06-e0NsoBFRykgwlhMg77FH2Q9EyA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"93851aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV587605387605320240205161500\",\"approvalNum\":\"876053\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"876053\",\"rrn\":\"876053\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"79802828****8734\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"876053\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"876053\"}}],\"status\":[{\"transactionId\":\"YTEUSCV587605387605320240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n"},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":695000,"millis":0.695,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1174900,"millis":1.1749,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":1893700,"millis":1.8937,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":81,"description":"","durationMillis":370.8898,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167710007,"refId":"[1.30:81]","endTime":1707167710380,"exampleData":{"accountType":"RT","franchise":"MASTER DEBI","transactionType":"IMPUESTOS"},"exampleIndex":29},{"sectionIndex":0,"stepResults":[{"result":{"nanos":3669600,"millis":3.6696,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:10.043 karate.env system property was: dev-adqui \n"},{"result":{"nanos":173400,"millis":0.1734,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":369100,"millis":0.3691,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":660300,"millis":0.6603,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":327900,"millis":0.3279,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":195300,"millis":0.1953,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":148600,"millis":0.1486,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":133600,"millis":0.1336,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1006800,"millis":1.0068,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":967900,"millis":0.9679,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":247500,"millis":0.2475,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":176800,"millis":0.1768,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":4552800,"millis":4.5528,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":471800,"millis":0.4718,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":501600,"millis":0.5016,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":314500,"millis":0.3145,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":212300,"millis":0.2123,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":162600,"millis":0.1626,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":810300,"millis":0.8103,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\""}},{"result":{"nanos":729200,"millis":0.7292,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\""}},{"result":{"nanos":508800,"millis":0.5088,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\""}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":379335600,"millis":379.3356,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:10.064 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"91958aBcD\"},\"transaction\":{\"approvalNum\":753660,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":753660,\"rrn\":753660,\"dateTime\":\"20240205161500\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"12604523****8067\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":753660,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":753660},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.439 response time in milliseconds: 375\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 764\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: a0171c8b-64b3-40ba-893b-b592020289c1\n1 < x-amz-apigw-id: SrlqhFvfoAMElcA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-39915dcc7ec6d44110bca2db\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: -Yb-DRnWgdDgvZp2w4pDDn3DmjdYAUgtAeM0irfthNouHk4y8qAYTg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"91958aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV575366075366020240205161500\",\"approvalNum\":\"753660\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"753660\",\"rrn\":\"753660\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"12604523****8067\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"753660\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"753660\"}}],\"status\":[{\"transactionId\":\"YTEUSCV575366075366020240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n"},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":815800,"millis":0.8158,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":839000,"millis":0.839,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":898100,"millis":0.8981,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":82,"description":"","durationMillis":398.4401,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167710042,"refId":"[1.31:82]","endTime":1707167710443,"exampleData":{"accountType":"RG","franchise":"MASTER","transactionType":"WIZEO"},"exampleIndex":30},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4109000,"millis":4.109,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:10.139 karate.env system property was: dev-adqui \n"},{"result":{"nanos":245900,"millis":0.2459,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":426400,"millis":0.4264,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":2982500,"millis":2.9825,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":410700,"millis":0.4107,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":191000,"millis":0.191,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":209300,"millis":0.2093,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":346000,"millis":0.346,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":907600,"millis":0.9076,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":2887200,"millis":2.8872,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":366000,"millis":0.366,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":231800,"millis":0.2318,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":9149400,"millis":9.1494,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":513300,"millis":0.5133,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":997100,"millis":0.9971,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":2818800,"millis":2.8188,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":311600,"millis":0.3116,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":166800,"millis":0.1668,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":947500,"millis":0.9475,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\""}},{"result":{"nanos":648900,"millis":0.6489,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\""}},{"result":{"nanos":574900,"millis":0.5749,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\""}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":398599900,"millis":398.5999,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:10.173 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"512028aBcD\"},\"transaction\":{\"approvalNum\":997412,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":997412,\"rrn\":997412,\"dateTime\":\"20240205161500\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"67362513****1135\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":997412,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":997412},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.569 response time in milliseconds: 396\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 764\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: a408f659-fb4e-430f-8664-da4d6c80271f\n1 < x-amz-apigw-id: SrlqiGAkoAMEiYQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-3aee1c506a0d77f638178186\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: i_3mOltvt2JA8K5wYkW_vuMxMNmzok6SGCiEqDinoWli0J_GCOcMqw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"512028aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV599741299741220240205161500\",\"approvalNum\":\"997412\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"997412\",\"rrn\":\"997412\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"67362513****1135\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"997412\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"997412\"}}],\"status\":[{\"transactionId\":\"YTEUSCV599741299741220240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n"},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":863700,"millis":0.8637,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":812800,"millis":0.8128,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":706200,"millis":0.7062,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":83,"description":"","durationMillis":430.6439,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167710138,"refId":"[1.32:83]","endTime":1707167710572,"exampleData":{"accountType":"DS","franchise":"MASTERD","transactionType":"OPS"},"exampleIndex":31},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21195900,"millis":21.1959,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:10.214 karate.env system property was: dev-adqui \n"},{"result":{"nanos":246500,"millis":0.2465,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":2221200,"millis":2.2212,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":2231100,"millis":2.2311,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":413900,"millis":0.4139,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":245400,"millis":0.2454,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":228200,"millis":0.2282,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":172800,"millis":0.1728,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1146300,"millis":1.1463,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1687500,"millis":1.6875,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":155300,"millis":0.1553,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":122400,"millis":0.1224,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":17237200,"millis":17.2372,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1259700,"millis":1.2597,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":2128800,"millis":2.1288,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":2258700,"millis":2.2587,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1182200,"millis":1.1822,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":78000,"millis":0.078,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":485600,"millis":0.4856,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":75000,"millis":0.075,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":753200,"millis":0.7532,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":571000,"millis":0.571,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\""}},{"result":{"nanos":478200,"millis":0.4782,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\""}},{"result":{"nanos":5120600,"millis":5.1206,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"QR\""}},{"result":{"nanos":103200,"millis":0.1032,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":336013600,"millis":336.0136,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:10.283 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"622169aBcD\"},\"transaction\":{\"approvalNum\":376444,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":376444,\"rrn\":376444,\"dateTime\":\"20240205161500\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"47009481****2709\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":376444,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":376444},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.614 response time in milliseconds: 331\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: f83f1a3d-cda0-429d-99f6-184a161cbfc4\n1 < x-amz-apigw-id: SrlqjFtXIAMEv3Q=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-40f75016142ee39a029a4058\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: UHFl_JQBalCbPNdX871smXkULnvFpWN6L4uTubYc8qp7MhC2gASjXg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"622169aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV537644437644420240205161500\",\"approvalNum\":\"376444\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"376444\",\"rrn\":\"376444\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"47009481****2709\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"376444\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"376444\"}}],\"status\":[{\"transactionId\":\"YTEUSCV537644437644420240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n"},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":318300,"millis":0.3183,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":383500,"millis":0.3835,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":423700,"millis":0.4237,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":84,"description":"","durationMillis":398.9473,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167710207,"refId":"[1.33:84]","endTime":1707167710617,"exampleData":{"accountType":"BC","franchise":"MASTER DEB","transactionType":"QR"},"exampleIndex":32},{"sectionIndex":0,"stepResults":[{"result":{"nanos":6292300,"millis":6.2923,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:10.388 karate.env system property was: dev-adqui \n"},{"result":{"nanos":329600,"millis":0.3296,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1348400,"millis":1.3484,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1187200,"millis":1.1872,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":365900,"millis":0.3659,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":247700,"millis":0.2477,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":204300,"millis":0.2043,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":153900,"millis":0.1539,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":801500,"millis":0.8015,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1341300,"millis":1.3413,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":200900,"millis":0.2009,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":161400,"millis":0.1614,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":11806500,"millis":11.8065,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":995000,"millis":0.995,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":572300,"millis":0.5723,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":459200,"millis":0.4592,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":619000,"millis":0.619,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":275400,"millis":0.2754,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":524100,"millis":0.5241,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":507900,"millis":0.5079,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\""}},{"result":{"nanos":450200,"millis":0.4502,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\""}},{"result":{"nanos":897100,"millis":0.8971,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\""}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":377706600,"millis":377.7066,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:10.423 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"258999aBcD\"},\"transaction\":{\"approvalNum\":467679,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":467679,\"rrn\":467679,\"dateTime\":\"20240205161500\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"49049981****9648\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":467679,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":467679},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.797 response time in milliseconds: 374\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:09 GMT\n1 < x-amzn-RequestId: ca332483-44ab-418b-be07-c17d235507af\n1 < x-amz-apigw-id: SrlqlGQDIAMEoWQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdd-78358c2b0c5cad8e7322f9f2\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: kBwtSDXq5lwK_b8nnUOP1ndXE48hAlQs9z9Ld_-G4uYdk9n-2t4Nsg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"258999aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV546767946767920240205161500\",\"approvalNum\":\"467679\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"467679\",\"rrn\":\"467679\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"49049981****9648\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"467679\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"467679\"}}],\"status\":[{\"transactionId\":\"YTEUSCV546767946767920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161509\"}]}\n\n"},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":532100,"millis":0.5321,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":238200,"millis":0.2382,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":124600,"millis":0.1246,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":85,"description":"","durationMillis":408.5163,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167710385,"refId":"[1.34:85]","endTime":1707167710799,"exampleData":{"accountType":"BD","franchise":"MASTER DEBIT","transactionType":"LIFEMILES"},"exampleIndex":33},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4854400,"millis":4.8544,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:10.450 karate.env system property was: dev-adqui \n"},{"result":{"nanos":274200,"millis":0.2742,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1344600,"millis":1.3446,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1267400,"millis":1.2674,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":378200,"millis":0.3782,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":251900,"millis":0.2519,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":186400,"millis":0.1864,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":184000,"millis":0.184,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1076400,"millis":1.0764,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1315900,"millis":1.3159,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":192600,"millis":0.1926,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":180900,"millis":0.1809,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":8778700,"millis":8.7787,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1289900,"millis":1.2899,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":748500,"millis":0.7485,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":558100,"millis":0.5581,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":669200,"millis":0.6692,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":261500,"millis":0.2615,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":1563100,"millis":1.5631,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":2255600,"millis":2.2556,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\""}},{"result":{"nanos":770900,"millis":0.7709,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\""}},{"result":{"nanos":410200,"millis":0.4102,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\""}},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":328245400,"millis":328.2454,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:10.485 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2796\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"542281aBcD\"},\"transaction\":{\"approvalNum\":778585,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":778585,\"rrn\":778585,\"dateTime\":\"20240205161500\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"57096006****4263\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":778585,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":778585},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.810 response time in milliseconds: 325\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 761\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:09 GMT\n1 < x-amzn-RequestId: 9093a5db-61a2-45b1-a612-d4c7c503285d\n1 < x-amz-apigw-id: SrlqlGQNoAMEoWQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdd-4812fb12085f0d2608168aa5\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: JunR7oLyQJ5xflfeHry-e4MgzdTyjy9Stsi38tWggs-_nPLqO9NzcA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"542281aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV577858577858520240205161500\",\"approvalNum\":\"778585\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"778585\",\"rrn\":\"778585\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"57096006****4263\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"778585\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"778585\"}}],\"status\":[{\"transactionId\":\"YTEUSCV577858577858520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161509\"}]}\n\n"},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":623400,"millis":0.6234,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":285000,"millis":0.285,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":142600,"millis":0.1426,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":86,"description":"","durationMillis":358.2945,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167710447,"refId":"[1.35:86]","endTime":1707167710812,"exampleData":{"accountType":"SP","franchise":"VISA","transactionType":"PSP"},"exampleIndex":34},{"sectionIndex":0,"stepResults":[{"result":{"nanos":3410200,"millis":3.4102,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:10.581 karate.env system property was: dev-adqui \n"},{"result":{"nanos":168600,"millis":0.1686,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":882500,"millis":0.8825,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1060500,"millis":1.0605,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":289000,"millis":0.289,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":143900,"millis":0.1439,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":111800,"millis":0.1118,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":113800,"millis":0.1138,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":647400,"millis":0.6474,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":975700,"millis":0.9757,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":136700,"millis":0.1367,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":123800,"millis":0.1238,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":23621400,"millis":23.6214,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1129800,"millis":1.1298,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":779400,"millis":0.7794,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":529900,"millis":0.5299,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":698100,"millis":0.6981,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":230600,"millis":0.2306,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":50600,"millis":0.0506,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":531500,"millis":0.5315,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":781600,"millis":0.7816,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":424200,"millis":0.4242,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\""}},{"result":{"nanos":541000,"millis":0.541,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\""}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":236502400,"millis":236.5024,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:10.622 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"223024aBcD\"},\"transaction\":{\"approvalNum\":371339,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":371339,\"rrn\":371339,\"dateTime\":\"20240205161500\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"57393820****8191\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":371339,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":371339},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.856 response time in milliseconds: 234\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:09 GMT\n1 < x-amzn-RequestId: 49bd64f4-3fc0-4a8c-8ee3-9eb584248ef1\n1 < x-amz-apigw-id: SrlqlGEKIAMETXA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdd-05d9971c2b58ca2933fb6d59\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: amUdyYjAL0cw4WZHG8vW414U6087bS_rNVjMXifRNCJvLKkr7pfy6w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"223024aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV537133937133920240205161500\",\"approvalNum\":\"371339\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"371339\",\"rrn\":\"371339\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"57393820****8191\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"371339\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"371339\"}}],\"status\":[{\"transactionId\":\"YTEUSCV537133937133920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161509\"}]}\n\n"},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":334600,"millis":0.3346,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":304300,"millis":0.3043,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":128800,"millis":0.1288,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":87,"description":"","durationMillis":274.7698,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167710577,"refId":"[1.36:87]","endTime":1707167710857,"exampleData":{"accountType":"00","franchise":"DINERS","transactionType":"NODATA"},"exampleIndex":35}],"callDepth":0,"name":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","description":"","resultDate":"2024-02-05 04:15:10 p. m.","durationMillis":19440.043,"passedCount":36}