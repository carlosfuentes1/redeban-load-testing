[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":30137900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:04.285 karate.env system property was: dev-adqui \n16:15:05.759 this thread waited 1461 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":715500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":15929300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":103812500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":7782700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":1532300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1018500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":5833400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":17230500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":3968600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":643400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":8586000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":640390000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2463000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1376600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":4809200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":52,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1397900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":243500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":677300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":150500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":10894400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":3220300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":1648600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":853600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":128300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":597696700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:06.670 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2798\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"759032aBcD\"},\"transaction\":{\"approvalNum\":823191,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":823191,\"rrn\":823191,\"dateTime\":\"20240205161500\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"80984319****6165\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":823191,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":823191},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.245 response time in milliseconds: 575\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 763\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:05 GMT\n1 < x-amzn-RequestId: dd45286f-afa2-414d-999b-6c0b710b26bb\n1 < x-amz-apigw-id: SrlqBHszIAMEjVA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fd9-3bf1c6d72daf9c7c6a3e7e04\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: C1bW57wP7s2uyTvbNc-qzng72f0S9X4wGxAMqj1ATn3Looreee2ikg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"759032aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV582319182319120240205161500\",\"approvalNum\":\"823191\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"823191\",\"rrn\":\"823191\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"80984319****6165\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"823191\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"823191\"}}],\"status\":[{\"transactionId\":\"YTEUSCV582319182319120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161505\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":15327700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1692200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":9089300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":31568000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:04.284 karate.env system property was: dev-adqui \n16:15:05.758 this thread waited 1461 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":476000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":18567200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":99916300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":19994300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":2388400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":5107100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":7621700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":3389600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":6070000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1062400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":5616100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":636363900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2619500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":10085500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1472700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":53,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1663400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":254000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":582000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":805900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":3158400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":8409400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\"","result":{"duration":11987500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":1298500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":626900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":602731800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:06.679 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"639153aBcD\"},\"transaction\":{\"approvalNum\":937416,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":937416,\"rrn\":937416,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"75948747****8682\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":937416,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":937416},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.254 response time in milliseconds: 572\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:05 GMT\n1 < x-amzn-RequestId: 7aa7f306-9a95-4ad0-85fc-da0e19dd1e09\n1 < x-amz-apigw-id: SrlqAH5zoAMEVSg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fd9-2706b34a0d27ba9f056d8283\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 064907318388ddb71d9d0db586a17f3a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: bWDragQsmAtz1HqI0m5ufJBoIcnnADyTI3n9RtIVu3kZq-Xk8XOwSw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"639153aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV593741693741620240205161500\",\"approvalNum\":\"937416\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"937416\",\"rrn\":\"937416\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"75948747****8682\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"937416\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"937416\"}}],\"status\":[{\"transactionId\":\"YTEUSCV593741693741620240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161505\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":26104000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":12965700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":6971600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":35404600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:05.758 << lock released, cached callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"helper\/CrearTokenDEVADQUI.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4,"doc_string":{"content_type":"","value":"{\n  \"pathUrl\": \"\/transactional\/api\/vouchers\/transactions\",\n  \"apiToken\": \"https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token\",\n  \"url\": \"https:\/\/api.redebanvd.net\",\n  \"apiKey\": \"tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\",\n  \"tokenAuthorization\": \"Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA==\"\n}\n","line":4}},{"name":"url apiToken","result":{"duration":1325400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":4,"doc_string":{"content_type":"","value":"16:15:04.284 karate.env system property was: dev-adqui \n16:15:04.297 >> lock acquired, begin callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"header Content-Type = 'application\/x-www-form-urlencoded'","result":{"duration":2210000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":5},{"name":"header Authorization = tokenAuthorization","result":{"duration":442000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":6},{"name":"request 'grant_type=client_credentials&Scope=consumers%2Ffabrica'","result":{"duration":1319000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":7},{"name":"method post","result":{"duration":1359895400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":8,"doc_string":{"content_type":"","value":"16:15:04.991 request:\n1 > POST https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Authorization: Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA==\n1 > Content-Length: 55\n1 > Host: voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&Scope=consumers%2Ffabrica\n\n16:15:05.712 response time in milliseconds: 714\n1 < 200\n1 < Date: Mon, 05 Feb 2024 21:15:03 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Content-Security-Policy-Report-Only: script-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; style-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; img-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; report-uri https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/cspreport\n1 < x-amz-cognito-request-id: 6bbc1dff-db9c-4f15-9bc5-d791f379ce3c\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n1 < Set-Cookie: XSRF-TOKEN=50d3ecc9-067f-42c0-bdee-b2f39256a108; Domain=voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; Secure\n{\"access_token\":\"eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\",\"expires_in\":1800,\"token_type\":\"Bearer\"}\n\n","line":8}},{"name":"status 200","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":9},{"name":"def access_token = response.access_token","result":{"duration":4277200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":851600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":14220700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":99920500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":1282600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":3173600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1875400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":9922600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":14355400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":4713600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":753600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":2741700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":633349000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":7904000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1987200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":4159900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":54,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":2046400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":196300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":824800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":174200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":3865600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":3554500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\"","result":{"duration":1650200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":1977600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":154200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":682860300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:06.677 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2814\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"312047aBcD\"},\"transaction\":{\"approvalNum\":987530,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":987530,\"rrn\":987530,\"dateTime\":\"20240205161500\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"12373669****9499\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":987530,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":987530},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.332 response time in milliseconds: 655\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 779\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:15:05 GMT\n2 < x-amzn-RequestId: c8826c8f-5394-4662-9e16-b5e3f838b0a7\n2 < x-amz-apigw-id: SrlqBF-8oAMEtZg=\n2 < X-Amzn-Trace-Id: Root=1-65c14fd9-6d26b6830dba015509bc4c08\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: nVszlfeUuuT1eAJFbpxYOMoM7_b2RWdfjL5EOK_V4RIZUbW4GvNLZw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"312047aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV598753098753020240205161500\",\"approvalNum\":\"987530\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"987530\",\"rrn\":\"987530\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"12373669****9499\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"987530\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"987530\"}}],\"status\":[{\"transactionId\":\"YTEUSCV598753098753020240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161505\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1306100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":987900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":957000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":30138700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:04.283 karate.env system property was: dev-adqui \n16:15:05.758 this thread waited 1461 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":868800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":15862500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":103251200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":6332600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":1851900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1669500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":7945700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":16104800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":3460600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":775200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":1178800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":695111400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":3752400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1646600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1436700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":55,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1250700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":279300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":618000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":137100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":997500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":838400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\"","result":{"duration":943100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":968000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":137500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":561878300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:06.684 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"358517aBcD\"},\"transaction\":{\"approvalNum\":267262,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":267262,\"rrn\":267262,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"16694957****2774\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":267262,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":267262},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.238 response time in milliseconds: 550\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:05 GMT\n1 < x-amzn-RequestId: 9a7c1bc5-dff8-45f4-a905-7c20e9b8f706\n1 < x-amz-apigw-id: Srlp_HmHIAMEuOg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fd9-3a26d08a3bbe20ad71ebe20d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 71L4yu3Pkw-qVSnyopDnZMslhz85GEk_zA5kGjRqSth_V5VRpvc_kQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"358517aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV526726226726220240205161500\",\"approvalNum\":\"267262\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"267262\",\"rrn\":\"267262\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"16694957****2774\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"267262\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"267262\"}}],\"status\":[{\"transactionId\":\"YTEUSCV526726226726220240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161505\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":19689100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1673800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":9090700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":206173400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:07.307 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":524500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":2732900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1896900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":766900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":494600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":575700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":580400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":3633800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2384900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":642000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":565300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":11379400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1972800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1478100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":954400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":56,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":994500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":105100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":477800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":122900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":904500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":764000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\"","result":{"duration":684900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":745700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":122100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":238464200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:07.557 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"83477aBcD\"},\"transaction\":{\"approvalNum\":493136,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":493136,\"rrn\":493136,\"dateTime\":\"20240205161500\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"35657578****2059\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":493136,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":493136},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.792 response time in milliseconds: 235\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: 1e3eaf81-e57c-40c2-99d3-542b77197492\n1 < x-amz-apigw-id: SrlqHEyvoAMEfyw=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-05ca07ba08f29f216bcd9161\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: ANqo_FdkIbyA-qXmgHq3e4SjY3LBZXcBDSSf0YlS1FiUEQQNrzWd8g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"83477aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV549313649313620240205161500\",\"approvalNum\":\"493136\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"493136\",\"rrn\":\"493136\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"35657578****2059\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"493136\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"493136\"}}],\"status\":[{\"transactionId\":\"YTEUSCV549313649313620240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":816300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1087300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":901300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":9785300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:07.351 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":496100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1385800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":2239100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":871400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":551700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":492200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":566400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2660000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2463500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":566300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":528900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":18463100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1800200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1564900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1217300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":57,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1105100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":134400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":987800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":121700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1048200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":952200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\"","result":{"duration":787700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":906500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":152400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":421793600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:07.410 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"862711aBcD\"},\"transaction\":{\"approvalNum\":216077,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":216077,\"rrn\":216077,\"dateTime\":\"20240205161500\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"23345281****5804\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":216077,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":216077},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.827 response time in milliseconds: 417\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: 97e1391e-9656-407d-8e00-0fe50364798d\n1 < x-amz-apigw-id: SrlqHF5zoAMEqZA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-4db305dd4c38aa6e63b85c4b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 8t98-I616Qu820cTQbZuvDtexHOnoP0BUY4ExvUZf6sws0ZkRxrMug==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"862711aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV521607721607720240205161500\",\"approvalNum\":\"216077\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"216077\",\"rrn\":\"216077\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"23345281****5804\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"216077\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"216077\"}}],\"status\":[{\"transactionId\":\"YTEUSCV521607721607720240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":951800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1278300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":969700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":17629000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:07.339 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":6712700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1967000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":3575300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":674200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":2927000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":3376600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":14821200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":16670600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2485100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":18663300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":731100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":22141500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2885700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1592000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1204800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":58,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1142000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":121700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":524900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":120300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":938000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":820600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\"","result":{"duration":739400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":12308600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":259200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":346815300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:07.487 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2816\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"145361aBcD\"},\"transaction\":{\"approvalNum\":169421,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":169421,\"rrn\":169421,\"dateTime\":\"20240205161500\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"95797103****9134\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":169421,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":169421},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.831 response time in milliseconds: 344\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: f804155e-7e85-4b9a-8888-996db9339742\n1 < x-amz-apigw-id: SrlqHE1noAMEdTQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-61212b8d3d418a8d4c63e57c\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: vp0o9ueDT1e54R_3uvmEFUDioXXSO0gdNk04s7yWINC4PWz9CZGKSw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"145361aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV516942116942120240205161500\",\"approvalNum\":\"169421\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"169421\",\"rrn\":\"169421\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"95797103****9134\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"169421\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"169421\"}}],\"status\":[{\"transactionId\":\"YTEUSCV516942116942120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":438300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":2649000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":920500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":9186100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:07.351 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":728600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1410400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":2425900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":608700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":578400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":571700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":631900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":14579100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":4143000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1833300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":4620400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":34569500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1542500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1186900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":985800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":59,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1049600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":102000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":449600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":98400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":865800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":743900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\"","result":{"duration":5330200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":2169100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":165500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":282781000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:07.451 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"796232aBcD\"},\"transaction\":{\"approvalNum\":757565,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":757565,\"rrn\":757565,\"dateTime\":\"20240205161500\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"14465635****6202\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":757565,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":757565},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:07.728 response time in milliseconds: 277\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:05 GMT\n1 < x-amzn-RequestId: ca94b6ae-f6c9-45a7-9795-266a85be2108\n1 < x-amz-apigw-id: SrlqGF0ToAMEZMg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fd9-2dd6ba2d327206a84617572a\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: BB4oMtgj_tGeFHmUtFOYfouDax72Euutb68oj5pSbJepYnHob9C_8g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"796232aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV575756575756520240205161500\",\"approvalNum\":\"757565\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"757565\",\"rrn\":\"757565\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"14465635****6202\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"757565\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"757565\"}}],\"status\":[{\"transactionId\":\"YTEUSCV575756575756520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161505\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":777500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":535700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":289200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2900400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:07.739 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":304800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":654100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1228000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":735200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":813300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":493800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":467700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1340900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1043200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":467600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":392900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5092400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":820200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":844300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":519700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":60,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":444400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":142900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":112300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":83100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":261100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":1057700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\"","result":{"duration":779200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":711800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":104600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":255022400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:07.767 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2814\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"180489aBcD\"},\"transaction\":{\"approvalNum\":266728,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":266728,\"rrn\":266728,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"61032177****6643\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":266728,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":266728},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.019 response time in milliseconds: 252\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 779\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: 3dec1ca6-66b6-41be-8235-d58e1e9e383f\n1 < x-amz-apigw-id: SrlqJFoYoAMEQqg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-412add922635b8481f30035b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 7a95ef3dywgukpAZQPLA2cytMdJnN_serrGHHNX3ivCpD4MKZh4vlg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"180489aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV526672826672820240205161500\",\"approvalNum\":\"266728\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"266728\",\"rrn\":\"266728\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"61032177****6643\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"266728\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"266728\"}}],\"status\":[{\"transactionId\":\"YTEUSCV526672826672820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":4275600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":3428200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":2586100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3297000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:07.803 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":375200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":449900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1089800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":1391600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":455800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":477600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":384900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1755000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1643200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":509200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":358200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":12696600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":656700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":659800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":594100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":61,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":390800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":89300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":166000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":101100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":372200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":1040100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\"","result":{"duration":1324100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":840900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":89000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":351909500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:07.840 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"778862aBcD\"},\"transaction\":{\"approvalNum\":753119,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":753119,\"rrn\":753119,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"64141497****4347\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":753119,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":753119},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.189 response time in milliseconds: 348\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: 50ce16a8-0016-4108-98ae-d81a29426fb0\n1 < x-amz-apigw-id: SrlqLHSTIAMEJgw=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-3bacc7542daaa6815d66c7df\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: lx7O7F9iDFdgdvTgQcxWHEGJUFhxIN0UrY71YwSY7hvZrdSauYDkXQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"778862aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV575311975311920240205161500\",\"approvalNum\":\"753119\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"753119\",\"rrn\":\"753119\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"64141497****4347\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"753119\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"753119\"}}],\"status\":[{\"transactionId\":\"YTEUSCV575311975311920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":810800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":603500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":355400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":39068700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:07.838 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":512700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":830900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1413500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":639900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":616200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":431300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":431800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1456400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1414400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":426700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":375800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":18820500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":922200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1262600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":751700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":62,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":529500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":124200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":144600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":80500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1216600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":1211500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\"","result":{"duration":942100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":730900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":351700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":408020000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:07.919 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"536453aBcD\"},\"transaction\":{\"approvalNum\":138994,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":138994,\"rrn\":138994,\"dateTime\":\"20240205161500\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"65367014****5591\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":138994,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":138994},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.322 response time in milliseconds: 403\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: f7155021-3440-444e-a82b-af063fd31a3f\n1 < x-amz-apigw-id: SrlqMHJkoAMELaw=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-04097e010eef8fbf7a280891\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: y3DzfjzM98xFoGHqrN7k03XNqB4VaW_x4xRsKZyrV0uahR2DWBxGJA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"536453aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV513899413899420240205161500\",\"approvalNum\":\"138994\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"138994\",\"rrn\":\"138994\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"65367014****5591\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"138994\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"138994\"}}],\"status\":[{\"transactionId\":\"YTEUSCV513899413899420240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1243400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":958500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":281700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":58652000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:07.849 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":1480500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":478000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1212200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":748800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":775200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1620600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1290400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":4490700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":11939300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":695800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":482300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":35196200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1383900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":700200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":921800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":63,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":428100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":87300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":131500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":87600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":284100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":1149600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\"","result":{"duration":1606500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":1122200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":176800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":368221100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:07.982 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"119079aBcD\"},\"transaction\":{\"approvalNum\":380913,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":380913,\"rrn\":380913,\"dateTime\":\"20240205161500\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"20179426****3461\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":380913,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":380913},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.348 response time in milliseconds: 365\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: cd6e98b8-954e-4c6d-9b5a-d521db5a2e7d\n1 < x-amz-apigw-id: SrlqMG31oAMEcDQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-3d0a838f751e14d938e61d2e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: K0IYrauBd3EBqO35B4dsO6BEgxP8YLBIN0sAJfJNg36rr9T37-HjEg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"119079aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV538091338091320240205161500\",\"approvalNum\":\"380913\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"380913\",\"rrn\":\"380913\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"20179426****3461\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"380913\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"380913\"}}],\"status\":[{\"transactionId\":\"YTEUSCV538091338091320240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":628000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":2045900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":267900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":37550500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:08.048 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":283400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":887000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":2012800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":1294600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":536000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":472100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":613200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1509000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1374000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":403100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":383600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":12301300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2399700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1235400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":690300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":64,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":405200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":96600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":139000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":90200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":875400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":1276200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\"","result":{"duration":1175800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":1146400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":104800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":380244300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:08.123 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"208874aBcD\"},\"transaction\":{\"approvalNum\":927655,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":927655,\"rrn\":927655,\"dateTime\":\"20240205161500\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"19114934****2473\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":927655,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":927655},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.500 response time in milliseconds: 377\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: 41bd2d30-2d82-4cb6-9e3d-0c69d6521ee7\n1 < x-amz-apigw-id: SrlqOEEloAMEPGQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-0ecd6b8b19efb9ce286bebf1\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: suQuGG-JvJA2RvxBF_AjK10MM14x7bdQHeuASgHyElnJHYOCACTstA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"208874aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV592765592765520240205161500\",\"approvalNum\":\"927655\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"927655\",\"rrn\":\"927655\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"19114934****2473\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"927655\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"927655\"}}],\"status\":[{\"transactionId\":\"YTEUSCV592765592765520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":691800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":608500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":171000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":6514700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:08.197 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":283700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":584300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":933100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":570300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":318400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":251800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":254300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1171300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1051700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":330400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":356100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4584600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":780800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":485300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":437200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":65,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":295900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":64300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":91200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":931800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":275800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":1164600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\"","result":{"duration":868300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":643600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":87400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":412349300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:08.225 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"3235aBcD\"},\"transaction\":{\"approvalNum\":873229,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":873229,\"rrn\":873229,\"dateTime\":\"20240205161500\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"88762021****7230\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":873229,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":873229},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.634 response time in milliseconds: 408\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:06 GMT\n1 < x-amzn-RequestId: a9e365fe-860d-4d3f-ba47-28d3412ab84f\n1 < x-amz-apigw-id: SrlqPFOsIAMET0Q=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-7e3564d45a6703be00f02e53\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 8cFMXPnaD_29mT8MmPecZCzfDuqJTqQ00FnqqXN_MwTLp6TviHmwiQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"3235aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV587322987322920240205161500\",\"approvalNum\":\"873229\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"873229\",\"rrn\":\"873229\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"88762021****7230\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"873229\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"873229\"}}],\"status\":[{\"transactionId\":\"YTEUSCV587322987322920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161506\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":949400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":398700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":188700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2173400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:08.332 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":286900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":441200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1006700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":545700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":458000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":310100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":324800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1086700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1254000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":398800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":1306700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":13976100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1084800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1796600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":825900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":66,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":374800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":83800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":118900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":89700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":283800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":1072100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\"","result":{"duration":804200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":641500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":385393800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:08.368 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"676590aBcD\"},\"transaction\":{\"approvalNum\":404885,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":404885,\"rrn\":404885,\"dateTime\":\"20240205161500\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"84058101****8613\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":404885,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":404885},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.750 response time in milliseconds: 382\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: ceac207b-6a29-44ee-8b0e-081d330cdd78\n1 < x-amz-apigw-id: SrlqQFDAoAMEJuA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fda-13b7dc590d87276d577f87ef\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Ud63BQTC295UruMlAlw1oDuZS0xChy4rkj0T-fVllnNiyBRalMk-Og==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"676590aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV540488540488520240205161500\",\"approvalNum\":\"404885\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"404885\",\"rrn\":\"404885\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"84058101****8613\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"404885\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"404885\"}}],\"status\":[{\"transactionId\":\"YTEUSCV540488540488520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":503800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":798100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":426700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":263300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":12314400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:08.358 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":1614800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":860300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1366900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":618100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":365700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":285400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":317200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1909000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1182000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":350300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":350400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":14607900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2771700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1587600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1179300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":67,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":384100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":4318300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":5554000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":155800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":331700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":3525200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\"","result":{"duration":3975000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":1242200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":106000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":375806500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:08.424 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"215726aBcD\"},\"transaction\":{\"approvalNum\":633481,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":633481,\"rrn\":633481,\"dateTime\":\"20240205161500\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"27589584****2721\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":633481,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":633481},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.798 response time in milliseconds: 373\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 5eeb3fc5-cad1-43f1-9bf6-4a014dfb7368\n1 < x-amz-apigw-id: SrlqREz7oAMEKvg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-7f5a458b064a84b40f745b9f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: -uv3bE-9kOeEX6UUj9hP0TOGZ324ZCbjl8Kis1_di8eOyVs6sKidaQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"215726aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV563348163348120240205161500\",\"approvalNum\":\"633481\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"633481\",\"rrn\":\"633481\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"27589584****2721\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"633481\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"633481\"}}],\"status\":[{\"transactionId\":\"YTEUSCV563348163348120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":156600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":330100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":538500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":620700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4693600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:08.507 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":182900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":386600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":739900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":477800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":304900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":236900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":235400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":916300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1026700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":278800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":486200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7027900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1169400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":642300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":425000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":68,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":317200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":92400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":97200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":54100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":202300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":748900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\"","result":{"duration":690200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":627700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":128100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":332621800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:08.534 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"631923aBcD\"},\"transaction\":{\"approvalNum\":987701,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":987701,\"rrn\":987701,\"dateTime\":\"20240205161500\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"44452631****7956\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":987701,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":987701},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:08.865 response time in milliseconds: 331\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 70c75b86-dee8-47d6-b0fc-4e0f5133a67b\n1 < x-amz-apigw-id: SrlqRFyFoAMEioQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-27256c1207056d573c858d3b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: fi16C_nwF94WtAusO-xEyGdDKEXL5m8oBrQAhUp3H9O5wVh-MSOEXw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"631923aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV598770198770120240205161500\",\"approvalNum\":\"987701\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"987701\",\"rrn\":\"987701\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"44452631****7956\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"987701\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"987701\"}}],\"status\":[{\"transactionId\":\"YTEUSCV598770198770120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":555800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1107000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":2275100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4836700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:08.642 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":211100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":412300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":698700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":651500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":330800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":242900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":282400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1328600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1054200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":318600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":272900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5371800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1012600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":519200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":728100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":69,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":728100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":139400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":116900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":60700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":308300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\"","result":{"duration":1156600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\"","result":{"duration":1976900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":1224600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":106400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":348296800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:08.670 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"249791aBcD\"},\"transaction\":{\"approvalNum\":475602,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":475602,\"rrn\":475602,\"dateTime\":\"20240205161500\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"31171816****8613\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":475602,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":475602},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.016 response time in milliseconds: 345\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 04b3f6c9-efce-4c98-86a0-f03a1a1f16be\n1 < x-amz-apigw-id: SrlqTFdvIAMErOQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-72e4390b7bb79a3f2c77f52f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c044357f15da715d4a1fab016bbf0008.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: yKZtxhf0mwMNggVc2sDPzRMrhHu9ULXCk7jJeiHW-uoEj7c0uR01xA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"249791aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV547560247560220240205161500\",\"approvalNum\":\"475602\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"475602\",\"rrn\":\"475602\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"31171816****8613\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"475602\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"475602\"}}],\"status\":[{\"transactionId\":\"YTEUSCV547560247560220240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":546200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":866900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":774300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3623200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:08.757 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":499200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":608100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":761700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":552800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":423900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":328900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":238800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":8096000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1969900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":280800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":229200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":16497100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1207400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":899300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1517400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":70,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":948500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":53800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":425500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":58600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":682300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\"","result":{"duration":641100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\"","result":{"duration":528700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":941600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":79100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":262243700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:08.803 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"516689aBcD\"},\"transaction\":{\"approvalNum\":147043,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":147043,\"rrn\":147043,\"dateTime\":\"20240205161500\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"72669986****6217\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":147043,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":147043},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.063 response time in milliseconds: 260\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 764\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 4bf88c55-7b2a-4ddf-a3eb-ed0123fc984a\n1 < x-amz-apigw-id: SrlqTE6PIAMEbSw=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-1fd507437ef19dd70e863832\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: PARvho38uTLgRcgCMC0Mconkf4qsXih38-1jWb6RBuqyxYD2oZob7A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"516689aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV514704314704320240205161500\",\"approvalNum\":\"147043\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"147043\",\"rrn\":\"147043\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"72669986****6217\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"147043\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"147043\"}}],\"status\":[{\"transactionId\":\"YTEUSCV514704314704320240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":513300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":850800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":803000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":20925200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:08.807 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":199200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":2409200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1376000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":460900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":265700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1857400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":335600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1331600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1683300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":340100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":206600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":73581800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":8418300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":39474300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":5143400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":71,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":2222700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":101100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":6266800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":354900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1374700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\"","result":{"duration":813900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\"","result":{"duration":504100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":492700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":72400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":273552300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:08.984 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"62322aBcD\"},\"transaction\":{\"approvalNum\":162405,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":162405,\"rrn\":162405,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"37185167****8835\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":162405,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":162405},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.255 response time in milliseconds: 271\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 4df3b11f-1999-4148-851d-435209466009\n1 < x-amz-apigw-id: SrlqVEENIAMEjSA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-7dc26a39587aee4e79001ecf\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: pupwxgKfQ9oBJxEHicnSwE9NUeydm-30877T8mp3LwqUoOY-wP-1XA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"62322aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV516240516240520240205161500\",\"approvalNum\":\"162405\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"162405\",\"rrn\":\"162405\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"37185167****8835\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"162405\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"162405\"}}],\"status\":[{\"transactionId\":\"YTEUSCV516240516240520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":685100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":380700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":165700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4527600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:08.877 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":217800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1066200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1411300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":869100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":335900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":311900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":487500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1156600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2164900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":298000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":265900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":14806300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2829900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":38607300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":2333400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":72,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":2493700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":78300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":557300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":1194200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":22919800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\"","result":{"duration":985900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\"","result":{"duration":4423800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":3047800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":100400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":407740100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:08.995 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"287838aBcD\"},\"transaction\":{\"approvalNum\":959107,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":959107,\"rrn\":959107,\"dateTime\":\"20240205161500\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"20257776****5683\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":959107,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":959107},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.396 response time in milliseconds: 401\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 0f201a2e-0763-4630-bc0f-2ef63effbd08\n1 < x-amz-apigw-id: SrlqXGMaoAMEtZg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-20c581685ece110e5dbcec60\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: PKXAQo0KkWR0YhVTlfGZ8Sac3UBBpC1hX4VyKHwcc0qMjl681_obwg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"287838aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV595910795910720240205161500\",\"approvalNum\":\"959107\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"959107\",\"rrn\":\"959107\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"20257776****5683\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"959107\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"959107\"}}],\"status\":[{\"transactionId\":\"YTEUSCV595910795910720240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":694000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":322900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":195000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":157565900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:09.026 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":330600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1092400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1038700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":411500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":250100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1062100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":223200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":717600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1341600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":294100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":224600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":23726100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1011000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1374800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1175300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":73,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1901600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":63900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":693700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":258500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":5802000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\"","result":{"duration":976400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\"","result":{"duration":612800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":885900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":125300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":232961200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:09.234 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"363080aBcD\"},\"transaction\":{\"approvalNum\":777028,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":777028,\"rrn\":777028,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"64407249****1785\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":777028,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":777028},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.465 response time in milliseconds: 230\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: cdb4f348-0530-4f6c-ab67-df702632b252\n1 < x-amz-apigw-id: SrlqXGvnoAMEUog=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-39d06ad50ade64b65e1a2725\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: pXae_bowG8sJtKsKsW2-GczEDMeEqZv5hk-QVapbZqIeWNOw_tV3-w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"363080aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV577702877702820240205161500\",\"approvalNum\":\"777028\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"777028\",\"rrn\":\"777028\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"64407249****1785\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"777028\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"777028\"}}],\"status\":[{\"transactionId\":\"YTEUSCV577702877702820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":516600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":344600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":205000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":108770000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:09.075 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":196700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":650200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1038600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":392000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":435400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":259000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":292900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":915600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1036000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":529300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":310000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":19819800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":689400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":702000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":384500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":74,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":387100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":89400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":226800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":2097500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\"","result":{"duration":762800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":597200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":77900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":263629800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:09.223 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"891647aBcD\"},\"transaction\":{\"approvalNum\":854628,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":854628,\"rrn\":854628,\"dateTime\":\"20240205161500\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"57512960****4705\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":854628,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":854628},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.483 response time in milliseconds: 259\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 2f666dbf-38ae-450f-acc3-226949dbe282\n1 < x-amz-apigw-id: SrlqXEbaIAMEvPg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-72b5fcda379c62cf5cae1b81\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: EHBBBCm4YZV7KHb9vxdA7URW22FGgvzuUwGDsroKvbfhEzNs5xlHgQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"891647aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV585462885462820240205161500\",\"approvalNum\":\"854628\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"854628\",\"rrn\":\"854628\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"57512960****4705\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"854628\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"854628\"}}],\"status\":[{\"transactionId\":\"YTEUSCV585462885462820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":558600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":323200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":188600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":39955700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:09.261 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":224500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":3003100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1499000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":1139200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":472600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1079400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":300600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":859000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1000200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":236000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":344000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":14815800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":846100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":378100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":358200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":75,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":238500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":55100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":177500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":7148100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\"","result":{"duration":7082800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":5517900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":154600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":380010800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:09.366 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"546697aBcD\"},\"transaction\":{\"approvalNum\":675965,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":675965,\"rrn\":675965,\"dateTime\":\"20240205161500\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"11299440****5897\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":675965,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":675965},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.732 response time in milliseconds: 366\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:07 GMT\n1 < x-amzn-RequestId: 398657a2-104f-4f17-acc0-fc36af53eeec\n1 < x-amz-apigw-id: SrlqaF9moAMEEYQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdb-27cbabcf228a6ec74ed77a5e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: lGXEeckW0E2_HjW1_G2h4RWfL0MK6mH9NHJgQuvyblwACRfDZBaJkQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"546697aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV567596567596520240205161500\",\"approvalNum\":\"675965\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"675965\",\"rrn\":\"675965\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"11299440****5897\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"675965\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"675965\"}}],\"status\":[{\"transactionId\":\"YTEUSCV567596567596520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":354700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":226600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":141800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":166568700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:09.404 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":431900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1604800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1139400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":357000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":1239300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":14591200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":920400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2096900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":922800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":251600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":389500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6302600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":585900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":325400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":359800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":76,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":269900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":45400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":171500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":891500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\"","result":{"duration":1129500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":600600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":63600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":265315700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:09.647 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"858239aBcD\"},\"transaction\":{\"approvalNum\":264251,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":264251,\"rrn\":264251,\"dateTime\":\"20240205161500\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"68087478****1890\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":264251,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":264251},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:09.910 response time in milliseconds: 263\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: a6cfb6b8-9d77-4049-9c49-87611cabe1dc\n1 < x-amz-apigw-id: SrlqcG1YIAMEIOA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-09cc596d5bd6de645a4eeae0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: xC7uoI7FcFOpubyLTYyKCOsvlkEWtt05j0a9E4Koc29kyE-1j2YZLg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"858239aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV526425126425120240205161500\",\"approvalNum\":\"264251\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"264251\",\"rrn\":\"264251\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"68087478****1890\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"264251\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"264251\"}}],\"status\":[{\"transactionId\":\"YTEUSCV526425126425120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":509100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":257900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":250900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":180337400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:09.471 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":177600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":373100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":623700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":369800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":180700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":231900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":183600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":741800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":616400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":192900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":170500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5458900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1068400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":423700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":291400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":77,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":244400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":59800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":629700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":1110200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\"","result":{"duration":792800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":536400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":58400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":370378300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:09.670 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2800\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"368283aBcD\"},\"transaction\":{\"approvalNum\":382657,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":382657,\"rrn\":382657,\"dateTime\":\"20240205161500\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"35143473****2972\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":382657,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":382657},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.037 response time in milliseconds: 367\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 765\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: cf054c3f-cea4-4a57-81d8-7c203b7d114a\n1 < x-amz-apigw-id: SrlqdEL2oAMEVSg=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-22d0dcc31a3fb4bd7ea8450f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: BSVz968qUa3kalZaOMY7fkuzjRn7P4Dxrqvg5zx32UARW3Im-POASA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"368283aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV538265738265720240205161500\",\"approvalNum\":\"382657\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"382657\",\"rrn\":\"382657\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"35143473****2972\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"382657\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"382657\"}}],\"status\":[{\"transactionId\":\"YTEUSCV538265738265720240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":324800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":206100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":103700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":89383400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:09.488 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":471300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":440400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":737200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":611500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":391300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":209600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":215000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":822200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":762600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":242500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":196100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":27962900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":658100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":318500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":270200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":78,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":275600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":185200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":1042500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\"","result":{"duration":743000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":533600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":71300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":385090000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:09.619 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"54817aBcD\"},\"transaction\":{\"approvalNum\":820018,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":820018,\"rrn\":820018,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"60272471****5829\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":820018,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":820018},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.002 response time in milliseconds: 383\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 778\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: f3fac3d5-8e3d-41ed-81e3-540d4a81f174\n1 < x-amz-apigw-id: SrlqdH9mIAMEjoQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-0669e5245ee9bb8e74040243\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: N8J34-9w2hgEW5cRjRJUfXFhSqdXMf6980eZqz8cZBlBT9FC3EJC1g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"54817aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV582001882001820240205161500\",\"approvalNum\":\"820018\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"820018\",\"rrn\":\"820018\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"60272471****5829\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"820018\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"820018\"}}],\"status\":[{\"transactionId\":\"YTEUSCV582001882001820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":391500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":212000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":188100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":12230300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:09.737 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":194300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":346600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":3690100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":494900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":3157800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":394000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":180700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1288600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1382400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":290000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":196600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":11305600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":511900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":429000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":243600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":79,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1468500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":73500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":52200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1812500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":2134900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\"","result":{"duration":1577600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":936000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":73600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":344395200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:09.790 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"343625aBcD\"},\"transaction\":{\"approvalNum\":143358,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":143358,\"rrn\":143358,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"33674921****5448\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":143358,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":143358},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.129 response time in milliseconds: 339\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: db09dd93-f433-49be-af5b-98bf43ce909e\n1 < x-amz-apigw-id: SrlqeHhUoAMEdfQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-075226175ee10f094cff4653\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: U0hgrrkqmzGR-E41ywZfL-1TXyrkVhN-xbZ7Bi51DUhfHrl_13sTMg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"343625aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV514335814335820240205161500\",\"approvalNum\":\"143358\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"143358\",\"rrn\":\"143358\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"33674921****5448\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"143358\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"143358\"}}],\"status\":[{\"transactionId\":\"YTEUSCV514335814335820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":701600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":224300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":230500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":7599200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:09.916 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":747400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1457500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":3739300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":518200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":238100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":163900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1221700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":5591300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":950600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":199200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":158700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":10503500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":550900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":292100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":232700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":80,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":226200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":42800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":185300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":955600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\"","result":{"duration":720700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":572100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":55300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":245028800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:09.958 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"948892aBcD\"},\"transaction\":{\"approvalNum\":598174,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":598174,\"rrn\":598174,\"dateTime\":\"20240205161500\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"98799911****3871\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":598174,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":598174},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.199 response time in milliseconds: 241\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: c0d2bdcc-f90f-446f-97a7-f5a5ff7640d6\n1 < x-amz-apigw-id: SrlqfEe6oAMEgrQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-0d6b9b3c30efcdc4400e3363\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 4ctFinsD8kApwECP6Dj-PJbpIjD4nUBlPmeYZo7tjDn2I2i9mrS90A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"948892aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV559817459817420240205161500\",\"approvalNum\":\"598174\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"598174\",\"rrn\":\"598174\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"98799911****3871\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"598174\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"598174\"}}],\"status\":[{\"transactionId\":\"YTEUSCV559817459817420240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":669400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":794000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":175500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":16947800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:10.007 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":177300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":344700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":636900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":376800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":180400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":166500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":141300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":784400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":654300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":170300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":153700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4596200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":529800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":272000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":237700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":81,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":196900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":36600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":291500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":1051000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\"","result":{"duration":660200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":474600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":61100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":337884300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:10.041 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"93851aBcD\"},\"transaction\":{\"approvalNum\":876053,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":876053,\"rrn\":876053,\"dateTime\":\"20240205161500\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"79802828****8734\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":876053,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":876053},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.375 response time in milliseconds: 334\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: 626d6c45-1389-440c-a324-6a8f871e2f0e\n1 < x-amz-apigw-id: SrlqhFCOoAMEfyw=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-2aae4a626657c97a077f6298\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 94Ht8G-uQbWsiBFDOQPOylG9h06-e0NsoBFRykgwlhMg77FH2Q9EyA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"93851aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV587605387605320240205161500\",\"approvalNum\":\"876053\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"876053\",\"rrn\":\"876053\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"79802828****8734\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"876053\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"876053\"}}],\"status\":[{\"transactionId\":\"YTEUSCV587605387605320240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":695000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1174900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":1893700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3669600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:10.043 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":173400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":369100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":660300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":327900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":195300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":148600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":133600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1006800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":967900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":247500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":176800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4552800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":471800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":501600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":314500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":82,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":212300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":40300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":60100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":162600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":810300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\"","result":{"duration":729200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":508800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":379335600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:10.064 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"91958aBcD\"},\"transaction\":{\"approvalNum\":753660,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":753660,\"rrn\":753660,\"dateTime\":\"20240205161500\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"12604523****8067\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":753660,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":753660},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.439 response time in milliseconds: 375\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 764\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: a0171c8b-64b3-40ba-893b-b592020289c1\n1 < x-amz-apigw-id: SrlqhFvfoAMElcA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-39915dcc7ec6d44110bca2db\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: -Yb-DRnWgdDgvZp2w4pDDn3DmjdYAUgtAeM0irfthNouHk4y8qAYTg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"91958aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV575366075366020240205161500\",\"approvalNum\":\"753660\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"753660\",\"rrn\":\"753660\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"12604523****8067\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"753660\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"753660\"}}],\"status\":[{\"transactionId\":\"YTEUSCV575366075366020240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":815800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":839000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":898100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4109000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:10.139 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":245900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":426400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":2982500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":410700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":191000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":209300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":346000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":907600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2887200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":366000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":231800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9149400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":513300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":997100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":2818800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":83,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":311600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":166800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":947500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\"","result":{"duration":648900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":574900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":61900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":398599900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:10.173 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"512028aBcD\"},\"transaction\":{\"approvalNum\":997412,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":997412,\"rrn\":997412,\"dateTime\":\"20240205161500\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"67362513****1135\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":997412,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":997412},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.569 response time in milliseconds: 396\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 764\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: a408f659-fb4e-430f-8664-da4d6c80271f\n1 < x-amz-apigw-id: SrlqiGAkoAMEiYQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-3aee1c506a0d77f638178186\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: i_3mOltvt2JA8K5wYkW_vuMxMNmzok6SGCiEqDinoWli0J_GCOcMqw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"512028aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV599741299741220240205161500\",\"approvalNum\":\"997412\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"997412\",\"rrn\":\"997412\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"67362513****1135\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"997412\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"997412\"}}],\"status\":[{\"transactionId\":\"YTEUSCV599741299741220240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":863700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":812800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":706200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":21195900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:10.214 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":246500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":2221200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":2231100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":413900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":245400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":228200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":172800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1146300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1687500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":155300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":122400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":17237200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1259700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":2128800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":2258700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":84,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1182200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":78000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":485600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":75000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":753200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":571000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\"","result":{"duration":478200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":5120600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":103200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":336013600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:10.283 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"622169aBcD\"},\"transaction\":{\"approvalNum\":376444,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":376444,\"rrn\":376444,\"dateTime\":\"20240205161500\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"47009481****2709\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":376444,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":376444},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.614 response time in milliseconds: 331\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:08 GMT\n1 < x-amzn-RequestId: f83f1a3d-cda0-429d-99f6-184a161cbfc4\n1 < x-amz-apigw-id: SrlqjFtXIAMEv3Q=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdc-40f75016142ee39a029a4058\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: UHFl_JQBalCbPNdX871smXkULnvFpWN6L4uTubYc8qp7MhC2gASjXg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"622169aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV537644437644420240205161500\",\"approvalNum\":\"376444\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"376444\",\"rrn\":\"376444\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"47009481****2709\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"376444\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"376444\"}}],\"status\":[{\"transactionId\":\"YTEUSCV537644437644420240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161508\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":318300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":383500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":423700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":6292300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:10.388 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":329600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1348400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1187200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":365900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":247700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":204300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":153900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":801500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1341300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":200900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":161400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":11806500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":995000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":572300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":459200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":85,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":619000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":44800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":275400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":51400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":524100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":507900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\"","result":{"duration":450200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":897100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":377706600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:10.423 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"258999aBcD\"},\"transaction\":{\"approvalNum\":467679,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":467679,\"rrn\":467679,\"dateTime\":\"20240205161500\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"49049981****9648\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":467679,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":467679},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.797 response time in milliseconds: 374\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:09 GMT\n1 < x-amzn-RequestId: ca332483-44ab-418b-be07-c17d235507af\n1 < x-amz-apigw-id: SrlqlGQDIAMEoWQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdd-78358c2b0c5cad8e7322f9f2\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: kBwtSDXq5lwK_b8nnUOP1ndXE48hAlQs9z9Ld_-G4uYdk9n-2t4Nsg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"258999aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV546767946767920240205161500\",\"approvalNum\":\"467679\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"467679\",\"rrn\":\"467679\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"49049981****9648\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"467679\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"467679\"}}],\"status\":[{\"transactionId\":\"YTEUSCV546767946767920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161509\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":532100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":238200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":124600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4854400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:10.450 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":274200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1344600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1267400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":378200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":251900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":186400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":184000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1076400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1315900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":192600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":180900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8778700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1289900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":748500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":558100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":86,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":669200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":261500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1563100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":2255600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\"","result":{"duration":770900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":410200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":68900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":328245400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:10.485 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2796\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"542281aBcD\"},\"transaction\":{\"approvalNum\":778585,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":778585,\"rrn\":778585,\"dateTime\":\"20240205161500\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"57096006****4263\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":778585,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":778585},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.810 response time in milliseconds: 325\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 761\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:09 GMT\n1 < x-amzn-RequestId: 9093a5db-61a2-45b1-a612-d4c7c503285d\n1 < x-amz-apigw-id: SrlqlGQNoAMEoWQ=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdd-4812fb12085f0d2608168aa5\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: JunR7oLyQJ5xflfeHry-e4MgzdTyjy9Stsi38tWggs-_nPLqO9NzcA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"542281aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV577858577858520240205161500\",\"approvalNum\":\"778585\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"778585\",\"rrn\":\"778585\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"57096006****4263\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"778585\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"778585\"}}],\"status\":[{\"transactionId\":\"YTEUSCV577858577858520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161509\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":623400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":285000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":142600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3410200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:15:10.581 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":168600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":882500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1060500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":289000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":143900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":111800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":113800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":647400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":975700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":136700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":123800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":23621400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1129800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":779400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":529900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":87,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":698100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":230600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":50600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":531500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":781600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\"","result":{"duration":424200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":541000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":236502400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:15:10.622 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzAzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1MDMsImlhdCI6MTcwNzE2NzcwMywidmVyc2lvbiI6MiwianRpIjoiOWU4Mjk3N2MtYzEyMS00ZmRjLWEzOTgtNGM0ZmM0Mjc1YTQ2IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.YcpSYbN8hmqT8fFTR0Woa7dQuHkR2-7DjpaRt9V9U4nts39DufyNWqXmMrc-sk3w3pioY_PCFjqquSBoBJlw31YAoqXxcRXqBxP2I5mOfFDkj9WQY5ukVlPlNFYG_JyMZbBZXl3JXOJWlpdEx2L1wXz_y-LpesCGVZ83l2zrQP9U4gH4uHJuL8I2m5eWwu3yHIEOn6K6Wo0mljt_X-Vv-8X0VpfllXC-v5HJ7b_Jmb8RKm32NuRsK8Xw7RIPkbJnDNVZ6BNVaYNKwLLGTbzb8jw9d7ir7Yp_kn98BtVzJjZl0f_Xz2gos1zL_ijB0dmdS3pNrx2ZVj3yoVSDYQXxNQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":645122131,\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"223024aBcD\"},\"transaction\":{\"approvalNum\":371339,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":371339,\"rrn\":371339,\"dateTime\":\"20240205161500\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"57393820****8191\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":371339,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":371339},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:10.856 response time in milliseconds: 234\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:09 GMT\n1 < x-amzn-RequestId: 49bd64f4-3fc0-4a8c-8ee3-9eb584248ef1\n1 < x-amz-apigw-id: SrlqlGEKIAMETXA=\n1 < X-Amzn-Trace-Id: Root=1-65c14fdd-05d9971c2b58ca2933fb6d59\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: amUdyYjAL0cw4WZHG8vW414U6087bS_rNVjMXifRNCJvLKkr7pfy6w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"223024aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV537133937133920240205161500\",\"approvalNum\":\"371339\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"371339\",\"rrn\":\"371339\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"57393820****8191\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"371339\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"371339\"}}],\"status\":[{\"transactionId\":\"YTEUSCV537133937133920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161509\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":334600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":304300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":128800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35}],"tags":[]}],"name":"CORRandADQUI\/TransaccionalADQUI.feature","description":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","id":"ejecutar-endpoint-para-crear-una-transaccion-aprobada-con-firma-y-validando-distintos-datos-de-respuesta","keyword":"Feature","uri":"CORRandADQUI\/TransaccionalADQUI.feature"}]