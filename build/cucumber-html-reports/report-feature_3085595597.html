<!DOCTYPE html>
<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<script src="js/jquery.min.js"></script>
<script src="js/jquery.tablesorter.min.js"></script>
<script src="js/Chart.min.js"></script>
<script src="js/moment.min.js"></script>
<script src="js/bootstrap.min.js"></script>

<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="css/cucumber.css" type="text/css"/>
<link rel="stylesheet" href="css/font-awesome.min.css"/>
<link rel="shortcut icon" href="images/favicon.png"/>

<script>
$(document).ready(function() {
    // this will tell tablesorter to try looking for the data-value attribute
    // if present, it'll sort by that instead
    // otherwise, it'll sort by the text content of the table cell
    $("#tablesorter").tablesorter({
        textAttribute: 'data-value',
        // ignores the first row of the header, the 'scenario', 'steps', since
        // sorting those doesn't make sense
        selectorHeaders: '> thead tr:not(.dont-sort) th',
        // use a stable sort
        sortStable: true
    });
});
</script>











<title>Cucumber Reports  - Feature: notificaciones/aprobada/aprobadaOkKKKKKK.feature</title>

</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top" id="navigation">
  <div class="container-fluid">
    <div class="collapse navbar-collapse">
      <p class="navbar-text navbar-left">Cucumber Report</p>
      <ul class="nav navbar-nav navbar-right">
        <li role="presentation" ><a href="overview-features.html">Features</a></li>
        <li role="presentation" ><a href="overview-tags.html">Tags</a></li>
        <li role="presentation" ><a href="overview-steps.html">Steps</a></li>
        <li role="presentation" ><a href="overview-failures.html">Failures</a></li>
      </ul>
    </div>
  </div>
</nav>


<div class="container-fluid">
  <div class="col-md-5 col-md-offset-1">

<table class="table table-bordered" id="build-info">
  <thead>
    <tr>
      <th>Project</th>
      <th>Date</th>
    </tr>
  </thead>
  <tbody>
    <tr class="info">
      <td>transacciones</td>
      <td>08 nov. 2023, 09:09</td>
    </tr>
  </tbody>
</table>

  </div>
  <div class="col-md-3 col-md-offset-2">
  </div>
</div>


<div id="report-lead" class="container-fluid">
  <div class="col-md-10 col-md-offset-1">
    <h2>Feature Report</h2>
  </div>
</div>


<div class="container-fluid" id="report">
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <table class="stats-table">


<thead>
  <tr class="header dont-sort">
      <th></th>
    <th colspan="6">Steps</th>
    <th colspan="3">Scenarios</th>
    <th colspan="2">Features</th>
  </tr>
  <tr>
    <th>Feature</th>
    <th class="passed">Passed</th>
    <th class="failed">Failed</th>
    <th class="skipped">Skipped</th>
    <th class="pending">Pending</th>
    <th class="undefined">Undefined</th>
    <th class="total">Total</th>

    <th class="passed">Passed</th>
    <th class="failed">Failed</th>
    <th class="total">Total</th>

    <th>Duration</th>
    <th>Status</th>
  </tr>
</thead>


        <tbody>
        <tr>
          <td class="tagname">notificaciones/aprobada/aprobadaOkKKKKKK.feature</td>
          <td      class="passed"    >1340</td>
          <td >0</td>
          <td >0</td>
          <td >0</td>
          <td >0</td>
          <td class="total">1340</td>

          <td  class="passed"    >36</td>
          <td >0</td>
          <td class="total">36</td>

          <td class="duration" data-value="48602729100">48.602</td>
          <td class="passed">Passed</td>
        </tr>
        </tbody>

      </table>
    </div>
  </div>
</div>



<div class="container-fluid">
  <div class="row">
    <div class="col-md-1 col-md-offset-10">
      <i class="fa fa-chevron-circle-down fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('show')"></i>
      <i class="fa fa-chevron-circle-up fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('hide')"></i>
    </div>
  </div>
</div>


<div class="container-fluid" id="report">
  <div class="row">
    <div class="col-md-10 col-md-offset-1">
      <div class="feature">

<div class="tags indention">
</div>


<div class="brief passed">
  <span class="keyword indention">Feature</span>
  <span class="name">notificaciones/aprobada/aprobadaOkKKKKKK.feature</span>


</div>

        <div class="description indention">Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta</div>

        <div class="elements inner-level">

<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">3.165</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-1">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-1" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-2">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-2" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.050</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-3">
          <a>Doc string</a>
      </div>
      <div id="msg-3" class="collapse collapsable-details">
        <pre>09:09:40.412 &lt;&lt; lock released, cached callSingle: classpath:helper/CrearToken.feature
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name- passed">
  <span class="keyword indention"></span>
  <span class="name">helper/CrearToken.feature</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-4">
          <a>Doc string</a>
      </div>
      <div id="msg-4" class="collapse collapsable-details">
        <pre>{
  &quot;pathUrl&quot;: &quot;/transactional/api/vouchers/transactions&quot;,
  &quot;apiToken&quot;: &quot;https://voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com/oauth2/token&quot;,
  &quot;url&quot;: &quot;https://apicorr.redebanvd.net&quot;,
  &quot;apiKey&quot;: &quot;tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g&quot;,
  &quot;tokenAuthorization&quot;: &quot;Basic NnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGw6MW5uNjVnOXA1bHY5cnZubHYwdTljNm52cnMzM2hramluNWVrNDNyNTJyYmcwaDhxdmhjMQ==&quot;
}
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-&amp;gt; Given passed">
  <span class="keyword indention">&gt; Given</span>
  <span class="name">url apiToken</span>

  <span class="lead-duration duration">0.001</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-5">
          <a>Doc string</a>
      </div>
      <div id="msg-5" class="collapse collapsable-details">
        <pre>09:09:38.367 karate.env system property was: dev 
09:09:38.378 &gt;&gt; lock acquired, begin callSingle: classpath:helper/CrearToken.feature
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-&amp;gt; And passed">
  <span class="keyword indention">&gt; And</span>
  <span class="name">header Content-Type = 'application/x-www-form-urlencoded'</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-&amp;gt; And passed">
  <span class="keyword indention">&gt; And</span>
  <span class="name">header Authorization = tokenAuthorization</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-&amp;gt; And passed">
  <span class="keyword indention">&gt; And</span>
  <span class="name">request 'grant_type=client_credentials&amp;Scope=consumers%2Ffabrica'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-&amp;gt; When passed">
  <span class="keyword indention">&gt; When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">1.927</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-6">
          <a>Doc string</a>
      </div>
      <div id="msg-6" class="collapse collapsable-details">
        <pre>09:09:39.309 request:
1 &gt; POST https://voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com/oauth2/token
1 &gt; Content-Type: application/x-www-form-urlencoded; charset=UTF-8
1 &gt; Authorization: Basic NnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGw6MW5uNjVnOXA1bHY5cnZubHYwdTljNm52cnMzM2hramluNWVrNDNyNTJyYmcwaDhxdmhjMQ==
1 &gt; Content-Length: 55
1 &gt; Host: voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
grant_type=client_credentials&amp;Scope=consumers%2Ffabrica

09:09:40.330 response time in milliseconds: 1006
1 &lt; 200
1 &lt; Date: Wed, 08 Nov 2023 14:09:39 GMT
1 &lt; Content-Type: application/json;charset=UTF-8
1 &lt; Transfer-Encoding: chunked
1 &lt; Connection: keep-alive
1 &lt; Content-Security-Policy-Report-Only: script-src https://d3oia8etllorh5.cloudfront.net https://voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com; style-src https://d3oia8etllorh5.cloudfront.net https://voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com; img-src https://d3oia8etllorh5.cloudfront.net https://voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com; report-uri https://voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com/cspreport
1 &lt; x-amz-cognito-request-id: bc7d9f66-04b0-4d51-b303-f43dcd492afc
1 &lt; X-Content-Type-Options: nosniff
1 &lt; X-XSS-Protection: 1; mode=block
1 &lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate
1 &lt; Pragma: no-cache
1 &lt; Expires: 0
1 &lt; Strict-Transport-Security: max-age=31536000 ; includeSubDomains
1 &lt; X-Frame-Options: DENY
1 &lt; Server: Server
1 &lt; Set-Cookie: XSRF-TOKEN=d6918043-0150-4639-b096-349230cba045; Domain=voucherdigitalclouddevcorr.auth.us-east-1.amazoncognito.com; Secure
{&quot;access_token&quot;:&quot;eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA&quot;,&quot;expires_in&quot;:1800,&quot;token_type&quot;:&quot;Bearer&quot;}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-&amp;gt; Then passed">
  <span class="keyword indention">&gt; Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-&amp;gt; * passed">
  <span class="keyword indention">&gt; *</span>
  <span class="name">def access_token = response.access_token</span>

  <span class="lead-duration duration">0.008</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.068</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.127</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.051</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.006</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.065</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.842</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.992</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-7">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-7" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-8">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-8" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0001&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;01&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">1.213</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-9">
          <a>Doc string</a>
      </div>
      <div id="msg-9" class="collapse collapsable-details">
        <pre>09:09:41.695 request:
2 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
2 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
2 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; Content-Length: 2015
2 &gt; Host: apicorr.redebanvd.net
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0001&quot;,&quot;atmId&quot;:&quot;814806aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;01&quot;,&quot;receipt&quot;:303012,&quot;rrn&quot;:303012,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;92962389****1112&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:303012},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]303012[0X0A][0X1C][0X2A][0X3A]0001[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 303012[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:42.883 response time in milliseconds: 1187
2 &lt; 200
2 &lt; Content-Type: application/json
2 &lt; Content-Length: 798
2 &lt; Connection: keep-alive
2 &lt; Date: Wed, 08 Nov 2023 14:09:42 GMT
2 &lt; x-amzn-RequestId: fb89f52d-6023-4102-b5ee-2e89e6f61553
2 &lt; Access-Control-Allow-Origin: *
2 &lt; x-amz-apigw-id: OFR54HJDoAMEPPg=
2 &lt; X-Amzn-Trace-Id: Root=1-654b96a5-1bed0eee28dd88b61e6c70d2
2 &lt; X-Cache: Miss from cloudfront
2 &lt; Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)
2 &lt; X-Amz-Cf-Pop: BOG50-C1
2 &lt; X-Amz-Cf-Id: KDpqkddVaGOSHtEiAfbeKcUIG5fyKCRF8JAYtslaMN0b_sImWt0eqw==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;814806aBcD&quot;,&quot;financialCode&quot;:&quot;0001&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN30301230301220231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;01&quot;,&quot;receipt&quot;:&quot;303012&quot;,&quot;rrn&quot;:&quot;303012&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;92962389****1112&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;303012&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN30301230301220231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090942&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.015</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.010</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.725</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.008</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-10">
          <a>Doc string</a>
      </div>
      <div id="msg-10" class="collapse collapsable-details">
        <pre>09:09:43.649 [print] valoresnumericos: [
  303012,
  303012
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.225</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-11">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-11" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-12">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-12" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.047</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-13">
          <a>Doc string</a>
      </div>
      <div id="msg-13" class="collapse collapsable-details">
        <pre>09:09:38.358 karate.env system property was: dev 
09:09:40.422 this thread waited 2026 milliseconds for callSingle lock: classpath:helper/CrearToken.feature
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.067</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.135</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.048</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.060</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.011</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.845</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.992</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-14">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-14" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-15">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-15" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0002&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;03&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;AH&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">1.214</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-16">
          <a>Doc string</a>
      </div>
      <div id="msg-16" class="collapse collapsable-details">
        <pre>09:09:41.678 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2015
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0002&quot;,&quot;atmId&quot;:&quot;593079aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;03&quot;,&quot;receipt&quot;:286649,&quot;rrn&quot;:286649,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;63963339****2625&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:286649},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]286649[0X0A][0X1C][0X2A][0X3A]0002[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 286649[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:42.884 response time in milliseconds: 1204
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 798
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:42 GMT
1 &lt; x-amzn-RequestId: c8596955-e351-4c39-8016-5d003c2fab6f
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR52EfZIAMEn8Q=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a5-48becffa032ab9de065b20bb
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: qqRBWZx4i5KbpyG6GJ1ewVWxKb-cAY5_UaYb-sfDJXPkYewqEwiHsQ==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;593079aBcD&quot;,&quot;financialCode&quot;:&quot;0002&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN28664928664920231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;03&quot;,&quot;receipt&quot;:&quot;286649&quot;,&quot;rrn&quot;:&quot;286649&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;63963339****2625&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;286649&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN28664928664920231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090942&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.014</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.007</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.728</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.008</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.001</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-17">
          <a>Doc string</a>
      </div>
      <div id="msg-17" class="collapse collapsable-details">
        <pre>09:09:43.647 [print] valoresnumericos: [
  286649,
  286649
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.263</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-18">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-18" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-19">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-19" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.089</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-20">
          <a>Doc string</a>
      </div>
      <div id="msg-20" class="collapse collapsable-details">
        <pre>09:09:38.395 karate.env system property was: dev 
09:09:40.414 this thread waited 2015 milliseconds for callSingle lock: classpath:helper/CrearToken.feature
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.020</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.224</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.029</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.009</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.019</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.009</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.767</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.004</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.060</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.026</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.911</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-21">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-21" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-22">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-22" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0007&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;80&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CC&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">1.139</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-23">
          <a>Doc string</a>
      </div>
      <div id="msg-23" class="collapse collapsable-details">
        <pre>09:09:41.757 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2015
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0007&quot;,&quot;atmId&quot;:&quot;762671aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;80&quot;,&quot;receipt&quot;:864940,&quot;rrn&quot;:864940,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;81303149****4049&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:864940},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]864940[0X0A][0X1C][0X2A][0X3A]0007[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 864940[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:42.893 response time in milliseconds: 1135
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 798
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:42 GMT
1 &lt; x-amzn-RequestId: adc3413a-15e6-4aa1-ac3f-366dd840de13
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR53GJSoAMEBAA=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a5-5e8113ce0aa33ad318f17e9e
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: 3jGO8AVuu_FGzzdIntp65Lx7SD4fJIlhPSLPG4Bh1VMjUzDhtbUgyg==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;762671aBcD&quot;,&quot;financialCode&quot;:&quot;0007&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN86494086494020231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;80&quot;,&quot;receipt&quot;:&quot;864940&quot;,&quot;rrn&quot;:&quot;864940&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;81303149****4049&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;864940&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN86494086494020231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090942&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.012</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.727</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.008</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.007</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-24">
          <a>Doc string</a>
      </div>
      <div id="msg-24" class="collapse collapsable-details">
        <pre>09:09:43.654 [print] valoresnumericos: [
  864940,
  864940
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.240</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-25">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-25" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-26">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-26" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.047</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-27">
          <a>Doc string</a>
      </div>
      <div id="msg-27" class="collapse collapsable-details">
        <pre>09:09:38.398 karate.env system property was: dev 
09:09:40.413 this thread waited 2011 milliseconds for callSingle lock: classpath:helper/CrearToken.feature
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.034</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.037</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.120</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.112</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.038</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.818</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.019</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.965</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-28">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-28" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-29">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-29" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0013&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;90&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CR&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">1.198</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-30">
          <a>Doc string</a>
      </div>
      <div id="msg-30" class="collapse collapsable-details">
        <pre>09:09:41.704 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2015
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0013&quot;,&quot;atmId&quot;:&quot;940452aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;90&quot;,&quot;receipt&quot;:893892,&quot;rrn&quot;:893892,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;69229712****4695&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:893892},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]893892[0X0A][0X1C][0X2A][0X3A]0013[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 893892[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:42.890 response time in milliseconds: 1186
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 798
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:42 GMT
1 &lt; x-amzn-RequestId: 0b44498e-6cdc-4687-880e-0dae4485ddcd
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR53GmuoAMEglg=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a5-1ec6a7d105b2a63440b769c7
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: tSUJ6I2M504STOkh6dfZuYLIJeY8j9Baf3yQB8wNTiYTOhA7qyUdSg==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;940452aBcD&quot;,&quot;financialCode&quot;:&quot;0013&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN89389289389220231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;90&quot;,&quot;receipt&quot;:&quot;893892&quot;,&quot;rrn&quot;:&quot;893892&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;69229712****4695&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;893892&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN89389289389220231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090942&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.012</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.005</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.725</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.008</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-31">
          <a>Doc string</a>
      </div>
      <div id="msg-31" class="collapse collapsable-details">
        <pre>09:09:43.649 [print] valoresnumericos: [
  893892,
  893892
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.127</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-32">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-32" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-33">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-33" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.004</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-34">
          <a>Doc string</a>
      </div>
      <div id="msg-34" class="collapse collapsable-details">
        <pre>09:09:43.681 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.069</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.004</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.018</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.020</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.047</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-35">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-35" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-36">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-36" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0023&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.310</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-37">
          <a>Doc string</a>
      </div>
      <div id="msg-37" class="collapse collapsable-details">
        <pre>09:09:43.827 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2015
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0023&quot;,&quot;atmId&quot;:&quot;646382aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;00&quot;,&quot;receipt&quot;:960329,&quot;rrn&quot;:960329,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;89926437****6770&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:960329},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]960329[0X0A][0X1C][0X2A][0X3A]0023[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 960329[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:44.134 response time in milliseconds: 307
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 798
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:43 GMT
1 &lt; x-amzn-RequestId: d0b04d32-d337-44dd-a07f-ab428f1b2013
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6LHh0oAMEihA=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a7-489fa0e45410ef6d22545d9f
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: 15Qa9dmULfUcneIFv31y21IzzVB-5DB2SaYWbpN_clUW8dbCP1oZXw==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;646382aBcD&quot;,&quot;financialCode&quot;:&quot;0023&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN96032996032920231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;00&quot;,&quot;receipt&quot;:&quot;960329&quot;,&quot;rrn&quot;:&quot;960329&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;89926437****6770&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;960329&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN96032996032920231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090943&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.718</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-38">
          <a>Doc string</a>
      </div>
      <div id="msg-38" class="collapse collapsable-details">
        <pre>09:09:44.861 [print] valoresnumericos: [
  960329,
  960329
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.094</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-39">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-39" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-40">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-40" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.005</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-41">
          <a>Doc string</a>
      </div>
      <div id="msg-41" class="collapse collapsable-details">
        <pre>09:09:43.663 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.064</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.008</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.016</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-42">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-42" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-43">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-43" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0051&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;05&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;AH&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.299</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-44">
          <a>Doc string</a>
      </div>
      <div id="msg-44" class="collapse collapsable-details">
        <pre>09:09:43.774 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2015
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0051&quot;,&quot;atmId&quot;:&quot;997475aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;05&quot;,&quot;receipt&quot;:943663,&quot;rrn&quot;:943663,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;85463382****9621&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:943663},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]943663[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 943663[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:44.070 response time in milliseconds: 296
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 798
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:43 GMT
1 &lt; x-amzn-RequestId: 93ef986d-1945-452b-8806-b85f083ff3bc
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6KHyZIAMEo0Q=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a7-5721aa9f00003c0452b78121
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 58e580cc043cb16a24dd53c7ad22b8d4.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: 3yUR5fSfVswhFpzN7BVb16P0NNJ7h7jo_4z86lgOaMJBVh7urINI6Q==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;997475aBcD&quot;,&quot;financialCode&quot;:&quot;0051&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN94366394366320231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;05&quot;,&quot;receipt&quot;:&quot;943663&quot;,&quot;rrn&quot;:&quot;943663&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;85463382****9621&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;943663&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN94366394366320231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090943&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.703</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-45">
          <a>Doc string</a>
      </div>
      <div id="msg-45" class="collapse collapsable-details">
        <pre>09:09:44.779 [print] valoresnumericos: [
  943663,
  943663
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.031</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-46">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-46" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-47">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-47" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.003</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-48">
          <a>Doc string</a>
      </div>
      <div id="msg-48" class="collapse collapsable-details">
        <pre>09:09:43.663 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.006</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.010</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.003</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-49">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-49" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-50">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-50" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0052&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;07&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CC&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.276</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-51">
          <a>Doc string</a>
      </div>
      <div id="msg-51" class="collapse collapsable-details">
        <pre>09:09:43.710 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2015
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0052&quot;,&quot;atmId&quot;:&quot;662948aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;07&quot;,&quot;receipt&quot;:916611,&quot;rrn&quot;:916611,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;35826805****1620&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:916611},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]916611[0X0A][0X1C][0X2A][0X3A]0052[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 916611[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:43.983 response time in milliseconds: 272
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 798
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:43 GMT
1 &lt; x-amzn-RequestId: d1449aa5-46ec-4839-8ef5-287ecc9bb033
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6KHYZoAMEajg=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a7-7f98701412a8588546bb733f
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: o7vtH841370xpWD4g3v4zD2mNulrlPayilmS5FHD-UU6eE3kPijYLQ==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;662948aBcD&quot;,&quot;financialCode&quot;:&quot;0052&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN91661191661120231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;07&quot;,&quot;receipt&quot;:&quot;916611&quot;,&quot;rrn&quot;:&quot;916611&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;35826805****1620&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;916611&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN91661191661120231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090943&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.712</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-52">
          <a>Doc string</a>
      </div>
      <div id="msg-52" class="collapse collapsable-details">
        <pre>09:09:44.702 [print] valoresnumericos: [
  916611,
  916611
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.063</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-53">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-53" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-54">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-54" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.012</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-55">
          <a>Doc string</a>
      </div>
      <div id="msg-55" class="collapse collapsable-details">
        <pre>09:09:43.674 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.014</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.010</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.014</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.100</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-56">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-56" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-57">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-57" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0903&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;02&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CR&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.368</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-58">
          <a>Doc string</a>
      </div>
      <div id="msg-58" class="collapse collapsable-details">
        <pre>09:09:43.753 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2015
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0903&quot;,&quot;atmId&quot;:&quot;872590aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;02&quot;,&quot;receipt&quot;:859032,&quot;rrn&quot;:859032,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;41488721****4995&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:859032},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]859032[0X0A][0X1C][0X2A][0X3A]0903[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 859032[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:44.119 response time in milliseconds: 366
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 798
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:43 GMT
1 &lt; x-amzn-RequestId: e6fd4edb-ec24-4d9b-a10b-94cbecb2f6c6
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6KGLAIAMEPlA=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a7-3ef8e7fc71014bd0343004a3
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: g9hamwuK3S2L5GB9cq_t-7wBrb50XW1DlA_uBluAMWyQXYvvAHIkWw==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;872590aBcD&quot;,&quot;financialCode&quot;:&quot;0903&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN85903285903220231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;02&quot;,&quot;receipt&quot;:&quot;859032&quot;,&quot;rrn&quot;:&quot;859032&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;41488721****4995&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;859032&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN85903285903220231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090943&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.716</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-59">
          <a>Doc string</a>
      </div>
      <div id="msg-59" class="collapse collapsable-details">
        <pre>09:09:44.843 [print] valoresnumericos: [
  859032,
  859032
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.018</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-60">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-60" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-61">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-61" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.003</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-62">
          <a>Doc string</a>
      </div>
      <div id="msg-62" class="collapse collapsable-details">
        <pre>09:09:44.709 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.004</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.996</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-63">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-63" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-64">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-64" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;6666&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;01&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.274</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-65">
          <a>Doc string</a>
      </div>
      <div id="msg-65" class="collapse collapsable-details">
        <pre>09:09:44.739 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2015
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;6666&quot;,&quot;atmId&quot;:&quot;231378aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;01&quot;,&quot;receipt&quot;:708398,&quot;rrn&quot;:708398,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;29338011****3980&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:708398},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]708398[0X0A][0X1C][0X2A][0X3A]6666[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 708398[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:45.011 response time in milliseconds: 272
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 798
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:44 GMT
1 &lt; x-amzn-RequestId: 243a9c29-a8dd-4313-846f-f3a2984f5097
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6UGheoAMEN9Q=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a8-0ac21f582825f4cc561a84dd
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 869c036dc9ef868f824b0e2d193f3f6c.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: pVvLO_PYPb1xs7f-IBbFIQuzulM9h0nBTIyhldX7Uc5txrjLop3wtQ==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;231378aBcD&quot;,&quot;financialCode&quot;:&quot;6666&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN70839870839820231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;01&quot;,&quot;receipt&quot;:&quot;708398&quot;,&quot;rrn&quot;:&quot;708398&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;29338011****3980&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;708398&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN70839870839820231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090944&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.713</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-66">
          <a>Doc string</a>
      </div>
      <div id="msg-66" class="collapse collapsable-details">
        <pre>09:09:45.728 [print] valoresnumericos: [
  708398,
  708398
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.020</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-67">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-67" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-68">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-68" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.004</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-69">
          <a>Doc string</a>
      </div>
      <div id="msg-69" class="collapse collapsable-details">
        <pre>09:09:44.785 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.007</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.104</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-70">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-70" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-71">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-71" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0001&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;2&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;AHORRO A LA MANO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;03&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;AH&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.391</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-72">
          <a>Doc string</a>
      </div>
      <div id="msg-72" class="collapse collapsable-details">
        <pre>09:09:44.817 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2035
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0001&quot;,&quot;atmId&quot;:&quot;257850aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;03&quot;,&quot;receipt&quot;:330646,&quot;rrn&quot;:330646,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;23419547****2237&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:330646},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]330646[0X0A][0X1C][0X2A][0X3A]0001[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 330646[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;2&quot;}}]}

09:09:45.206 response time in milliseconds: 388
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 808
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:44 GMT
1 &lt; x-amzn-RequestId: 28fea81d-898b-40ad-9634-4ecb7c710025
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6WHNwIAMED_w=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a8-0cfd5be74c5f59be3e4618d4
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 aeb457e87760dc433cf50cdb15399112.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: VtO2bHqKuzCJaeWoYOMOTB5-vCv8O-oQb92YqNO13X5fsCg7VbRz3Q==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;257850aBcD&quot;,&quot;financialCode&quot;:&quot;0001&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN33064633064620231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;03&quot;,&quot;receipt&quot;:&quot;330646&quot;,&quot;rrn&quot;:&quot;330646&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;23419547****2237&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;330646&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN33064633064620231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090944&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.704</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-73">
          <a>Doc string</a>
      </div>
      <div id="msg-73" class="collapse collapsable-details">
        <pre>09:09:45.915 [print] valoresnumericos: [
  330646,
  330646
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.031</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-74">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-74" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-75">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-75" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.007</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-76">
          <a>Doc string</a>
      </div>
      <div id="msg-76" class="collapse collapsable-details">
        <pre>09:09:44.851 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.007</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.009</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.014</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-77">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-77" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-78">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-78" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0002&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;AHORRO A LA MANO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;80&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CC&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.292</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-79">
          <a>Doc string</a>
      </div>
      <div id="msg-79" class="collapse collapsable-details">
        <pre>09:09:44.891 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2035
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0002&quot;,&quot;atmId&quot;:&quot;773965aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;80&quot;,&quot;receipt&quot;:602593,&quot;rrn&quot;:602593,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;80494878****5291&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:602593},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]602593[0X0A][0X1C][0X2A][0X3A]0002[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 602593[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:45.181 response time in milliseconds: 290
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 808
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:44 GMT
1 &lt; x-amzn-RequestId: 27e928df-8584-499d-9379-8c524706481f
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6VGdJoAMEZXQ=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a8-62bed5d622fd86f744deeff8
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 aeb457e87760dc433cf50cdb15399112.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: jV9rv2GiyRQQqCsBHTiD4vWDLqLIePO0eEkjoXXFjnK_1rhdYRgTuA==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;773965aBcD&quot;,&quot;financialCode&quot;:&quot;0002&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN60259360259320231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;80&quot;,&quot;receipt&quot;:&quot;602593&quot;,&quot;rrn&quot;:&quot;602593&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;80494878****5291&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;602593&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN60259360259320231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090944&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.713</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-80">
          <a>Doc string</a>
      </div>
      <div id="msg-80" class="collapse collapsable-details">
        <pre>09:09:45.900 [print] valoresnumericos: [
  602593,
  602593
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.031</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-81">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-81" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-82">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-82" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.008</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-83">
          <a>Doc string</a>
      </div>
      <div id="msg-83" class="collapse collapsable-details">
        <pre>09:09:44.867 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.015</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.107</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-84">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-84" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-85">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-85" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0007&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;AHORRO A LA MANO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;90&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CR&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.395</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-86">
          <a>Doc string</a>
      </div>
      <div id="msg-86" class="collapse collapsable-details">
        <pre>09:09:44.910 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2035
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0007&quot;,&quot;atmId&quot;:&quot;571675aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;90&quot;,&quot;receipt&quot;:294430,&quot;rrn&quot;:294430,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;35929463****9011&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:294430},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]294430[0X0A][0X1C][0X2A][0X3A]0007[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 294430[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:45.302 response time in milliseconds: 392
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 808
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:44 GMT
1 &lt; x-amzn-RequestId: b3b20ad0-5798-45f4-ab10-e8a3ab13cf56
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6XHYHoAMEFig=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a8-25eb28e7252bdb1370ca43f3
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: iN14Jgk5hdcq6MiJ07zS6qHfDkRcIWSLMY-lIt3XQ0cXaJ9g0tKaMA==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;571675aBcD&quot;,&quot;financialCode&quot;:&quot;0007&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN29443029443020231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;90&quot;,&quot;receipt&quot;:&quot;294430&quot;,&quot;rrn&quot;:&quot;294430&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;35929463****9011&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;294430&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN29443029443020231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090944&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.702</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-87">
          <a>Doc string</a>
      </div>
      <div id="msg-87" class="collapse collapsable-details">
        <pre>09:09:46.009 [print] valoresnumericos: [
  294430,
  294430
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.013</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-88">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-88" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-89">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-89" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-90">
          <a>Doc string</a>
      </div>
      <div id="msg-90" class="collapse collapsable-details">
        <pre>09:09:45.733 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.004</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.947</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-91">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-91" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-92">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-92" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0013&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;AHORRO A LA MANO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.222</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-93">
          <a>Doc string</a>
      </div>
      <div id="msg-93" class="collapse collapsable-details">
        <pre>09:09:45.755 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2035
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0013&quot;,&quot;atmId&quot;:&quot;953698aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;00&quot;,&quot;receipt&quot;:301723,&quot;rrn&quot;:301723,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;12881893****3723&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:301723},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]301723[0X0A][0X1C][0X2A][0X3A]0013[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 301723[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:45.975 response time in milliseconds: 220
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 808
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:45 GMT
1 &lt; x-amzn-RequestId: 8c7dfd1a-39e8-4333-b8cc-b9a095ab8438
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6eGlsoAMEUYA=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a9-1a0774f924d7ab5729625fc1
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 568ad9caa2120691717b6a64d150a264.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: yQzNDgEL3TK1QJq6cLTuF5AQlYXfvOUcyKmS0Ws5fbpG6f11O1Zbng==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;953698aBcD&quot;,&quot;financialCode&quot;:&quot;0013&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN30172330172320231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;00&quot;,&quot;receipt&quot;:&quot;301723&quot;,&quot;rrn&quot;:&quot;301723&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;12881893****3723&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;301723&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN30172330172320231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090945&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.713</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-94">
          <a>Doc string</a>
      </div>
      <div id="msg-94" class="collapse collapsable-details">
        <pre>09:09:46.702 [print] valoresnumericos: [
  301723,
  301723
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.019</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-95">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-95" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-96">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-96" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-97">
          <a>Doc string</a>
      </div>
      <div id="msg-97" class="collapse collapsable-details">
        <pre>09:09:45.904 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.010</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.003</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-98">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-98" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-99">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-99" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0051&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;AHORRO A LA MANO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;05&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;AH&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.275</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-100">
          <a>Doc string</a>
      </div>
      <div id="msg-100" class="collapse collapsable-details">
        <pre>09:09:45.957 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2035
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0051&quot;,&quot;atmId&quot;:&quot;407738aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;05&quot;,&quot;receipt&quot;:952675,&quot;rrn&quot;:952675,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;19635021****6714&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:952675},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]952675[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 952675[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:46.207 response time in milliseconds: 250
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 808
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:45 GMT
1 &lt; x-amzn-RequestId: f28a80ab-16c0-435f-8ecf-e81782fc9b40
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6gERloAMEb0Q=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a9-306b2b12027fc8583013d953
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: ARPq-q68vS1kDzwrxxRY5rE77Zxyt3vxcg8504tMUd176SyoGIBWrQ==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;407738aBcD&quot;,&quot;financialCode&quot;:&quot;0051&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN95267595267520231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;05&quot;,&quot;receipt&quot;:&quot;952675&quot;,&quot;rrn&quot;:&quot;952675&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;19635021****6714&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;952675&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN95267595267520231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090945&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.716</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-101">
          <a>Doc string</a>
      </div>
      <div id="msg-101" class="collapse collapsable-details">
        <pre>09:09:46.932 [print] valoresnumericos: [
  952675,
  952675
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.023</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-102">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-102" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-103">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-103" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-104">
          <a>Doc string</a>
      </div>
      <div id="msg-104" class="collapse collapsable-details">
        <pre>09:09:45.919 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.014</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.969</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-105">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-105" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-106">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-106" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0051&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;AHORRO A LA MANO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;07&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CC&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.258</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-107">
          <a>Doc string</a>
      </div>
      <div id="msg-107" class="collapse collapsable-details">
        <pre>09:09:45.951 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2034
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0051&quot;,&quot;atmId&quot;:&quot;16289aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;07&quot;,&quot;receipt&quot;:169097,&quot;rrn&quot;:169097,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;33784576****7862&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:169097},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]169097[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 169097[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:46.207 response time in milliseconds: 256
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 807
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:45 GMT
1 &lt; x-amzn-RequestId: e085255b-e215-490a-b30d-08960b48e0c0
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6gE7rIAMEbEg=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a9-4bbb109b0ad1364967c4eec9
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 5d916dd63294253ded878b26198e5c76.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: vWmr-vUbql446MeZadRYidJait1rMa1DWWZJpSJNX3yQWZOVxPsmTQ==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;16289aBcD&quot;,&quot;financialCode&quot;:&quot;0051&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN16909716909720231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;07&quot;,&quot;receipt&quot;:&quot;169097&quot;,&quot;rrn&quot;:&quot;169097&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;33784576****7862&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;169097&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN16909716909720231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090945&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.702</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.001</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-108">
          <a>Doc string</a>
      </div>
      <div id="msg-108" class="collapse collapsable-details">
        <pre>09:09:46.915 [print] valoresnumericos: [
  169097,
  169097
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.046</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-109">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-109" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-110">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-110" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.007</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-111">
          <a>Doc string</a>
      </div>
      <div id="msg-111" class="collapse collapsable-details">
        <pre>09:09:46.014 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.029</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.099</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-112">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-112" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-113">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-113" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0052&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;AHORRO A LA MANO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;02&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CR&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.373</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-114">
          <a>Doc string</a>
      </div>
      <div id="msg-114" class="collapse collapsable-details">
        <pre>09:09:46.071 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2035
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0052&quot;,&quot;atmId&quot;:&quot;533226aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;02&quot;,&quot;receipt&quot;:391538,&quot;rrn&quot;:391538,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;34748422****1824&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:391538},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]391538[0X0A][0X1C][0X2A][0X3A]0052[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 391538[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:46.440 response time in milliseconds: 369
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 808
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:45 GMT
1 &lt; x-amzn-RequestId: 7ca6e411-9cf2-44cb-8cc9-8c28bc23d32c
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6iHbZIAMENjg=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96a9-47dd7c2b0b709d282a3070bb
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 c044357f15da715d4a1fab016bbf0008.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: hECJAcF7lXR_9EjsfoVkL2KaVl_fNk7kfQ2kRnNaZG_S9VrgptGEjQ==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;533226aBcD&quot;,&quot;financialCode&quot;:&quot;0052&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN39153839153820231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;02&quot;,&quot;receipt&quot;:&quot;391538&quot;,&quot;rrn&quot;:&quot;391538&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;34748422****1824&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;391538&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN39153839153820231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090945&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.716</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-115">
          <a>Doc string</a>
      </div>
      <div id="msg-115" class="collapse collapsable-details">
        <pre>09:09:47.162 [print] valoresnumericos: [
  391538,
  391538
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.022</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-116">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-116" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-117">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-117" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-118">
          <a>Doc string</a>
      </div>
      <div id="msg-118" class="collapse collapsable-details">
        <pre>09:09:46.711 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.009</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.933</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-119">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-119" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-120">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-120" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0903&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;AHORRO A LA MANO&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;01&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.214</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-121">
          <a>Doc string</a>
      </div>
      <div id="msg-121" class="collapse collapsable-details">
        <pre>09:09:46.747 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2034
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0903&quot;,&quot;atmId&quot;:&quot;60103aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;01&quot;,&quot;receipt&quot;:140173,&quot;rrn&quot;:140173,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;97962444****9321&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:140173},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]140173[0X0A][0X1C][0X2A][0X3A]0903[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 140173[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:46.959 response time in milliseconds: 212
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 807
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:46 GMT
1 &lt; x-amzn-RequestId: b27b371e-7a59-41d6-9a60-0ff6438ee495
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6nGMsIAMECFQ=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96aa-4742f95502ff132e4950f450
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: ASM_GVdBlWZu7mAhtZ9TcjmAxxqOpIuHrQ9hjZ3R0TlB8pQGZpJXgw==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;60103aBcD&quot;,&quot;financialCode&quot;:&quot;0903&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN14017314017320231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;01&quot;,&quot;receipt&quot;:&quot;140173&quot;,&quot;rrn&quot;:&quot;140173&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;97962444****9321&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;140173&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN14017314017320231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090946&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.706</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-122">
          <a>Doc string</a>
      </div>
      <div id="msg-122" class="collapse collapsable-details">
        <pre>09:09:47.670 [print] valoresnumericos: [
  140173,
  140173
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.020</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-123">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-123" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-124">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-124" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.003</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-125">
          <a>Doc string</a>
      </div>
      <div id="msg-125" class="collapse collapsable-details">
        <pre>09:09:46.921 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.008</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.943</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-126">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-126" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-127">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-127" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;6666&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;AHORRO A LA MANO&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;03&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;AH&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.227</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-128">
          <a>Doc string</a>
      </div>
      <div id="msg-128" class="collapse collapsable-details">
        <pre>09:09:46.954 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2035
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;6666&quot;,&quot;atmId&quot;:&quot;229142aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;03&quot;,&quot;receipt&quot;:997772,&quot;rrn&quot;:997772,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;64125414****4087&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:997772},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]997772[0X0A][0X1C][0X2A][0X3A]6666[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 997772[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:47.179 response time in milliseconds: 225
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 808
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:46 GMT
1 &lt; x-amzn-RequestId: 058947db-8b41-4783-a49e-134fa2376e18
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6qHeAoAMEYiw=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96aa-122c2cac6ea60be20e1a806f
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 2d239e78b64a4ffa9692116c44a01d38.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: LRzBVX4oovvqtRablICVnpA1Hj-Dzm1LQkN6YXNM3KnHwn4_IDSo7Q==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;229142aBcD&quot;,&quot;financialCode&quot;:&quot;6666&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN99777299777220231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;03&quot;,&quot;receipt&quot;:&quot;997772&quot;,&quot;rrn&quot;:&quot;997772&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;AHORRO A LA MANO&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;64125414****4087&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;997772&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN99777299777220231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090946&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.703</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-129">
          <a>Doc string</a>
      </div>
      <div id="msg-129" class="collapse collapsable-details">
        <pre>09:09:47.889 [print] valoresnumericos: [
  997772,
  997772
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.067</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-130">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-130" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-131">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-131" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.014</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-132">
          <a>Doc string</a>
      </div>
      <div id="msg-132" class="collapse collapsable-details">
        <pre>09:09:46.938 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.043</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.121</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-133">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-133" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-134">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-134" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0001&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO NEQUI&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;80&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CC&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.399</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-135">
          <a>Doc string</a>
      </div>
      <div id="msg-135" class="collapse collapsable-details">
        <pre>09:09:47.018 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0001&quot;,&quot;atmId&quot;:&quot;585306aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;80&quot;,&quot;receipt&quot;:558206,&quot;rrn&quot;:558206,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;91809548****2277&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:558206},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]558206[0X0A][0X1C][0X2A][0X3A]0001[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 558206[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:47.413 response time in milliseconds: 395
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:46 GMT
1 &lt; x-amzn-RequestId: 9a2ad423-a07f-4e84-b971-4e25904a4eb2
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6sEPCoAMEgiw=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96aa-2cdc110221f546036858e689
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 55fac76ddad4056139456fd010801a3a.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: bZfVBbEwljiYaFHiNug578_-YH9kJYtlYTwGScGsfTKwyr1D3D4z4Q==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;585306aBcD&quot;,&quot;financialCode&quot;:&quot;0001&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN55820655820620231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;80&quot;,&quot;receipt&quot;:&quot;558206&quot;,&quot;rrn&quot;:&quot;558206&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;91809548****2277&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;558206&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN55820655820620231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090946&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.709</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.001</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-136">
          <a>Doc string</a>
      </div>
      <div id="msg-136" class="collapse collapsable-details">
        <pre>09:09:48.130 [print] valoresnumericos: [
  558206,
  558206
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.042</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-137">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-137" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-138">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-138" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.005</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-139">
          <a>Doc string</a>
      </div>
      <div id="msg-139" class="collapse collapsable-details">
        <pre>09:09:47.168 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.006</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.020</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.992</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-140">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-140" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-141">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-141" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0002&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO NEQUI&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;90&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CR&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.251</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-142">
          <a>Doc string</a>
      </div>
      <div id="msg-142" class="collapse collapsable-details">
        <pre>09:09:47.221 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0002&quot;,&quot;atmId&quot;:&quot;571688aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;90&quot;,&quot;receipt&quot;:241771,&quot;rrn&quot;:241771,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;42645948****9278&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:241771},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]241771[0X0A][0X1C][0X2A][0X3A]0002[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 241771[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:47.470 response time in milliseconds: 247
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:46 GMT
1 &lt; x-amzn-RequestId: 9510e3e7-26bc-4b52-87a7-bd8194b54a62
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6tFyTIAMEe6A=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96aa-6e04e99d0f14168f486fee3a
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 d413fb750cb8c5d3a6bce4d80dedeb9a.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: GfSCgpQxaRvC8izKNtvLetLTRLH7f3BBtifB7tgi3HaV2BHs3wzmAQ==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;571688aBcD&quot;,&quot;financialCode&quot;:&quot;0002&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN24177124177120231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;90&quot;,&quot;receipt&quot;:&quot;241771&quot;,&quot;rrn&quot;:&quot;241771&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;42645948****9278&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;241771&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN24177124177120231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090946&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.719</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.012</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-143">
          <a>Doc string</a>
      </div>
      <div id="msg-143" class="collapse collapsable-details">
        <pre>09:09:48.205 [print] valoresnumericos: [
  241771,
  241771
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.017</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-144">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-144" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-145">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-145" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-146">
          <a>Doc string</a>
      </div>
      <div id="msg-146" class="collapse collapsable-details">
        <pre>09:09:47.677 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.007</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.094</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-147">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-147" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-148">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-148" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0007&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO NEQUI&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;00&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.380</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-149">
          <a>Doc string</a>
      </div>
      <div id="msg-149" class="collapse collapsable-details">
        <pre>09:09:47.704 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0007&quot;,&quot;atmId&quot;:&quot;718130aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;00&quot;,&quot;receipt&quot;:268543,&quot;rrn&quot;:268543,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;58858942****7360&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:268543},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]268543[0X0A][0X1C][0X2A][0X3A]0007[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 268543[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:48.082 response time in milliseconds: 377
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:47 GMT
1 &lt; x-amzn-RequestId: c4c17705-17d6-4994-ae1a-173642148848
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6zFonIAMEfQQ=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ab-6fa5bdd66f10ac1d0a38c543
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: x47530t4bJj4rlOtXQrHPLTMX_WzXIdO8gY5-lTJOqqmBa_UPtyogA==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;718130aBcD&quot;,&quot;financialCode&quot;:&quot;0007&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN26854326854320231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;00&quot;,&quot;receipt&quot;:&quot;268543&quot;,&quot;rrn&quot;:&quot;268543&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;58858942****7360&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;268543&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN26854326854320231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090947&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.704</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-150">
          <a>Doc string</a>
      </div>
      <div id="msg-150" class="collapse collapsable-details">
        <pre>09:09:48.790 [print] valoresnumericos: [
  268543,
  268543
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.012</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-151">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-151" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-152">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-152" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-153">
          <a>Doc string</a>
      </div>
      <div id="msg-153" class="collapse collapsable-details">
        <pre>09:09:47.893 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.004</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.929</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-154">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-154" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-155">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-155" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0013&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO NEQUI&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;05&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;AH&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.210</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-156">
          <a>Doc string</a>
      </div>
      <div id="msg-156" class="collapse collapsable-details">
        <pre>09:09:47.913 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0013&quot;,&quot;atmId&quot;:&quot;571661aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;05&quot;,&quot;receipt&quot;:847642,&quot;rrn&quot;:847642,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;23422709****3492&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:847642},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]847642[0X0A][0X1C][0X2A][0X3A]0013[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 847642[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:48.121 response time in milliseconds: 208
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:47 GMT
1 &lt; x-amzn-RequestId: 98587f47-1693-445d-928f-04bc210ac609
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6zFZzoAMEq3A=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ab-2914e96e337536cb4eb5e304
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 9ed8916b9feb65549f1dda4f6da86046.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: mz6evKtjUMxsDTGw9GR3jEoHLa8BZJTm1BxdC99Z8OjTFeDMSAcaVQ==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;571661aBcD&quot;,&quot;financialCode&quot;:&quot;0013&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN84764284764220231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;05&quot;,&quot;receipt&quot;:&quot;847642&quot;,&quot;rrn&quot;:&quot;847642&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;23422709****3492&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;847642&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN84764284764220231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090947&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.712</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-157">
          <a>Doc string</a>
      </div>
      <div id="msg-157" class="collapse collapsable-details">
        <pre>09:09:48.838 [print] valoresnumericos: [
  847642,
  847642
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.053</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-158">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-158" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-159">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-159" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.029</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-160">
          <a>Doc string</a>
      </div>
      <div id="msg-160" class="collapse collapsable-details">
        <pre>09:09:48.137 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.013</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.112</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-161">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-161" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-162">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-162" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0023&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO NEQUI&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;07&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CC&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.395</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-163">
          <a>Doc string</a>
      </div>
      <div id="msg-163" class="collapse collapsable-details">
        <pre>09:09:48.199 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0023&quot;,&quot;atmId&quot;:&quot;564914aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;07&quot;,&quot;receipt&quot;:518835,&quot;rrn&quot;:518835,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;69653286****4288&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:518835},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]518835[0X0A][0X1C][0X2A][0X3A]0023[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 518835[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:48.592 response time in milliseconds: 393
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:47 GMT
1 &lt; x-amzn-RequestId: 2934befe-21a0-4afa-af83-55c6a6911106
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR64EA6IAMEq9g=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ab-48e274740600de396d4a869e
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: 56GELLwEzgVOBJaCGVY6fPGhNcYHJ-dwbyXHVNNe2eRpC4AsWUMdEw==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;564914aBcD&quot;,&quot;financialCode&quot;:&quot;0023&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN51883551883520231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;07&quot;,&quot;receipt&quot;:&quot;518835&quot;,&quot;rrn&quot;:&quot;518835&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;69653286****4288&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;518835&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN51883551883520231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090947&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.710</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-164">
          <a>Doc string</a>
      </div>
      <div id="msg-164" class="collapse collapsable-details">
        <pre>09:09:49.307 [print] valoresnumericos: [
  518835,
  518835
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.038</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-165">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-165" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-166">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-166" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.005</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-167">
          <a>Doc string</a>
      </div>
      <div id="msg-167" class="collapse collapsable-details">
        <pre>09:09:48.214 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.028</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.066</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-168">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-168" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-169">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-169" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0051&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO NEQUI&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;02&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CR&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.352</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-170">
          <a>Doc string</a>
      </div>
      <div id="msg-170" class="collapse collapsable-details">
        <pre>09:09:48.261 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0051&quot;,&quot;atmId&quot;:&quot;789796aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;02&quot;,&quot;receipt&quot;:935484,&quot;rrn&quot;:935484,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;32126744****2385&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:935484},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]935484[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 935484[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:48.611 response time in milliseconds: 350
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:47 GMT
1 &lt; x-amzn-RequestId: e6b36f1d-6caa-4fd5-9a36-673be115c523
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR64Fq3oAMEJ6Q=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ab-3a9f95982f9d09043308cbf2
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 0810c561d2d8c3465d6b198501ec46fa.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: D4xHKoQq_u_a2HPxQjIwUonMAxdZOobI9OZ1ROw8WLQyY9iB7ZooTg==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;789796aBcD&quot;,&quot;financialCode&quot;:&quot;0051&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN93548493548420231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;02&quot;,&quot;receipt&quot;:&quot;935484&quot;,&quot;rrn&quot;:&quot;935484&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;32126744****2385&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;935484&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN93548493548420231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090947&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.709</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-171">
          <a>Doc string</a>
      </div>
      <div id="msg-171" class="collapse collapsable-details">
        <pre>09:09:49.323 [print] valoresnumericos: [
  935484,
  935484
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.012</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-172">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-172" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-173">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-173" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.003</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-174">
          <a>Doc string</a>
      </div>
      <div id="msg-174" class="collapse collapsable-details">
        <pre>09:09:48.794 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.004</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.104</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-175">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-175" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-176">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-176" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0052&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO NEQUI&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;01&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.391</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-177">
          <a>Doc string</a>
      </div>
      <div id="msg-177" class="collapse collapsable-details">
        <pre>09:09:48.813 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0052&quot;,&quot;atmId&quot;:&quot;126599aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;01&quot;,&quot;receipt&quot;:386474,&quot;rrn&quot;:386474,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;65713722****5315&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:386474},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]386474[0X0A][0X1C][0X2A][0X3A]0052[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 386474[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:49.202 response time in milliseconds: 389
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:48 GMT
1 &lt; x-amzn-RequestId: 6f4a8853-d493-409b-822d-511463cb2e8f
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR6-HkRIAMER8A=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ac-674477d13a9013807e5589f6
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 2d239e78b64a4ffa9692116c44a01d38.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: Nr_3xwtNF_CyBZPnBda9B3YKnyV239FcuSZFC5GHyDdIPRGAAFZ-xg==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;126599aBcD&quot;,&quot;financialCode&quot;:&quot;0052&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN38647438647420231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;01&quot;,&quot;receipt&quot;:&quot;386474&quot;,&quot;rrn&quot;:&quot;386474&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;65713722****5315&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;386474&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN38647438647420231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090948&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.708</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-178">
          <a>Doc string</a>
      </div>
      <div id="msg-178" class="collapse collapsable-details">
        <pre>09:09:49.914 [print] valoresnumericos: [
  386474,
  386474
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.022</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-179">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-179" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-180">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-180" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-181">
          <a>Doc string</a>
      </div>
      <div id="msg-181" class="collapse collapsable-details">
        <pre>09:09:48.842 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.004</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.007</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.015</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-182">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-182" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-183">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-183" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0903&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO NEQUI&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;03&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;AH&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.299</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-184">
          <a>Doc string</a>
      </div>
      <div id="msg-184" class="collapse collapsable-details">
        <pre>09:09:48.871 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0903&quot;,&quot;atmId&quot;:&quot;311688aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;03&quot;,&quot;receipt&quot;:708263,&quot;rrn&quot;:708263,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;95072736****9844&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:708263},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]708263[0X0A][0X1C][0X2A][0X3A]0903[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 708263[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:49.168 response time in milliseconds: 296
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:48 GMT
1 &lt; x-amzn-RequestId: 5f933a3d-e53c-4371-a9f3-ca0c19384cce
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR69EmioAMEfig=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ac-0d98542c47c29c980c279feb
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: 8EoFabnMjWf3WH6hANMwipK3RSChF9ZwV6y7VuiVzzyJ2cx9WLmUbw==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;311688aBcD&quot;,&quot;financialCode&quot;:&quot;0903&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN70826370826320231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;03&quot;,&quot;receipt&quot;:&quot;708263&quot;,&quot;rrn&quot;:&quot;708263&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;95072736****9844&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;708263&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN70826370826320231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090948&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.711</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-185">
          <a>Doc string</a>
      </div>
      <div id="msg-185" class="collapse collapsable-details">
        <pre>09:09:49.883 [print] valoresnumericos: [
  708263,
  708263
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.020</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-186">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-186" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-187">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-187" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.004</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-188">
          <a>Doc string</a>
      </div>
      <div id="msg-188" class="collapse collapsable-details">
        <pre>09:09:49.313 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.009</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.087</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-189">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-189" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-190">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-190" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;6666&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO NEQUI&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;80&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CC&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.352</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-191">
          <a>Doc string</a>
      </div>
      <div id="msg-191" class="collapse collapsable-details">
        <pre>09:09:49.344 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;6666&quot;,&quot;atmId&quot;:&quot;732426aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;80&quot;,&quot;receipt&quot;:962307,&quot;rrn&quot;:962307,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;54345076****4967&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:962307},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]962307[0X0A][0X1C][0X2A][0X3A]6666[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 962307[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:49.694 response time in milliseconds: 349
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:48 GMT
1 &lt; x-amzn-RequestId: 221e4bc4-ef74-4adb-86e3-753794edbe51
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR7DGDnIAMECbg=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ac-02ea2bed557cbcb04ee998fa
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: f9BF3ITs6liLH2KNlCaVkAEvjjvwTnG7SGTs_AQrPnufUwqBoolfTA==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;732426aBcD&quot;,&quot;financialCode&quot;:&quot;6666&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN96230796230720231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;80&quot;,&quot;receipt&quot;:&quot;962307&quot;,&quot;rrn&quot;:&quot;962307&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO NEQUI&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;54345076****4967&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;962307&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN96230796230720231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090948&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.720</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.005</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.001</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-192">
          <a>Doc string</a>
      </div>
      <div id="msg-192" class="collapse collapsable-details">
        <pre>09:09:50.423 [print] valoresnumericos: [
  962307,
  962307
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.043</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-193">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-193" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-194">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-194" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.012</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-195">
          <a>Doc string</a>
      </div>
      <div id="msg-195" class="collapse collapsable-details">
        <pre>09:09:49.330 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.022</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.987</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-196">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-196" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-197">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-197" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0001&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO PAGOS&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;90&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CR&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.255</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-198">
          <a>Doc string</a>
      </div>
      <div id="msg-198" class="collapse collapsable-details">
        <pre>09:09:49.383 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0001&quot;,&quot;atmId&quot;:&quot;615562aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;90&quot;,&quot;receipt&quot;:167025,&quot;rrn&quot;:167025,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;18029817****1412&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:167025},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]167025[0X0A][0X1C][0X2A][0X3A]0001[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 167025[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:49.633 response time in milliseconds: 250
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:48 GMT
1 &lt; x-amzn-RequestId: 77ad5c23-20df-4cd0-8457-dff59b02ba98
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR7CGp2oAMEZXQ=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ac-0fbca121363486920d955bf3
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 9392bec93929f0dc915a3fd38b30faaa.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: dOnmjwTQNsVTQLFlPMFvYTIovhE4Wo9LQ4oeLkTJ_1GlQLlKlgmQ-g==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;615562aBcD&quot;,&quot;financialCode&quot;:&quot;0001&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN16702516702520231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;90&quot;,&quot;receipt&quot;:&quot;167025&quot;,&quot;rrn&quot;:&quot;167025&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;18029817****1412&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;167025&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN16702516702520231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090948&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.706</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.015</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.001</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-199">
          <a>Doc string</a>
      </div>
      <div id="msg-199" class="collapse collapsable-details">
        <pre>09:09:50.363 [print] valoresnumericos: [
  167025,
  167025
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.014</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-200">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-200" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-201">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-201" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-202">
          <a>Doc string</a>
      </div>
      <div id="msg-202" class="collapse collapsable-details">
        <pre>09:09:49.886 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.006</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.927</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-203">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-203" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-204">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-204" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0002&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO PAGOS&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.211</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-205">
          <a>Doc string</a>
      </div>
      <div id="msg-205" class="collapse collapsable-details">
        <pre>09:09:49.908 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0002&quot;,&quot;atmId&quot;:&quot;694217aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;00&quot;,&quot;receipt&quot;:227711,&quot;rrn&quot;:227711,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;26283003****2740&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:227711},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]227711[0X0A][0X1C][0X2A][0X3A]0002[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 227711[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:50.118 response time in milliseconds: 209
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:49 GMT
1 &lt; x-amzn-RequestId: efbeb234-ca78-4b31-830e-8bbf4789417c
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR7HEbfoAMEOlg=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ad-1e435eb76735e4ec6e5cd584
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: CdtugRwayMEpD9XxohcYHRUYPHMDpC6YpSw4LkaAuK38DLDkFPbqqA==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;694217aBcD&quot;,&quot;financialCode&quot;:&quot;0002&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN22771122771120231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;00&quot;,&quot;receipt&quot;:&quot;227711&quot;,&quot;rrn&quot;:&quot;227711&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;26283003****2740&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;227711&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN22771122771120231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090949&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.707</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-206">
          <a>Doc string</a>
      </div>
      <div id="msg-206" class="collapse collapsable-details">
        <pre>09:09:50.831 [print] valoresnumericos: [
  227711,
  227711
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.023</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-207">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-207" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-208">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-208" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-209">
          <a>Doc string</a>
      </div>
      <div id="msg-209" class="collapse collapsable-details">
        <pre>09:09:49.918 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.006</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.008</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.012</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-210">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-210" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-211">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-211" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0007&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO PAGOS&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;05&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;AH&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.291</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-212">
          <a>Doc string</a>
      </div>
      <div id="msg-212" class="collapse collapsable-details">
        <pre>09:09:49.950 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0007&quot;,&quot;atmId&quot;:&quot;980253aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;05&quot;,&quot;receipt&quot;:580220,&quot;rrn&quot;:580220,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;36431190****3740&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:580220},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]580220[0X0A][0X1C][0X2A][0X3A]0007[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 580220[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:50.239 response time in milliseconds: 288
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:49 GMT
1 &lt; x-amzn-RequestId: 8288fd80-a29a-490e-9151-fa78d5af474f
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR7IF5TIAMEUxw=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ad-0c4c2a6c08e4bdf450ccde67
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 6601fbbc90b8dda94116d5c1ba488442.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: RH4qUqNP6lQTLHzZ90xXR-haG8I7zS7pxdJLH88_stml0e8sA-JFVg==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;980253aBcD&quot;,&quot;financialCode&quot;:&quot;0007&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN58022058022020231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;05&quot;,&quot;receipt&quot;:&quot;580220&quot;,&quot;rrn&quot;:&quot;580220&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;36431190****3740&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;580220&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN58022058022020231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090949&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.710</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-213">
          <a>Doc string</a>
      </div>
      <div id="msg-213" class="collapse collapsable-details">
        <pre>09:09:50.955 [print] valoresnumericos: [
  580220,
  580220
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.112</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-214">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-214" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-215">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-215" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.021</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-216">
          <a>Doc string</a>
      </div>
      <div id="msg-216" class="collapse collapsable-details">
        <pre>09:09:50.379 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.071</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.100</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-217">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-217" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-218">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-218" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.003</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0013&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO PAGOS&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;07&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CC&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.005</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.378</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-219">
          <a>Doc string</a>
      </div>
      <div id="msg-219" class="collapse collapsable-details">
        <pre>09:09:50.523 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0013&quot;,&quot;atmId&quot;:&quot;727649aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;07&quot;,&quot;receipt&quot;:132422,&quot;rrn&quot;:132422,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;14782655****2721&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:132422},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]132422[0X0A][0X1C][0X2A][0X3A]0013[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 132422[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:50.899 response time in milliseconds: 376
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:50 GMT
1 &lt; x-amzn-RequestId: 36183a7c-3099-4b91-b0b6-bdd49177263a
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR7PGLjoAMEV4w=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ae-7e332b926733e5d82e4f6c37
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: 5xb96nELAUTWrMZ0RZZcaZA7WyaT2R10FdmN7suS_jflB85NdRzMEg==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;727649aBcD&quot;,&quot;financialCode&quot;:&quot;0013&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN13242213242220231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;07&quot;,&quot;receipt&quot;:&quot;132422&quot;,&quot;rrn&quot;:&quot;132422&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;14782655****2721&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;132422&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN13242213242220231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090950&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.702</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-220">
          <a>Doc string</a>
      </div>
      <div id="msg-220" class="collapse collapsable-details">
        <pre>09:09:51.606 [print] valoresnumericos: [
  132422,
  132422
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.072</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-221">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-221" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-222">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-222" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.012</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-223">
          <a>Doc string</a>
      </div>
      <div id="msg-223" class="collapse collapsable-details">
        <pre>09:09:50.433 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.012</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.033</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.005</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.925</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-224">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-224" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-225">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-225" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0023&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO PAGOS&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;02&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CR&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.212</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-226">
          <a>Doc string</a>
      </div>
      <div id="msg-226" class="collapse collapsable-details">
        <pre>09:09:50.517 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0023&quot;,&quot;atmId&quot;:&quot;355182aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;02&quot;,&quot;receipt&quot;:214662,&quot;rrn&quot;:214662,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;79214370****6907&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:214662},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]214662[0X0A][0X1C][0X2A][0X3A]0023[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 214662[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:50.725 response time in milliseconds: 208
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:49 GMT
1 &lt; x-amzn-RequestId: 94d625fc-5341-45af-9be6-979d71ccfcf2
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR7NFH1oAMEoAA=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ad-3c4484da1bfb03f973c4e4f4
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 9c03d20589c567aed3b6de58731132b0.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: X5w7lLPXvwnLcbFmZ9k4nhx5kvASvdAayidI-ZWPgkfr08Nw3019Cw==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;355182aBcD&quot;,&quot;financialCode&quot;:&quot;0023&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN21466221466220231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;02&quot;,&quot;receipt&quot;:&quot;214662&quot;,&quot;rrn&quot;:&quot;214662&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;79214370****6907&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;214662&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN21466221466220231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090949&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.703</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-227">
          <a>Doc string</a>
      </div>
      <div id="msg-227" class="collapse collapsable-details">
        <pre>09:09:51.433 [print] valoresnumericos: [
  214662,
  214662
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.024</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-228">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-228" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-229">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-229" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.003</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-230">
          <a>Doc string</a>
      </div>
      <div id="msg-230" class="collapse collapsable-details">
        <pre>09:09:50.837 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.014</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.910</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-231">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-231" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-232">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-232" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0051&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO PAGOS&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;01&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;00&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.198</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-233">
          <a>Doc string</a>
      </div>
      <div id="msg-233" class="collapse collapsable-details">
        <pre>09:09:50.870 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0051&quot;,&quot;atmId&quot;:&quot;907298aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;01&quot;,&quot;receipt&quot;:189801,&quot;rrn&quot;:189801,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;90873124****1148&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:189801},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]189801[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 189801[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:51.065 response time in milliseconds: 195
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:50 GMT
1 &lt; x-amzn-RequestId: cdc70e39-a13a-4340-a5e5-300178857edc
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR7RFxVIAMEJ6Q=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ae-6e663e0165f5efec4b467f3f
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: AX4o0e_lDaQWoX7dPF7XsvIvKaRh5BW0QaZA6Iie_pvbt2cDdAjXsg==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;907298aBcD&quot;,&quot;financialCode&quot;:&quot;0051&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN18980118980120231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;01&quot;,&quot;receipt&quot;:&quot;189801&quot;,&quot;rrn&quot;:&quot;189801&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;90873124****1148&quot;,&quot;accountType&quot;:&quot;00&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;189801&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN18980118980120231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090950&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.705</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-234">
          <a>Doc string</a>
      </div>
      <div id="msg-234" class="collapse collapsable-details">
        <pre>09:09:51.774 [print] valoresnumericos: [
  189801,
  189801
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.013</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-235">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-235" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-236">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-236" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.003</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-237">
          <a>Doc string</a>
      </div>
      <div id="msg-237" class="collapse collapsable-details">
        <pre>09:09:50.962 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.004</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.964</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-238">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-238" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-239">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-239" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0052&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO PAGOS&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;03&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;AH&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.252</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-240">
          <a>Doc string</a>
      </div>
      <div id="msg-240" class="collapse collapsable-details">
        <pre>09:09:50.982 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0052&quot;,&quot;atmId&quot;:&quot;539700aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;03&quot;,&quot;receipt&quot;:609323,&quot;rrn&quot;:609323,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;19527972****7983&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:609323},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]609323[0X0A][0X1C][0X2A][0X3A]0052[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 609323[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:51.231 response time in milliseconds: 249
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:50 GMT
1 &lt; x-amzn-RequestId: e060f329-ccba-4b78-b8d1-c7f29cd10689
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR7SEWDIAMElDA=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ae-7c57b4f420a437db499b13cd
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 5d916dd63294253ded878b26198e5c76.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: KHyE68rVCMPYOUM5z6ywKhpJN9bunEZZiAZ-kW3gqvuraRvHmjDi0Q==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;539700aBcD&quot;,&quot;financialCode&quot;:&quot;0052&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN60932360932320231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;03&quot;,&quot;receipt&quot;:&quot;609323&quot;,&quot;rrn&quot;:&quot;609323&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;19527972****7983&quot;,&quot;accountType&quot;:&quot;AH&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;609323&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN60932360932320231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090950&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.707</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-241">
          <a>Doc string</a>
      </div>
      <div id="msg-241" class="collapse collapsable-details">
        <pre>09:09:51.942 [print] valoresnumericos: [
  609323,
  609323
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.017</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-242">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-242" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-243">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-243" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.002</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-244">
          <a>Doc string</a>
      </div>
      <div id="msg-244" class="collapse collapsable-details">
        <pre>09:09:51.439 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.010</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">1.056</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-245">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-245" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-246">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-246" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;0903&quot;</span>

  <span class="lead-duration duration">0.002</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO PAGOS&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;80&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CC&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.344</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-247">
          <a>Doc string</a>
      </div>
      <div id="msg-247" class="collapse collapsable-details">
        <pre>09:09:51.467 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;0903&quot;,&quot;atmId&quot;:&quot;905583aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;80&quot;,&quot;receipt&quot;:656589,&quot;rrn&quot;:656589,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;84374903****1353&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:656589},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]656589[0X0A][0X1C][0X2A][0X3A]0903[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 656589[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:51.807 response time in milliseconds: 340
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:50 GMT
1 &lt; x-amzn-RequestId: 29889122-157d-4057-9560-cd27679b6ade
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR7YEazoAMEgiw=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96ae-4b8370325f0fe2363e0c9c90
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: RjtDgAcPDfHZYBHGQNbASfX7nF-ZIy0IQkYR87nkE8fTUMLq-VnC1Q==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;905583aBcD&quot;,&quot;financialCode&quot;:&quot;0903&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN65658965658920231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;80&quot;,&quot;receipt&quot;:&quot;656589&quot;,&quot;rrn&quot;:&quot;656589&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;84374903****1353&quot;,&quot;accountType&quot;:&quot;CC&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;656589&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN65658965658920231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090950&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.704</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-248">
          <a>Doc string</a>
      </div>
      <div id="msg-248" class="collapse collapsable-details">
        <pre>09:09:52.515 [print] valoresnumericos: [
  656589,
  656589
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.024</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-249">

<div class="brief passed">
  <span class="keyword indention">Background</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-249" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-250">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-250" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def bodyTrx = read('classpath:payloads/NotiTrx.json')</span>

  <span class="lead-duration duration">0.008</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-251">
          <a>Doc string</a>
      </div>
      <div id="msg-251" class="collapse collapsable-details">
        <pre>09:09:51.614 karate.env system property was: dev 
</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseTimeRange = { min: 10, max: 15000 }</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dataGenerator = Java.type('helper.DataGenerator')</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def NumReceipt = dataGenerator.getRandomNumReceipt()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.receipt = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].payment.fullAmount = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.rrn = NumReceipt</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def dateTimes = karate.call('classpath:helper/dateTime.js')</span>

  <span class="lead-duration duration">0.011</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.dateTime = dateTimes.date</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.hour = dateTimes.hora</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">set bodyTrx.payload[0].transaction.date = dateTimes.dia</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def valoresnumericos = []</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
  </div>
</div>





  </div>
</div>


<div class="element">


<div class="tags indention">
</div>


  <span class="lead-duration duration">0.951</span>


  <span data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#element-252">

<div class="brief passed">
  <span class="keyword indention">Scenario Outline</span>
  <span class="name">peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma</span>


     <i class="chevron fa fa-fw"></i>
</div>

  </span>
  <div class="description indention"></div>

  <div id="element-252" class="collapse collapsable-details ">





<div class="steps inner-level">
  <div data-toggle="collapse" class=" collapsed  collapsable-control" data-target="#steps-253">

<div class="brief passed">
  <span class="keyword indention">Steps</span>
  <span class="name"></span>


     <i class="chevron fa fa-fw"></i>
</div>

  </div>

  <div id="steps-253" class="inner-level collapse collapsable-details ">
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def sleep = function(pause){ java.lang.Thread.sleep(pause)}</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-Given passed">
  <span class="keyword indention">Given</span>
  <span class="name">url url</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">path pathUrl</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">header x-api-key = apiKey</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def status = '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.status = status</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].commerce.financialCode = &quot;6666&quot;</span>

  <span class="lead-duration duration">0.001</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].notification.notificationType = &quot;1&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.transactionType = &quot;RETIRO PAGOS&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].transaction.inMode = &quot;90&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].paymentMethod.accountType = &quot;CR&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx.payload[0].script = &quot;[0X0A][0X1C][0X2C][0X3C]&quot; +NumReceipt+ &quot;[0X0A][0X1C][0X2A][0X3A]&quot;+financialCode+&quot;[0X0A][0X1C][0X2A][0X3A]Status=&quot;+status+&quot;[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]&quot;+transaction+&quot;[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ &quot;+NumReceipt+&quot;[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">request bodyTrx</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-When passed">
  <span class="keyword indention">When</span>
  <span class="name">method post</span>

  <span class="lead-duration duration">0.243</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-254">
          <a>Doc string</a>
      </div>
      <div id="msg-254" class="collapse collapsable-details">
        <pre>09:09:51.653 request:
1 &gt; POST https://apicorr.redebanvd.net/transactional/api/vouchers/transactions
1 &gt; x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g
1 &gt; Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNjk5NDUyNTc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE2OTk0NTQzNzksImlhdCI6MTY5OTQ1MjU3OSwidmVyc2lvbiI6MiwianRpIjoiOTYwYjRiOTQtNGVjMS00OWQ2LWI4MzEtMjgxOTkwOGMzMzI4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.G9WiGr2QjL7yCi1L4-gqSeQ8m3morA8igz43ZuZFRSisxTddEDexB5bxAqLrRTc99xQY4L4GH48kmTgkiv-sO8v2DLN7XZaOfCRhWm6STSp97DduaEhNQ8_GhCEDOEi9QkNS1FPFyYh5QLUdmusPkMbtjdXlyvLP3AzEAudeErwSf59zJl-3066uX0_vtQfZRpQeVh958f3EovQnhr1C5Xp4Vs8ssKXvNWQhoYqWCHl1_qcj7j2TGFXKKfIePEYsC1Cd-DOb4mCmBgBYdBKOSOOZRzpM7qNpzJhNyH0m77tMhnw9Rj_h2EfqxcQp499UAbOFth1bNyV-QNnGonNMTA
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 2027
1 &gt; Host: apicorr.redebanvd.net
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;payload&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:32692899,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;financialCode&quot;:&quot;6666&quot;,&quot;atmId&quot;:&quot;119296aBcD&quot;},&quot;transaction&quot;:{&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;20231108&quot;,&quot;hour&quot;:&quot;0909&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;90&quot;,&quot;receipt&quot;:157979,&quot;rrn&quot;:157979,&quot;dateTime&quot;:&quot;20231108090900&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;46489488****3499&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:157979},&quot;script&quot;:&quot;[0X0A][0X1C][0X2C][0X3C]157979[0X0A][0X1C][0X2A][0X3A]6666[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 157979[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION&quot;,&quot;signature&quot;:{&quot;signatureFlag&quot;:true,&quot;signature&quot;:&quot;424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)&quot;},&quot;notification&quot;:{&quot;notificationFlag&quot;:&quot;false&quot;,&quot;cellphone&quot;:&quot;3177928280&quot;,&quot;notificationType&quot;:&quot;1&quot;}}]}

09:09:51.890 response time in milliseconds: 237
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 804
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 08 Nov 2023 14:09:51 GMT
1 &lt; x-amzn-RequestId: 7dabaf78-87e9-4aa4-b341-456d87dbdcfa
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: OFR7ZFJuoAMERUg=
1 &lt; X-Amzn-Trace-Id: Root=1-654b96af-5bebcb57789d5677151d21d1
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: BOG50-C1
1 &lt; X-Amz-Cf-Id: GOhl52M40GyJTQHGNy0m3BVGpnNTn_KHMU7LTn46By1T8QTwWSHoKA==
{&quot;resultObject&quot;:[{&quot;commerce&quot;:{&quot;correspondentId&quot;:&quot;32692899&quot;,&quot;terminalId&quot;:&quot;AMERICANIN&quot;,&quot;techVersion&quot;:&quot;V-T35ggT&quot;,&quot;atmId&quot;:&quot;119296aBcD&quot;,&quot;financialCode&quot;:&quot;6666&quot;},&quot;transaction&quot;:{&quot;voucherId&quot;:&quot;AMERICANIN15797915797920231108090900&quot;,&quot;approvalNum&quot;:&quot;x001A&quot;,&quot;responseCode&quot;:&quot;00&quot;,&quot;status&quot;:&quot;00&quot;,&quot;date&quot;:&quot;2023-11-08&quot;,&quot;hour&quot;:&quot;09:09:00&quot;,&quot;authMode&quot;:&quot;01&quot;,&quot;inMode&quot;:&quot;90&quot;,&quot;receipt&quot;:&quot;157979&quot;,&quot;rrn&quot;:&quot;157979&quot;,&quot;dateTime&quot;:&quot;2023-11-08T09:09:00&quot;,&quot;transactionType&quot;:&quot;RETIRO PAGOS&quot;},&quot;paymentMethod&quot;:{&quot;franchise&quot;:&quot;MASTERCARD&quot;,&quot;millerNum&quot;:&quot;54848948948&quot;,&quot;card&quot;:&quot;46489488****3499&quot;,&quot;accountType&quot;:&quot;CR&quot;},&quot;payment&quot;:{&quot;taxBase&quot;:&quot;0&quot;,&quot;incAmount&quot;:&quot;0&quot;,&quot;ivaAmount&quot;:&quot;0&quot;,&quot;tipAmount&quot;:&quot;0&quot;,&quot;fullAmount&quot;:&quot;157979&quot;}}],&quot;status&quot;:[{&quot;transactionId&quot;:&quot;AMERICANIN15797915797920231108090900&quot;,&quot;statusCode&quot;:&quot;00&quot;,&quot;statusDescription&quot;:&quot;PROCESSED&quot;,&quot;dateTime&quot;:&quot;20231108090951&quot;}]}

</pre>
      </div>
    </div>
  </div>







      </div>
      <div class="step">


<div class="brief step-name-Then passed">
  <span class="keyword indention">Then</span>
  <span class="name">status 200</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.status[0].statusDescription == 'PROCESSED'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">match response.resultObject[0].transaction.status == '00'</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-And passed">
  <span class="keyword indention">And</span>
  <span class="name">assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">eval sleep(700)</span>

  <span class="lead-duration duration">0.701</span>

</div>
















      </div>
      <div class="step">
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '02'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;false&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '02'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    Given url url</div>
          <div class="comment indention">#    And path pathUrl</div>
          <div class="comment indention">#    And header x-api-key = apiKey</div>
          <div class="comment indention">#    * def status = '05'</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.status = status</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].commerce.financialCode = &quot;&lt;financialCode&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationFlag = &quot;&lt;notifiFlag&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].notification.notificationType = &quot;&lt;Type&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].transaction.transactionType = &quot;&lt;transaction&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].paymentMethod.accountType = &quot;&lt;accountType&gt;&quot;</div>
          <div class="comment indention">#    And request bodyTrx.payload[0].script = &lt;script&gt;</div>
          <div class="comment indention">#    And request bodyTrx</div>
          <div class="comment indention">#    When method post</div>
          <div class="comment indention">#    Then status 200</div>
          <div class="comment indention">#    * eval sleep(700)</div>
          <div class="comment indention">#    And match response.status[0].statusDescription == 'PROCESSED'</div>
          <div class="comment indention">#    And match response.resultObject[0].transaction.status == '05'</div>
          <div class="comment indention">#    And assert responseTime &gt;= responseTimeRange.min &amp;&amp; responseTime &lt;= responseTimeRange.max</div>


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">def responseList = response</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">karate.forEach(responseList, function(item){ valoresnumericos = karate.appendTo(valoresnumericos, NumReceipt) })</span>

  <span class="lead-duration duration">0.000</span>

</div>
















      </div>
      <div class="step">


<div class="brief step-name-* passed">
  <span class="keyword indention">*</span>
  <span class="name">print 'valoresnumericos:', valoresnumericos</span>

  <span class="lead-duration duration">0.000</span>

</div>









  <div class="inner-level">
    <div class="docstring indention">
      <div data-toggle="collapse" class="collapsable-control" data-target="#msg-255">
          <a>Doc string</a>
      </div>
      <div id="msg-255" class="collapse collapsable-details">
        <pre>09:09:52.595 [print] valoresnumericos: [
  157979,
  157979
]
 
</pre>
      </div>
    </div>
  </div>







      </div>
  </div>
</div>





  </div>
</div>

        </div>

      </div>
    </div>
  </div>
</div>


<div class="container-fluid">
  <div class="row">
    <div class="col-md-1 col-md-offset-10">
      <i class="fa fa-chevron-circle-down fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('show')"></i>
      <i class="fa fa-chevron-circle-up fa-2x collapsable-control"
        onClick="javascript:$('#report .collapsable-details').collapse('hide')"></i>
    </div>
  </div>
</div>

<br/>

<nav class="navbar navbar-default" id="footer">
  <div class="container-fluid">
    <p class="navbar-text navbar-right">
        <small>generate Cucumber HTML reports via:&nbsp;</small>
        <a class="navbar-link" href="https://github.com/jenkinsci/cucumber-reports-plugin">Jenkins Plugin</a> |
        <a class="navbar-link" href="https://github.com/damianszczepanik/cucumber-reporting">Standalone</a> |
        <a class="navbar-link" href="https://github.com/damianszczepanik/cucumber-sandwich">Sandwich</a> |
        <a class="navbar-link" href="https://github.com/damianszczepanik/maven-cucumber-reporting">Maven</a>
        &nbsp;&nbsp;
    </p>
  </div>
</nav>

</body>
</html>
