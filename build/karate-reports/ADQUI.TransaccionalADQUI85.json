[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3528900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:31.833 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":203900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":513100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":931600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":236700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":110800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":70800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":735200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":412300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":114700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":87400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3990300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":264100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":151200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":117100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":56,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":129000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":69800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":97100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":494500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":242400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":116000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":428836800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:31.849 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"344472aBcD\"},\"transaction\":{\"approvalNum\":943285,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":943285,\"rrn\":943285,\"dateTime\":\"20240205165100\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"19736017****4016\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":943285,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":943285},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:32.275 response time in milliseconds: 426\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 765\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:30 GMT\n1 < x-amzn-RequestId: a7224cf2-ec62-49df-8a11-1bc17d997d85\n1 < x-amz-apigw-id: Srq_bFIUIAMEb1g=\n1 < X-Amzn-Trace-Id: Root=1-65c15862-5647deb34762bc6d72c761de\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 1363962ebe43751f885359ece2e8196a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: OOT9GpiqAbhaQstsiIGTE7C9wA2Ouq62M93s-Aw1eIbe2aMBqiFzOA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"344472aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE94328594328520240205165100\",\"approvalNum\":\"943285\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"943285\",\"rrn\":\"943285\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"19736017****4016\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"943285\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"943285\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE94328594328520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165130\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":194700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":91100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":57600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":711794300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":101500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":379100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":2773600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":373200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":146200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":104200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":95700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":107500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":349976700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:32.997 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2801\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"344472aBcD\"},\"transaction\":{\"approvalNum\":943285,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":943285,\"rrn\":943285,\"dateTime\":\"20240205165100\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"19736017****4016\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":943285,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":943285},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:33.342 response time in milliseconds: 344\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 765\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:31 GMT\n2 < x-amzn-RequestId: 8f2bbfeb-c08e-497c-9534-902709631c88\n2 < x-amz-apigw-id: Srq_mFQMoAMEMcA=\n2 < X-Amzn-Trace-Id: Root=1-65c15863-4c1aa808421db82e21020d43\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8826e08ddb6fc1ad22432c251965170a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: 3NvF8Bv5I9vhB-YPeBcYO1GPKKZ04EtuvSBxxN0A1PYwUoNKRnXZ2g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"344472aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE94328594328520240205165185\",\"approvalNum\":\"943285\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"943285\",\"rrn\":\"943285\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"19736017****4016\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"943285\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"943285\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE94328594328520240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165131\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":672600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":461700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":437700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2999600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:32.316 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":111900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":237100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":375200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":190700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":100400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":73800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":77700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":409200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":360400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":66100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3291800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":256800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":107500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":119000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":57,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":115100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":383600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\"","result":{"duration":118800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":80900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":323444600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:32.329 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"30697aBcD\"},\"transaction\":{\"approvalNum\":222151,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":222151,\"rrn\":222151,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"17594173****8471\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":222151,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":222151},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:32.651 response time in milliseconds: 322\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:30 GMT\n1 < x-amzn-RequestId: 0b8dadb6-45f0-48b1-aef5-a2e90fe9bfc5\n1 < x-amz-apigw-id: Srq_fGGCIAMEe-g=\n1 < X-Amzn-Trace-Id: Root=1-65c15862-64a96e754fb580641ea9f0de\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e778332efddc53006b892e6757c89284.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: DBZo8g-4EQ3WFZL_dj4L6jTVTHziwBcFaFGrUk7UhxE1s6pV80m0WQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"30697aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE22215122215120240205165100\",\"approvalNum\":\"222151\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"222151\",\"rrn\":\"222151\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"17594173****8471\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"222151\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"222151\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE22215122215120240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165130\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":463200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":197100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":137300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":702969800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":69800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":344800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":353200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":266200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":218800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":179600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\"","result":{"duration":181800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":156500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":339143100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:33.359 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"30697aBcD\"},\"transaction\":{\"approvalNum\":222151,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":222151,\"rrn\":222151,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"17594173****8471\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":222151,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":222151},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:33.696 response time in milliseconds: 337\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 769\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:31 GMT\n2 < x-amzn-RequestId: d9f7da9d-9b10-4a93-a38d-ab46a3e0ae4a\n2 < x-amz-apigw-id: Srq_qFKyoAMEC4Q=\n2 < X-Amzn-Trace-Id: Root=1-65c15863-75de8d581afe2b5c3728fa32\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 0c681a1ff8dbc2511e757e2f05da8268.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: xvU1u5REBJ2MapAylLpQGuFisiFSIHyv3oRFb_u37xt34TX5DcvyoA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"30697aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE22215122215120240205165185\",\"approvalNum\":\"222151\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"222151\",\"rrn\":\"222151\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"17594173****8471\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"222151\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"222151\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE22215122215120240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165131\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":506600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":231300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":306800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4181500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:32.488 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":129000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":218300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":314100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":155000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":86000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":65200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":345400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":292800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":71000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3736700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":251800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":82100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":50000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":58,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":71700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":89900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":276800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\"","result":{"duration":111300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":330063600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:32.501 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2817\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"857496aBcD\"},\"transaction\":{\"approvalNum\":112594,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":112594,\"rrn\":112594,\"dateTime\":\"20240205165100\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"55107476****5750\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":112594,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":112594},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:32.829 response time in milliseconds: 328\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:31 GMT\n1 < x-amzn-RequestId: 4c5f1be5-5612-4327-b3c3-34617f79d33a\n1 < x-amz-apigw-id: Srq_hGjUoAMEEYQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15863-5450138d334607797d644093\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 af3d2c4aae84cb3609a51b4e8756647a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: AYfOyABLZUle6LTM7ccQDV1rg6fUeC8qy7WXlR5cq1shTFOV3zG40g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"857496aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE11259411259420240205165100\",\"approvalNum\":\"112594\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"112594\",\"rrn\":\"112594\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"55107476****5750\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"112594\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"112594\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE11259411259420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165131\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":574000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":123400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":108900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":711135100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":79400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":6878800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":99400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":668800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":379600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":363900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":170200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\"","result":{"duration":205200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":266100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":535789400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:33.553 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2817\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"857496aBcD\"},\"transaction\":{\"approvalNum\":112594,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":112594,\"rrn\":112594,\"dateTime\":\"20240205165100\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"55107476****5750\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":112594,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":112594},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:34.087 response time in milliseconds: 533\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 781\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:32 GMT\n2 < x-amzn-RequestId: 3c38bb52-08e9-4a04-bc87-c6da9d106de2\n2 < x-amz-apigw-id: Srq_uGlqIAMEcJQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15864-079e8484516707af5f27cc0f\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 58830509aaa39326281f1a32f0d7f954.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: 8CPpA7H8U5n0dYgIyu0GadpYf8ud6mYQmWilgGs9-xl-lgP4ITCsnQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"857496aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE11259411259420240205165185\",\"approvalNum\":\"112594\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"112594\",\"rrn\":\"112594\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"55107476****5750\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"112594\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"112594\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE11259411259420240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165132\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":449600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":245800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":264400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2637600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:32.911 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":278300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":387100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":873500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":338000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":170500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":153900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":147000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":693200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":301900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":117900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":64900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":2751500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":176000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":123400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":115000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":59,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":115500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":333200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\"","result":{"duration":154200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":104000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":335668600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:32.924 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"560444aBcD\"},\"transaction\":{\"approvalNum\":194368,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":194368,\"rrn\":194368,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"93459866****4549\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":194368,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":194368},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:33.257 response time in milliseconds: 333\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:31 GMT\n1 < x-amzn-RequestId: 856f995d-9dfe-4860-a95a-f323f963cf50\n1 < x-amz-apigw-id: Srq_lFy7IAMEJuA=\n1 < X-Amzn-Trace-Id: Root=1-65c15863-12889e71115264516461ed81\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 044bedb33ca0f4efa619a47252c438ba.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: TS_Ahp72xaQiN6YqYwlCUtqpp20OcWi3Ya9oRvSGvBZh-DYuvvf0Zw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"560444aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE19436819436820240205165100\",\"approvalNum\":\"194368\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"194368\",\"rrn\":\"194368\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"93459866****4549\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"194368\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"194368\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE19436819436820240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165131\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":495100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":270800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":340800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":712956300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":111600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":329700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":45800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":367400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":249700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":153300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":221300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\"","result":{"duration":155500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":162900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":351547500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:33.976 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2810\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"560444aBcD\"},\"transaction\":{\"approvalNum\":194368,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":194368,\"rrn\":194368,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"93459866****4549\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":194368,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":194368},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:34.325 response time in milliseconds: 349\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:32 GMT\n2 < x-amzn-RequestId: 700bf4cb-6fa6-4006-aa09-63ad697e03bd\n2 < x-amz-apigw-id: Srq_wHRtIAMEuEA=\n2 < X-Amzn-Trace-Id: Root=1-65c15864-081a396a71f73309427215c4\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fa3530beeb0001c7dfc54ff5a427fa96.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: ZPu5uJwUflpiQSq36_5v8u-iCfzm-rrDwBWRivneYnr-6RWwQVnJaQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"560444aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE19436819436820240205165185\",\"approvalNum\":\"194368\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"194368\",\"rrn\":\"194368\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"93459866****4549\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"194368\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"194368\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE19436819436820240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165132\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":509300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":378100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":379400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":12799500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:33.349 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":161000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":597000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1590400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":325800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":105000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":213500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":91100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1029600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":702700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":114700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":93400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":12452800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":711800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":518000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":217500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":60,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":313400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":72800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":190100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":170200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\"","result":{"duration":156200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":155900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":41200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":578699200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:33.386 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"978164aBcD\"},\"transaction\":{\"approvalNum\":297526,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":297526,\"rrn\":297526,\"dateTime\":\"20240205165100\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"74817093****2827\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":297526,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":297526},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:33.962 response time in milliseconds: 576\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:32 GMT\n1 < x-amzn-RequestId: 3657432c-8e30-4c3f-94da-feb71e6a356b\n1 < x-amz-apigw-id: Srq_sEl0oAMEuOg=\n1 < X-Amzn-Trace-Id: Root=1-65c15864-606bb7ed637d548854a4afa6\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 6a8bde05883e3a529e47f40f0d9e7aaa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: oGXefcLvcRm1o6ywSej4St6ebXSQLAMUU34AIkqfQiFEskodvepocQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"978164aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE29752629752620240205165100\",\"approvalNum\":\"297526\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"297526\",\"rrn\":\"297526\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"74817093****2827\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"297526\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"297526\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE29752629752620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165132\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":695400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":387600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":183100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":706642300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":236500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":371700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":49600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":366400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":324800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":196900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":175100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\"","result":{"duration":193000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":602000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":538799800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:34.676 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2812\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"978164aBcD\"},\"transaction\":{\"approvalNum\":297526,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":297526,\"rrn\":297526,\"dateTime\":\"20240205165100\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"74817093****2827\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":297526,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":297526},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:35.213 response time in milliseconds: 537\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 776\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:33 GMT\n2 < x-amzn-RequestId: 6da6c737-5048-42dc-93c5-4487008ec5a2\n2 < x-amz-apigw-id: Srq_5EvMIAMEjoQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15865-54412b0e636965be481ac725\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 e778332efddc53006b892e6757c89284.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: uPYUP9b9L533d7E6VVcESx2dCWlFZqSIQqVxcVQiPs9Hk2S7xjVnWg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"978164aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE29752629752620240205165185\",\"approvalNum\":\"297526\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"297526\",\"rrn\":\"297526\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"74817093****2827\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"297526\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"297526\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE29752629752620240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165133\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":405700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":284900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":264100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":18123900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:33.703 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":188300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":785700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":819500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":245800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":116800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":82100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":77300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":727500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":655200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":81900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":16594000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":443600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":212900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":169600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":61,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":270500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":54800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":168200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":112300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\"","result":{"duration":96300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":131500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":329689800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:33.747 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"485319aBcD\"},\"transaction\":{\"approvalNum\":800700,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":800700,\"rrn\":800700,\"dateTime\":\"20240205165100\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"28677529****3208\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":800700,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":800700},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:34.074 response time in milliseconds: 327\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:32 GMT\n1 < x-amzn-RequestId: c40a3882-40fa-4689-9746-df4371e0e5e4\n1 < x-amz-apigw-id: Srq_tGWFIAMEq9g=\n1 < X-Amzn-Trace-Id: Root=1-65c15864-16ca424f2677f1d67cd21312\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 0c681a1ff8dbc2511e757e2f05da8268.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: VGHPazLpeECGrOMFS17kylA-_M1J3z8Rl-ZCuLnugKrakh_p5jsELA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"485319aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE80070080070020240205165100\",\"approvalNum\":\"800700\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"800700\",\"rrn\":\"800700\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"28677529****3208\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"800700\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"800700\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE80070080070020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165132\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":413000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":408200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":405700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":703617300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":108600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":474400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":76400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":561800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":288300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":232800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":163600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\"","result":{"duration":275600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":174100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":333868000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:34.785 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2813\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"485319aBcD\"},\"transaction\":{\"approvalNum\":800700,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":800700,\"rrn\":800700,\"dateTime\":\"20240205165100\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"28677529****3208\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":800700,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":800700},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:35.116 response time in milliseconds: 331\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 777\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:33 GMT\n2 < x-amzn-RequestId: b9d4e1aa-36ae-4715-91be-78c82a8df893\n2 < x-amz-apigw-id: Srq_4GfsIAMEuoQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15865-5b22b78922e75e070e987200\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8e549689daceb1adfb27c798bb377b52.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: xoaVFRS0JngDFPQK2pJUlCZaykWE_6tvGi4J1NjSvm2RpGUaw93mnw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"485319aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE80070080070020240205165185\",\"approvalNum\":\"800700\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"800700\",\"rrn\":\"800700\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"28677529****3208\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"800700\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"800700\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE80070080070020240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165133\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":811400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":307600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":237900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":13746000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:34.094 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":205100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":681400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1043800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":456200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":287500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":154900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":144200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":701900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":797900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":163900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":124000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":23498000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":563500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":234600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":186300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":62,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":333300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":41600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":101100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":34900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":243800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":151100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":248300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":122500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\"","result":{"duration":114700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":110400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":530735700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:34.143 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2819\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"575899aBcD\"},\"transaction\":{\"approvalNum\":418842,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":418842,\"rrn\":418842,\"dateTime\":\"20240205165100\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"72896147****5533\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":418842,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":418842},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:34.671 response time in milliseconds: 528\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 783\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:32 GMT\n1 < x-amzn-RequestId: 5a36da56-3e2b-48b4-8ff4-23499b66eb7a\n1 < x-amz-apigw-id: Srq_zHIdoAMEtVw=\n1 < X-Amzn-Trace-Id: Root=1-65c15864-02272ee70aa894e24ab0992a\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1c9d85482f328fefd09e9554d8dba7a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: aTRP867ZjpGcLI3KihFQ2B1FZN6EuO-1TdDLQoLrkhBL2grLLVtsnQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"575899aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41884241884220240205165100\",\"approvalNum\":\"418842\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"418842\",\"rrn\":\"418842\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"72896147****5533\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"418842\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"418842\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41884241884220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165132\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":337000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":271000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":113700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":709671900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":113700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":395500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":351700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":179200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":138600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":96500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\"","result":{"duration":69100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":70200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":536368000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:35.386 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2819\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"575899aBcD\"},\"transaction\":{\"approvalNum\":418842,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":418842,\"rrn\":418842,\"dateTime\":\"20240205165100\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"72896147****5533\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":418842,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":418842},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:35.920 response time in milliseconds: 534\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 783\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:34 GMT\n2 < x-amzn-RequestId: dd7bfc70-fbab-4bd2-9d50-66023bc78a75\n2 < x-amz-apigw-id: SrrAAGwroAMEcJQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15866-5ee3b87d4d1f2560030e4043\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 f7f58294d1419cb7835c1addaee1386c.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: fX_V-eJKkHieBweLz_-w_cl_mO4TOMPwc-FegA9QJiOpzGQPK0suBQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"575899aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41884241884220240205165185\",\"approvalNum\":\"418842\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"418842\",\"rrn\":\"418842\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"72896147****5533\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"418842\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"418842\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41884241884220240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165134\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":563600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":300500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":337200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3010000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:34.336 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":145900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":614700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":799900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":271300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":106200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":88300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":89400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":846100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":704600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":111300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":96400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7913400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":607100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":257800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":198300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":63,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":428400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":90500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":288900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":127200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":104800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":99400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\"","result":{"duration":137800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":164300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":348288900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:34.357 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"994468aBcD\"},\"transaction\":{\"approvalNum\":995262,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":995262,\"rrn\":995262,\"dateTime\":\"20240205165100\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"72795590****9521\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":995262,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":995262},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:34.703 response time in milliseconds: 346\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:32 GMT\n1 < x-amzn-RequestId: 44dbf796-6b94-4281-98d4-2b04cd0312fe\n1 < x-amz-apigw-id: Srq_0GptIAMEokQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15864-4f5a28924862a3144381e083\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d56500b57ee9fd16ecec33b0f5720c28.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 33tOiOXCfU5QBmBTxTbAUTaSl_M1qQkbdZ1lrIRclgynvQtRNOncwg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"994468aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE99526299526220240205165100\",\"approvalNum\":\"995262\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"995262\",\"rrn\":\"995262\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"72795590****9521\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"995262\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"995262\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE99526299526220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165132\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":273600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":386900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":71600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":709007300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":249400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":257500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":36700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":713500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":333800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":181400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":125200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\"","result":{"duration":138700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":125500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":555929100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:35.418 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"994468aBcD\"},\"transaction\":{\"approvalNum\":995262,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":995262,\"rrn\":995262,\"dateTime\":\"20240205165100\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"72795590****9521\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":995262,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":995262},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:35.972 response time in milliseconds: 554\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 769\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:34 GMT\n2 < x-amzn-RequestId: c9a25642-c432-4569-82ca-069b3b895523\n2 < x-amz-apigw-id: SrrAAGM2oAMEaMg=\n2 < X-Amzn-Trace-Id: Root=1-65c15866-7f090ee829bdcda3414f5edd\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8753a5890eda67f9db56cde3f25f5a28.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: zBeH5q0Le8dRHomBoigIIjLOqdAOSGxTl4sM3TMtDCieC-5omS4wmQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"994468aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE99526299526220240205165185\",\"approvalNum\":\"995262\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"995262\",\"rrn\":\"995262\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"72795590****9521\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"995262\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"995262\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE99526299526220240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165134\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":2230100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":386400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":470100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":11061400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:35.125 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":135500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":505500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":601500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":186000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":174600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":62300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":58400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":712300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":595300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":88600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":73300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7488200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1569800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":924300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":338100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":64,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":434600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":156600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":58900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":354300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":203300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":177100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":110500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\"","result":{"duration":229500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":122100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":340406300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:35.155 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2817\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"669200aBcD\"},\"transaction\":{\"approvalNum\":528760,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":528760,\"rrn\":528760,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"26658450****3080\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":528760,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":528760},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:35.494 response time in milliseconds: 338\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:33 GMT\n1 < x-amzn-RequestId: f3601c09-8466-4c57-9d36-81eea4ab52ed\n1 < x-amz-apigw-id: Srq_7GaEoAMEB_w=\n1 < X-Amzn-Trace-Id: Root=1-65c15865-55eca9ac46520ac342f611f3\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3f52c6e51c79b76b85ae5ed7c2503a6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: gVvzyNc1hd6dNo209WhaoZOLgT1TPFvqrbVcP1fMDtl7rGfhU0Z32Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"669200aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE52876052876020240205165100\",\"approvalNum\":\"528760\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"528760\",\"rrn\":\"528760\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"26658450****3080\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"528760\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"528760\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE52876052876020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165133\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":219200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":294900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":73900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":711013300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":85000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":400800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":490100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":276200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":182500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":154900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\"","result":{"duration":125400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":166200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":62500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":560058200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:36.212 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2817\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"669200aBcD\"},\"transaction\":{\"approvalNum\":528760,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":528760,\"rrn\":528760,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"26658450****3080\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":528760,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":528760},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:36.767 response time in milliseconds: 555\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 781\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:35 GMT\n2 < x-amzn-RequestId: 2a01465b-6a8e-4fa0-a180-a4f79ae2495c\n2 < x-amz-apigw-id: SrrAIFRyoAMELMQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15866-5e9c549d046e5423237d6b1d\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 d56500b57ee9fd16ecec33b0f5720c28.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: FAg6WE7CZUtzDffL_rAnkOut9iYBzup5n0vE5SNQZBc8xyrrsmQyDQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"669200aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE52876052876020240205165185\",\"approvalNum\":\"528760\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"528760\",\"rrn\":\"528760\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"26658450****3080\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"528760\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"528760\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE52876052876020240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165135\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1015200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":318500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":287200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":7193100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:35.219 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":191700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":500600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":596300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":344600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":252400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":227900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":115700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1137800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":671700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":66800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":53900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7815600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":510500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":327800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":320700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":65,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":354200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":84700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":327900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":269200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":204300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":138200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\"","result":{"duration":117500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":120400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":355866800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:35.246 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"662620aBcD\"},\"transaction\":{\"approvalNum\":532586,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":532586,\"rrn\":532586,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"42031908****3652\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":532586,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":532586},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:35.599 response time in milliseconds: 353\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:33 GMT\n1 < x-amzn-RequestId: 8440076d-140e-4f71-8f79-65df0b0d92ed\n1 < x-amz-apigw-id: Srq_9GNooAMEQUw=\n1 < X-Amzn-Trace-Id: Root=1-65c15865-39437bb46aaf426e2da52c51\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 6a8bde05883e3a529e47f40f0d9e7aaa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: eSXRDNpWUbbFgEUv5vXy3NtDxWH57Lg3vGVGaWtUj6QCtaaTt3_2Lg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"662620aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE53258653258620240205165100\",\"approvalNum\":\"532586\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"532586\",\"rrn\":\"532586\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"42031908****3652\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"532586\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"532586\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE53258653258620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165133\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":253200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":312500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":87800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":713457000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":118500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":416300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":127800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":638400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":333400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":250200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":155500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\"","result":{"duration":129900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":117900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":333711700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:36.320 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2810\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"662620aBcD\"},\"transaction\":{\"approvalNum\":532586,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":532586,\"rrn\":532586,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"42031908****3652\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":532586,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":532586},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:36.650 response time in milliseconds: 330\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:34 GMT\n2 < x-amzn-RequestId: 77164a33-8878-4588-84d2-b60c2b913e13\n2 < x-amz-apigw-id: SrrAHEhGIAMEepw=\n2 < X-Amzn-Trace-Id: Root=1-65c15866-164132cc05faeb4c5771c673\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a095f5c394e0c42139106277f3743592.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: bw6pFXc9raMLNKXpzylfvojKGr29-9XvhAJmTBBRJllPBQomej2vBg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"662620aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE53258653258620240205165185\",\"approvalNum\":\"532586\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"532586\",\"rrn\":\"532586\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"42031908****3652\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"532586\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"532586\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE53258653258620240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165134\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":635100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":324100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":453100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":5139500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:35.927 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":142600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":559800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1132700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":558000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":160700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":114200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":94600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2654700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":921000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":184900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":107900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9014600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":594100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":290000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":224400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":66,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":352300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":55700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":119500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":271000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":197800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":191000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":181500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\"","result":{"duration":194800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":179200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":339363200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:35.958 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"29610aBcD\"},\"transaction\":{\"approvalNum\":736044,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":736044,\"rrn\":736044,\"dateTime\":\"20240205165100\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"77182879****7456\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":736044,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":736044},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:36.293 response time in milliseconds: 334\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:34 GMT\n1 < x-amzn-RequestId: 1a7c71e3-e119-4155-aa83-96625428fbdd\n1 < x-amz-apigw-id: SrrAEEeyIAMEepw=\n1 < X-Amzn-Trace-Id: Root=1-65c15866-6e723026783b758f7ecfc5a4\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 ba321a618e817037ce8e0d09e9005b46.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: ff4yiISDwW_rkSMplgMV0GVNfOyPCvisxsoEskQmvLROauxInzNrOg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"29610aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE73604473604420240205165100\",\"approvalNum\":\"736044\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"736044\",\"rrn\":\"736044\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"77182879****7456\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"736044\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"736044\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE73604473604420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165134\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":418100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":453800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":83500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":705702900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":126500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":111000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":146700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":643100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":104400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\"","result":{"duration":78500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":50100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":410814400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:37.004 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2803\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"29610aBcD\"},\"transaction\":{\"approvalNum\":736044,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":736044,\"rrn\":736044,\"dateTime\":\"20240205165100\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"77182879****7456\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":736044,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":736044},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:37.412 response time in milliseconds: 408\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 767\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:35 GMT\n2 < x-amzn-RequestId: 17c5a5ff-838d-4911-b22b-0aa62843f769\n2 < x-amz-apigw-id: SrrAOGjLoAMErOQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15867-1ffe13b1099df4dc284b1155\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 b168a8fa55fcb1a61f8a56eeaacf4d70.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: qutsIIyGwr640YZ2x7ycwg254cFMPN8duyJfD_GviK7Ns7FhfBnKFA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"29610aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE73604473604420240205165185\",\"approvalNum\":\"736044\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"736044\",\"rrn\":\"736044\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"77182879****7456\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"736044\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"736044\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE73604473604420240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165135\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":203200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":122100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":107900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":9556200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:35.982 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":109700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":526300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":653600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":241700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":350100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":99100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":101900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":818300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":703100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":110400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":91600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8239900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1077800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":397600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":337600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":67,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":433500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":61000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":116200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":244500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":170000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":165600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":169200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\"","result":{"duration":158500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":158700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":364863700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:36.012 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"186533aBcD\"},\"transaction\":{\"approvalNum\":387566,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":387566,\"rrn\":387566,\"dateTime\":\"20240205165100\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"83544946****7037\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":387566,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":387566},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:36.374 response time in milliseconds: 362\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:34 GMT\n1 < x-amzn-RequestId: ed07963d-412c-4b9c-bbb4-fa0cf91f091c\n1 < x-amz-apigw-id: SrrAEFZtoAMENZg=\n1 < X-Amzn-Trace-Id: Root=1-65c15866-79cf682c06618dd133808ebb\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d56500b57ee9fd16ecec33b0f5720c28.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: ZJFa5rF2m8Rc73Puq3sYNWK49ilqu25-GL-wDI6zFabCUcenRG_TwA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"186533aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE38756638756620240205165100\",\"approvalNum\":\"387566\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"387566\",\"rrn\":\"387566\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"83544946****7037\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"387566\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"387566\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE38756638756620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165134\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":271700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":311400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":108100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":703118300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":172000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":91700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":113700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":432000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\"","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":329208900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:37.082 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2810\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"186533aBcD\"},\"transaction\":{\"approvalNum\":387566,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":387566,\"rrn\":387566,\"dateTime\":\"20240205165100\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"83544946****7037\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":387566,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":387566},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:37.409 response time in milliseconds: 327\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:35 GMT\n2 < x-amzn-RequestId: cfd344c5-7670-42a1-8392-a650835b0a54\n2 < x-amz-apigw-id: SrrAPGCXoAMEhyw=\n2 < X-Amzn-Trace-Id: Root=1-65c15867-155184232424b0c719fbde79\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 1b60cf6445dea0db327d48d27419e066.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: MZOanPtUQJu_WqNFheVv19dNDFvOpFSzWK82kIuHLjzvawGGjJGNLQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"186533aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE38756638756620240205165185\",\"approvalNum\":\"387566\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"387566\",\"rrn\":\"387566\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"83544946****7037\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"387566\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"387566\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE38756638756620240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165135\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":428300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":131800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":104000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3824600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:36.661 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":143300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":767400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":768000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":199200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":46000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1288900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":605000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":104800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":66300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8587300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":649700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":296100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":183900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":68,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":378600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":41200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":80600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":212200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":138200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\"","result":{"duration":129600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":117100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":535800200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:36.683 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"428303aBcD\"},\"transaction\":{\"approvalNum\":354411,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":354411,\"rrn\":354411,\"dateTime\":\"20240205165100\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"50813734****7710\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":354411,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":354411},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:37.217 response time in milliseconds: 534\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:35 GMT\n1 < x-amzn-RequestId: 98206d17-aea8-4ced-a774-4e3652f40320\n1 < x-amz-apigw-id: SrrANHDxoAMEZMg=\n1 < X-Amzn-Trace-Id: Root=1-65c15867-28ffa4ba6a8265145e8b5ab8\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3f52c6e51c79b76b85ae5ed7c2503a6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 7qy_NljYd5RKgdvzCh6tSWlRfqeMJDZEYe_v-EikUHQlNUzTDF1fNQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"428303aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE35441135441120240205165100\",\"approvalNum\":\"354411\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"354411\",\"rrn\":\"354411\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"50813734****7710\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"354411\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"354411\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE35441135441120240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165135\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":266100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":419800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":71400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":712283800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":87800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":92300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\"","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":323914200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:37.932 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2807\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"428303aBcD\"},\"transaction\":{\"approvalNum\":354411,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":354411,\"rrn\":354411,\"dateTime\":\"20240205165100\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"50813734****7710\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":354411,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":354411},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:38.255 response time in milliseconds: 323\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 771\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:36 GMT\n2 < x-amzn-RequestId: 7b1708b9-a656-4d1d-9b64-9c99d3df678e\n2 < x-amz-apigw-id: SrrAXG3FoAMEfyg=\n2 < X-Amzn-Trace-Id: Root=1-65c15868-2a0d83967912b0fa065ab842\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8826e08ddb6fc1ad22432c251965170a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: ttSJlrP90z4P3rxq7GUI18saE08YBDLlFvLdZMy7Gn4spheYHSjSKw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"428303aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE35441135441120240205165185\",\"approvalNum\":\"354411\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"354411\",\"rrn\":\"354411\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"50813734****7710\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"354411\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"354411\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE35441135441120240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165136\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1093100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":300800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":128400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4342300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:36.776 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":264600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1315700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":861300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":264700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":89200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":75300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1167800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":605200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":168800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":72000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9844700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":983300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":357400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":287200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":69,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":380400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":75900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":205800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":341200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\"","result":{"duration":201000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":689300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":531425400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:36.802 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"901979aBcD\"},\"transaction\":{\"approvalNum\":880258,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":880258,\"rrn\":880258,\"dateTime\":\"20240205165100\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"39298387****5170\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":880258,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":880258},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:37.331 response time in milliseconds: 529\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:35 GMT\n1 < x-amzn-RequestId: 0bda7945-18ed-41af-a070-c62c0b3704f7\n1 < x-amz-apigw-id: SrrAOHZKoAMEtVw=\n1 < X-Amzn-Trace-Id: Root=1-65c15867-42e605b86ac9e50a57440a76\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 473e7bcc71e2b6e5a8e19c433673f9e8.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: aVVuU-hBJ6ooOgRffW6kIN6CWH78T_HjZB7TMEVjWnzL2r-minY5ow==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"901979aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE88025888025820240205165100\",\"approvalNum\":\"880258\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"880258\",\"rrn\":\"880258\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"39298387****5170\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"880258\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"880258\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE88025888025820240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165135\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":331600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":431100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":127800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":709746400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":71200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":37900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":81300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\"","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":342041700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:38.045 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2807\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"901979aBcD\"},\"transaction\":{\"approvalNum\":880258,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":880258,\"rrn\":880258,\"dateTime\":\"20240205165100\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"39298387****5170\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":880258,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":880258},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:38.385 response time in milliseconds: 340\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 771\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:36 GMT\n2 < x-amzn-RequestId: d5d0ecf5-739d-492e-bb3c-2d71e9326fe8\n2 < x-amz-apigw-id: SrrAYEmLIAMEXcw=\n2 < X-Amzn-Trace-Id: Root=1-65c15868-36ce532e672e1e9c496096a8\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a095f5c394e0c42139106277f3743592.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: zENF-adFpfzU-SSLaNzPWzixPCGCmZSfkL6tgup__vt-mjMI-oCCjA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"901979aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE88025888025820240205165185\",\"approvalNum\":\"880258\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"880258\",\"rrn\":\"880258\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"39298387****5170\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"880258\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"880258\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE88025888025820240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165136\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":251500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":83500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":58400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3447100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:37.413 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":196700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":222900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":281000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":131600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":69600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":62100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":190500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":382500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":278300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":80300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":78800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3483000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":164900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":118500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":103400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":70,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":108100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":20800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":375600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\"","result":{"duration":190200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":131000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":332121600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:37.426 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"407085aBcD\"},\"transaction\":{\"approvalNum\":567074,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":567074,\"rrn\":567074,\"dateTime\":\"20240205165100\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"30171794****7012\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":567074,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":567074},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:37.757 response time in milliseconds: 330\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:35 GMT\n1 < x-amzn-RequestId: a0e2e126-d85a-42ab-8362-72ccd8d6bb6a\n1 < x-amz-apigw-id: SrrASFlvIAMEqhw=\n1 < X-Amzn-Trace-Id: Root=1-65c15867-65638a23567357a3401ae858\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 3601b3583b8fa2c1ff5a4060892d24b2.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: w1d0hTAudJUCN2wC2fhhAe5ExRvpsx44sVJhE9slK-Xgly9vVbs38g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"407085aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE56707456707420240205165100\",\"approvalNum\":\"567074\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"567074\",\"rrn\":\"567074\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"30171794****7012\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"567074\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"567074\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE56707456707420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165135\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":343100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":179400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":116300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":703659300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":195600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":156500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":64900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":190800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":48500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":67000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\"","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":338304300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:38.464 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2810\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"407085aBcD\"},\"transaction\":{\"approvalNum\":567074,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":567074,\"rrn\":567074,\"dateTime\":\"20240205165100\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"30171794****7012\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":567074,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":567074},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:38.800 response time in milliseconds: 336\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:37 GMT\n2 < x-amzn-RequestId: 791c9e3e-aefb-467c-ad09-1d63401054d9\n2 < x-amz-apigw-id: SrrAdFqlIAMEm_A=\n2 < X-Amzn-Trace-Id: Root=1-65c15869-0e0fdb0e453456914432c289\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8b0b556682aca246cac2962455e370be.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: 9glHVrDL_t9NJbTrpOE0H8SPc0ayEi4erPiRgGlWDKIPEnlzBw-PfA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"407085aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE56707456707420240205165185\",\"approvalNum\":\"567074\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"567074\",\"rrn\":\"567074\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"30171794****7012\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"567074\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"567074\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE56707456707420240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165137\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":329600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":163200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":79100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2365200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:37.417 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":90100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":131700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":166100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":95900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":72000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":66600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":60800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":370400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":404600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":92700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":95800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3070200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":252800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":137900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":109200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":71,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":114400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":62000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":304900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\"","result":{"duration":204100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":174100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":365130000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:37.429 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"350680aBcD\"},\"transaction\":{\"approvalNum\":649793,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":649793,\"rrn\":649793,\"dateTime\":\"20240205165100\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"84636756****3340\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":649793,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":649793},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:37.792 response time in milliseconds: 363\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:36 GMT\n1 < x-amzn-RequestId: 23bd5245-793c-4fb9-a4c1-bd723d6b3079\n1 < x-amz-apigw-id: SrrASFhGoAMEvPg=\n1 < X-Amzn-Trace-Id: Root=1-65c15867-32f2311105b84863243e9674\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 af3d2c4aae84cb3609a51b4e8756647a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: trcwSZlRec2Y_u_EpnP9X32HdTtDPuMdfZ4mfJorRuJhGf3_Nb5jQQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"350680aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE64979364979320240205165100\",\"approvalNum\":\"649793\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"649793\",\"rrn\":\"649793\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"84636756****3340\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"649793\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"649793\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE64979364979320240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165136\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":235700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":109300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":59000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":714078500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":98900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":123800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":46600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\"","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":328069800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:38.510 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"350680aBcD\"},\"transaction\":{\"approvalNum\":649793,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":649793,\"rrn\":649793,\"dateTime\":\"20240205165100\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"84636756****3340\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":649793,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":649793},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:38.836 response time in milliseconds: 326\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:37 GMT\n2 < x-amzn-RequestId: 4c953b44-33d7-46b9-8aa8-cd6bf2b72ef2\n2 < x-amz-apigw-id: SrrAdEwqIAMESGQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15869-7f93f6fa440936c3122493f6\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 4e200ddb95975a7a95483b79d1683e50.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: 5vKxZlEVmklrdBCs-rsYi5Zz1tgYvKIQ4aKx9HN3HLAWae5kJME-mA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"350680aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE64979364979320240205165185\",\"approvalNum\":\"649793\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"649793\",\"rrn\":\"649793\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"84636756****3340\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"649793\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"649793\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE64979364979320240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165137\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":319400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":150600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":85700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1814300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:38.262 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":180300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":219000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":171000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":62100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":55200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":349000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":269500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":44600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":2360300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":136300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":71900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":72,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":89800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":278600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\"","result":{"duration":227900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":126200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":538125700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:38.271 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"727886aBcD\"},\"transaction\":{\"approvalNum\":166325,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":166325,\"rrn\":166325,\"dateTime\":\"20240205165100\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"84144040****5067\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":166325,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":166325},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:38.807 response time in milliseconds: 536\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:37 GMT\n1 < x-amzn-RequestId: 9ca9a153-1236-4a14-b1b4-84732b9d8e72\n1 < x-amz-apigw-id: SrrAdGqpoAMEfaw=\n1 < X-Amzn-Trace-Id: Root=1-65c15869-49ed6a9e15c6200021ed375f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1c9d85482f328fefd09e9554d8dba7a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: y6asEcxzhZQVoBZI-Cjj0QKyNeTSy6f-6N4shaxV5qNg-xjoR10-Mw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"727886aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE16632516632520240205165100\",\"approvalNum\":\"166325\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"166325\",\"rrn\":\"166325\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"84144040****5067\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"166325\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"166325\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE16632516632520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165137\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":722000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":209100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":77200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":703991800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":279300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":83200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":136500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":167500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\"","result":{"duration":71700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":529562900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:39.516 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"727886aBcD\"},\"transaction\":{\"approvalNum\":166325,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":166325,\"rrn\":166325,\"dateTime\":\"20240205165100\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"84144040****5067\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":166325,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":166325},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:40.044 response time in milliseconds: 528\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 769\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:38 GMT\n2 < x-amzn-RequestId: 5f3e9903-af61-4cb6-a293-a3484d0a4341\n2 < x-amz-apigw-id: SrrApHxKIAMEpFQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586a-37d09837045774fe251d9830\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 cef9da1b4a6e82d7b1f4fa1d1057cf94.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: EeznCj0OZfMH27fOdYRtN4IImsrQ46FAL2f0w7gKn07Wz86z8bb1Uw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"727886aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE16632516632520240205165185\",\"approvalNum\":\"166325\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"166325\",\"rrn\":\"166325\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"84144040****5067\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"166325\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"166325\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE16632516632520240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165138\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":783500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":318300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":75700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3013900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:38.389 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":155500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":374800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":546000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":270400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":90000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":84600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":73200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":878400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":503300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":92700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":56700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5369400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":276500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":86200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":55100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":73,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":90100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":59000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\"","result":{"duration":332900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\"","result":{"duration":130700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":93100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":528883100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:38.404 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"631000aBcD\"},\"transaction\":{\"approvalNum\":224663,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":224663,\"rrn\":224663,\"dateTime\":\"20240205165100\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"32538059****3253\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":224663,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":224663},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:38.931 response time in milliseconds: 527\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:37 GMT\n1 < x-amzn-RequestId: b61a387d-ef17-4931-8610-2b52f5d3ca31\n1 < x-amz-apigw-id: SrrAeFcdoAMEExQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15869-6b8663a259da7240551cdc1c\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 397871ae913f1796ba76aca08571de36.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: f6IuaaF6Wr0v0guBoKud0tvp6OLbQyrYkrU_Llt9JJ71IObc5ij09A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"631000aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE22466322466320240205165100\",\"approvalNum\":\"224663\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"224663\",\"rrn\":\"224663\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"32538059****3253\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"224663\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"224663\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE22466322466320240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165137\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":235800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":80000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":63100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":708115900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":64300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":75800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\"","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\"","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":321979400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:39.642 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2806\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"631000aBcD\"},\"transaction\":{\"approvalNum\":224663,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":224663,\"rrn\":224663,\"dateTime\":\"20240205165100\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"32538059****3253\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":224663,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":224663},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:39.962 response time in milliseconds: 320\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 770\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:38 GMT\n2 < x-amzn-RequestId: de17c985-c3f8-48c2-8a40-66a79c4f329b\n2 < x-amz-apigw-id: SrrAoGCEoAMEjuA=\n2 < X-Amzn-Trace-Id: Root=1-65c1586a-14e25f3947359d1622729a30\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 cef9da1b4a6e82d7b1f4fa1d1057cf94.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: KjIzFgbQMMPeXf896NObk0bFxBD3CsJTlDGnzhfa5SFcmo_2AEreYw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"631000aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE22466322466320240205165185\",\"approvalNum\":\"224663\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"224663\",\"rrn\":\"224663\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"32538059****3253\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"224663\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"224663\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE22466322466320240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165138\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":184700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":54900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4096200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:38.806 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":251600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":329800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":356900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":194900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":52800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":58600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":375000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":395200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":79300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":83300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3984000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":237000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":101700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":88500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":74,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":97700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":71400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\"","result":{"duration":445300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\"","result":{"duration":188400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":115700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":320928700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:38.821 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"492246aBcD\"},\"transaction\":{\"approvalNum\":470075,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":470075,\"rrn\":470075,\"dateTime\":\"20240205165100\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"46913602****1891\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":470075,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":470075},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:39.140 response time in milliseconds: 319\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:37 GMT\n1 < x-amzn-RequestId: 4e87c27e-4b12-49c1-a8ea-e7f958b4e463\n1 < x-amz-apigw-id: SrrAgEyjIAMESGQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15869-619c88033018b0846ab58929\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f000be4440afdd3a3d6413434446dab2.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: ex83rABsHynzAa0hUB8F1MLdTc3NctqUcCGJfIoNcUDNyp22ZcDBgg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"492246aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE47007547007520240205165100\",\"approvalNum\":\"470075\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"470075\",\"rrn\":\"470075\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"46913602****1891\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"470075\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"470075\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE47007547007520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165137\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":275000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":83100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":84000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":702360500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":74700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":94900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":98600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":232700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":87700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\"","result":{"duration":67400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\"","result":{"duration":24300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":36100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":356148600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:39.846 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2802\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"492246aBcD\"},\"transaction\":{\"approvalNum\":470075,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":470075,\"rrn\":470075,\"dateTime\":\"20240205165100\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"46913602****1891\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":470075,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":470075},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:40.201 response time in milliseconds: 354\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:38 GMT\n2 < x-amzn-RequestId: 5f810744-9bb1-420e-89d1-7d971869a1ad\n2 < x-amz-apigw-id: SrrAqF1doAMEcsA=\n2 < X-Amzn-Trace-Id: Root=1-65c1586a-1dd398b06a599e80533f40b0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 41214e21a06ae299a8c0c72752b81bac.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: hK19vXYObAv9RuPrt4dHa0m-0flyT6J5qIQdhZXGwHtYdGVz74DiIA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"492246aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE47007547007520240205165185\",\"approvalNum\":\"470075\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"470075\",\"rrn\":\"470075\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"46913602****1891\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"470075\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"470075\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE47007547007520240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165138\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":322300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":112200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":67100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3732700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:38.842 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":116300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":277100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":529100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":235400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":83900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":66400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":51700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":461500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":325800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":84300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3766600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":263200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":98500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":75400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":75,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":106500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":71300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\"","result":{"duration":456500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\"","result":{"duration":224500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":170600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":329400500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:38.857 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"182276aBcD\"},\"transaction\":{\"approvalNum\":679161,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":679161,\"rrn\":679161,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"68669770****3797\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":679161,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":679161},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:39.185 response time in milliseconds: 328\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:37 GMT\n1 < x-amzn-RequestId: 037af967-7922-4b38-b0e4-f3432f82b2f9\n1 < x-amz-apigw-id: SrrAhHV1IAMEEnw=\n1 < X-Amzn-Trace-Id: Root=1-65c15869-20c22d3c630dd75d2ccb5042\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 8826e08ddb6fc1ad22432c251965170a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 4nVK5cH55jTD1EAUTMA2h_jFPUaRUfBTOYtMPhEimv5t-vDl2342aw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"182276aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE67916167916120240205165100\",\"approvalNum\":\"679161\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"679161\",\"rrn\":\"679161\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"68669770****3797\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"679161\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"679161\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE67916167916120240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165137\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":261100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":134000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":83600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":704682600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":83700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":107800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\"","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\"","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":353131200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:39.892 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2807\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"182276aBcD\"},\"transaction\":{\"approvalNum\":679161,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":679161,\"rrn\":679161,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"68669770****3797\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":679161,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":679161},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:40.244 response time in milliseconds: 352\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 771\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:38 GMT\n2 < x-amzn-RequestId: 753f7d0e-ae01-436f-8273-92f1a8aabd3e\n2 < x-amz-apigw-id: SrrArHNTIAMEGSQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586a-42a0103d48d2c07336cadc9b\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8b0b556682aca246cac2962455e370be.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: Lb1o1mo6qgbF-0S0BNxBTZhoNlUK_CG437DAsBCdBz4DL8ErHzqPXg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"182276aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE67916167916120240205165185\",\"approvalNum\":\"679161\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"679161\",\"rrn\":\"679161\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"68669770****3797\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"679161\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"679161\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE67916167916120240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165138\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":630300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":193000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":131800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2718600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:39.965 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":189900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":197700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":391400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":157300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":60400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":78700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":485700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":454200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":87100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":89600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6365700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":447100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":95100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":74900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":76,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":202400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":80600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\"","result":{"duration":433700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\"","result":{"duration":341600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":115200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":349584800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:39.981 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2814\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"766345aBcD\"},\"transaction\":{\"approvalNum\":679421,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":679421,\"rrn\":679421,\"dateTime\":\"20240205165100\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"47563246****2203\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":679421,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":679421},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:40.329 response time in milliseconds: 348\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 778\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:38 GMT\n1 < x-amzn-RequestId: 414c23ab-85e7-4b82-82ac-f24b0629b3e3\n1 < x-amz-apigw-id: SrrAsFJ6oAMEZjQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1586a-2ff66e073d5feeed49df278e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 61bf5cdcb798726dc6c606f907cc8f54.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: CXjda_QuxMsCm72kmaIeZRSoAdrYq1UMP4AIHDPLmwHODVbBBYnLJg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"766345aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE67942167942120240205165100\",\"approvalNum\":\"679421\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"679421\",\"rrn\":\"679421\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"47563246****2203\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"679421\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"679421\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE67942167942120240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165138\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":243000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":117000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":210400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710791700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":102500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":138600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":28000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\"","result":{"duration":57700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\"","result":{"duration":170800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":94900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":349559300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:41.043 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2814\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"766345aBcD\"},\"transaction\":{\"approvalNum\":679421,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":679421,\"rrn\":679421,\"dateTime\":\"20240205165100\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"47563246****2203\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":679421,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":679421},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:41.391 response time in milliseconds: 348\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 778\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:39 GMT\n2 < x-amzn-RequestId: a75a50ed-8766-487a-8660-bf794d26f3b5\n2 < x-amz-apigw-id: SrrA2GWhIAMEjKQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586b-4c67d8405ebcdca54835b5bb\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 0c681a1ff8dbc2511e757e2f05da8268.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: A9PB_NaO-yjdY88UYDxYNdbu_4XkmVYIkjF9WSgaiskrtUZHGN3DLw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"766345aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE67942167942120240205165185\",\"approvalNum\":\"679421\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"679421\",\"rrn\":\"679421\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"47563246****2203\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"679421\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"679421\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE67942167942120240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165139\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":263600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":138200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":67700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":7084100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:40.048 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":135600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":219600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":334600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":134200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":60100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":354900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":305400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":54800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":47100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3456500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":258500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":108800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":74200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":77,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":93700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":67300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\"","result":{"duration":339600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\"","result":{"duration":115900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":67300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":331253500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:40.064 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"641737aBcD\"},\"transaction\":{\"approvalNum\":307280,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":307280,\"rrn\":307280,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"22412502****4010\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":307280,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":307280},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:40.394 response time in milliseconds: 330\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:38 GMT\n1 < x-amzn-RequestId: b65e0ae2-cb43-4174-aad8-4413df9a3be4\n1 < x-amz-apigw-id: SrrAtGABIAMECPQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1586a-7788618737d591722fa1ff9a\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d56500b57ee9fd16ecec33b0f5720c28.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: lE6SbmXRkh2aA0VU-MPRIDN3OD6r-RJ18j0-a__OWNxI30fH3FwwDA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"641737aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE30728030728020240205165100\",\"approvalNum\":\"307280\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"307280\",\"rrn\":\"307280\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"22412502****4010\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"307280\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"307280\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE30728030728020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165138\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":459800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":116400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":64600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":708553200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":132900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":77500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":118500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\"","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\"","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":328388400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:41.106 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2811\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"641737aBcD\"},\"transaction\":{\"approvalNum\":307280,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":307280,\"rrn\":307280,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"22412502****4010\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":307280,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":307280},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:41.432 response time in milliseconds: 326\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 775\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:39 GMT\n2 < x-amzn-RequestId: e43f9626-8e49-4e41-a4d0-1e64c762ba9d\n2 < x-amz-apigw-id: SrrA3EUpIAMEE9w=\n2 < X-Amzn-Trace-Id: Root=1-65c1586b-22c951104688798b2fe9a3db\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 672a274f5830cff711168a1debfae76c.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: lfwQzkCkVhpCyqJfZSseg42VfJ5u1M8IXXv26uKI6p_LtGAOTlR6tg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"641737aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE30728030728020240205165185\",\"approvalNum\":\"307280\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"307280\",\"rrn\":\"307280\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"22412502****4010\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"307280\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"307280\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE30728030728020240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165139\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":371300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":113600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":75500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":7135000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:40.204 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":155900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":312300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":498200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":264800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":46600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":273800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":186800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6015300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":301800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":107900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":69300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":78,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":108500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":88100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":377600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\"","result":{"duration":148500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":100600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":372949200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:40.224 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"561241aBcD\"},\"transaction\":{\"approvalNum\":818426,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":818426,\"rrn\":818426,\"dateTime\":\"20240205165100\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"81264191****7613\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":818426,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":818426},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:40.595 response time in milliseconds: 371\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:38 GMT\n1 < x-amzn-RequestId: 40de8ffe-9d37-4968-88b9-66f2bbd4d7c5\n1 < x-amz-apigw-id: SrrAvGFjIAMEvHw=\n1 < X-Amzn-Trace-Id: Root=1-65c1586a-703f59906c25bd4e22c63283\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 672a274f5830cff711168a1debfae76c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: rqjM3DL6tCQS4ZovvhnGmQhCtsW-tIlxfQuBTAguvD-97wXlar-LTw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"561241aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE81842681842620240205165100\",\"approvalNum\":\"818426\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"818426\",\"rrn\":\"818426\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"81264191****7613\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"818426\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"818426\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE81842681842620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165138\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":321000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":96100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":68900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710476800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":139700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":61100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":30000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":173400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":84300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":39500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":192400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\"","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":341714000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:41.309 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2812\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"561241aBcD\"},\"transaction\":{\"approvalNum\":818426,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":818426,\"rrn\":818426,\"dateTime\":\"20240205165100\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"81264191****7613\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":818426,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":818426},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:41.649 response time in milliseconds: 340\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 776\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:39 GMT\n2 < x-amzn-RequestId: 0a39cc71-20a1-4855-a264-036f8f2bd147\n2 < x-amz-apigw-id: SrrA5HQuIAMEuiQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586b-6556c637516c223f45147a5a\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 e10f5a2809f551f49db0ef4e9e7c1228.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: VafKZ0EJqTz4A35ihCirOnqYIzZ5lePAEwBjOsX7-_BQ6lLOUlDf3g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"561241aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE81842681842620240205165185\",\"approvalNum\":\"818426\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"818426\",\"rrn\":\"818426\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"81264191****7613\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"818426\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"818426\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE81842681842620240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165139\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":320200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":171400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":114700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":9767200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:40.249 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":137000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":227200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":409200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":252200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":100100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":891400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":445600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":69800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5444200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":278900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":114400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":101000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":79,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":140400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":23300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":79700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":51500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":353400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\"","result":{"duration":124800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":117100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":545245200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:40.272 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"383596aBcD\"},\"transaction\":{\"approvalNum\":154281,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":154281,\"rrn\":154281,\"dateTime\":\"20240205165100\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"43176753****4046\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":154281,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":154281},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:40.815 response time in milliseconds: 543\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:39 GMT\n1 < x-amzn-RequestId: fe82f655-f56b-46e2-bd80-e7cd341559c9\n1 < x-amz-apigw-id: SrrAxGGQoAMEBiQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1586b-130b042d466a5b285ad0d442\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e778332efddc53006b892e6757c89284.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: iXQHqEp4csu0A5Z4pi3_J-p1T4Iz1fcmJ70e-xtZXTpwBketvm-KiQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"383596aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE15428115428120240205165100\",\"approvalNum\":\"154281\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"154281\",\"rrn\":\"154281\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"43176753****4046\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"154281\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"154281\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE15428115428120240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165139\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":261000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":152900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":73700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":708606600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":82400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":68800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":55900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":209500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\"","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":341819600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:41.527 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2808\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"383596aBcD\"},\"transaction\":{\"approvalNum\":154281,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":154281,\"rrn\":154281,\"dateTime\":\"20240205165100\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"43176753****4046\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":154281,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":154281},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:41.868 response time in milliseconds: 341\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 772\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:40 GMT\n2 < x-amzn-RequestId: d540a20c-775e-4a0b-a105-41868dc6906e\n2 < x-amz-apigw-id: SrrA7FI2oAMECxQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586c-1127db7b7abf4fd71a547a12\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 473e7bcc71e2b6e5a8e19c433673f9e8.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: A3zpLs-lX1FFO7ibWXGMqGfvPy1xcevRLUmQl0YnYEYrRV6h8zKDdg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"383596aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE15428115428120240205165185\",\"approvalNum\":\"154281\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"154281\",\"rrn\":\"154281\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"43176753****4046\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"154281\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"154281\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE15428115428120240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165140\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":133600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3920700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:41.397 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":153800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":228300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":397500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":201500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":99000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":85200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":134500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":444600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":463500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":91000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":93100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6151200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":330000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":97400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":61700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":80,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":128800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":60900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":126200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":861300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\"","result":{"duration":258700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":117600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":330740000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:41.414 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2815\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"680043aBcD\"},\"transaction\":{\"approvalNum\":608659,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":608659,\"rrn\":608659,\"dateTime\":\"20240205165100\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"95018604****1796\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":608659,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":608659},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:41.743 response time in milliseconds: 329\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 779\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:39 GMT\n1 < x-amzn-RequestId: f77b9921-290f-4d5b-ad4f-13cae08a4019\n1 < x-amz-apigw-id: SrrA6FAPIAMEepw=\n1 < X-Amzn-Trace-Id: Root=1-65c1586b-01fd843360c34c077f3177f1\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 8b0b556682aca246cac2962455e370be.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: iASWGyXcPc7WWNJmHYPM9FPGfjxSyPh6j3hl0X3YLZBHKHaphz_uQA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"680043aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE60865960865920240205165100\",\"approvalNum\":\"608659\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"608659\",\"rrn\":\"608659\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"95018604****1796\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"608659\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"608659\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE60865960865920240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165139\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":359700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":197700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":101600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":712564900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":123100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":122300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":42300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\"","result":{"duration":23300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":212593100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:42.459 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2815\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"680043aBcD\"},\"transaction\":{\"approvalNum\":608659,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":608659,\"rrn\":608659,\"dateTime\":\"20240205165100\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"95018604****1796\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":608659,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":608659},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:42.670 response time in milliseconds: 211\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 779\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:40 GMT\n2 < x-amzn-RequestId: a773d4d6-47d2-41b1-b1d1-cfad57ce4084\n2 < x-amz-apigw-id: SrrBEF-qIAMEvPg=\n2 < X-Amzn-Trace-Id: Root=1-65c1586c-2850a2a3027f804d4bda435f\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 0xK7JMSkYQhncR930HBNK-1xxvqSpdaZdAtoRf6R29Jjp1yMLI9qkQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"680043aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE60865960865920240205165185\",\"approvalNum\":\"608659\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"608659\",\"rrn\":\"608659\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"95018604****1796\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"608659\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"608659\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE60865960865920240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165140\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":226700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":131600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":80600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3893100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:41.437 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":196800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":371300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":846400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":625900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":154500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":80900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":103200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":440600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":352000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":58200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8856000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":344000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":136500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":111600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":81,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":144700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":90500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":521900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\"","result":{"duration":223000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":151300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":375639400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:41.459 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"450470aBcD\"},\"transaction\":{\"approvalNum\":171790,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":171790,\"rrn\":171790,\"dateTime\":\"20240205165100\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"26354332****2028\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":171790,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":171790},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:41.833 response time in milliseconds: 373\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:40 GMT\n1 < x-amzn-RequestId: 568b59af-43e7-44d9-8bbd-2a04208dfc28\n1 < x-amz-apigw-id: SrrA7GCtIAMEb1g=\n1 < X-Amzn-Trace-Id: Root=1-65c1586c-2b7533fd6ad502f55116069d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f7f58294d1419cb7835c1addaee1386c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: JiPZszw8z7fr1t-HUhesSVOeNvmHRIvujifqcwgmt2zQ0y_f2quYFA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"450470aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE17179017179020240205165100\",\"approvalNum\":\"171790\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"171790\",\"rrn\":\"171790\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"26354332****2028\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"171790\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"171790\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE17179017179020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165140\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":289300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":125300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":151700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":701542400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":74700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":62900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\"","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":8100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":217082400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:42.537 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2803\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"450470aBcD\"},\"transaction\":{\"approvalNum\":171790,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":171790,\"rrn\":171790,\"dateTime\":\"20240205165100\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"26354332****2028\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":171790,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":171790},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:42.751 response time in milliseconds: 214\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 767\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:41 GMT\n2 < x-amzn-RequestId: 245483a3-3a60-458d-a8da-a3a21a35e8d9\n2 < x-amz-apigw-id: SrrBEF7_IAMESEg=\n2 < X-Amzn-Trace-Id: Root=1-65c1586c-5b88e63534a871bc3dea8668\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: aSOUeHfMSEsf4U7Pq4zjX55yzu5DvKzVSQvp6bdN3fed_cPOSc2a0A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"450470aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE17179017179020240205165185\",\"approvalNum\":\"171790\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"171790\",\"rrn\":\"171790\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"26354332****2028\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"171790\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"171790\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE17179017179020240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165141\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":95500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":342800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":89700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":58200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2277100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:41.655 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":103000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":174300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":250300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":130900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":92300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":309500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":303700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":75500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":83500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3068100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":247400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":111700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":151000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":82,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":318400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":101100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":115200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":375500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\"","result":{"duration":109400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":68700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":532522400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:41.666 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2817\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"877833aBcD\"},\"transaction\":{\"approvalNum\":911381,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":911381,\"rrn\":911381,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"83309026****6187\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":911381,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":911381},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:42.197 response time in milliseconds: 531\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:40 GMT\n1 < x-amzn-RequestId: 2f48f1d2-3641-4114-97ee-1b8c38c2bf06\n1 < x-amz-apigw-id: SrrA_GK-IAMEB3g=\n1 < X-Amzn-Trace-Id: Root=1-65c1586c-20223c630b5a70d875a97354\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 cdf2e63ca525f9a875840d49cccd3ba6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: wcxWLEKklgAbVAkqQXC_GTAp2XfaOyDvyb3f9ZCI0QJe0wsxIqg_eg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"877833aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE91138191138120240205165100\",\"approvalNum\":\"911381\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"911381\",\"rrn\":\"911381\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"83309026****6187\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"911381\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"911381\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE91138191138120240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165140\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":249800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":97100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":64900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":711610200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":97500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":58100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":123700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":40400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\"","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":314734000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:42.912 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2817\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"877833aBcD\"},\"transaction\":{\"approvalNum\":911381,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":911381,\"rrn\":911381,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"83309026****6187\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":911381,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":911381},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:43.225 response time in milliseconds: 312\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 781\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:41 GMT\n2 < x-amzn-RequestId: 261c0754-5cb6-41f0-8d59-90437eb47e65\n2 < x-amz-apigw-id: SrrBJF2bIAMEExQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586d-4e6ed9d41b5b778c5596eaed\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: dFOvFQQlD3WqX4f1dand1aSCrYM4VMBslBgF1NY-Beq0KuqbFfBgvg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"877833aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE91138191138120240205165185\",\"approvalNum\":\"911381\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"911381\",\"rrn\":\"911381\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"83309026****6187\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"911381\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"911381\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE91138191138120240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165141\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":393900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":249500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":87300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1566700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:41.870 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":110800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":171100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":75800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":369800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":404600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":85400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":81900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":2931300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":138000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":133600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":183300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":83,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":109400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":118100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":302800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\"","result":{"duration":111500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":80700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":330183600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:41.880 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"608647aBcD\"},\"transaction\":{\"approvalNum\":478954,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":478954,\"rrn\":478954,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"47194728****4136\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":478954,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":478954},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:42.209 response time in milliseconds: 328\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:40 GMT\n1 < x-amzn-RequestId: 5eb22c6b-363d-4360-bac3-02ce6954e451\n1 < x-amz-apigw-id: SrrA_G_coAMEfaw=\n1 < X-Amzn-Trace-Id: Root=1-65c1586c-30972654796cde4f47946d54\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 17ce9cbcbc686d5320c94e5563c8e4e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: P2WHaxQ0A50CLTGz9-TPq_mLLTW-spuYyhYV3jHIvefItqtbaSM5SA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"608647aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE47895447895420240205165100\",\"approvalNum\":\"478954\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"478954\",\"rrn\":\"478954\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"47194728****4136\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"478954\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"478954\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE47895447895420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165140\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":260200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":140700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":66200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":705154900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":85600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":43000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":91300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":53200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\"","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":178117400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:42.917 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"608647aBcD\"},\"transaction\":{\"approvalNum\":478954,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":478954,\"rrn\":478954,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"47194728****4136\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":478954,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":478954},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:43.093 response time in milliseconds: 176\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:41 GMT\n2 < x-amzn-RequestId: bac3fe43-95e0-4669-be13-13b051b452d2\n2 < x-amz-apigw-id: SrrBIHZ-IAMEuiQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586d-5917e8bc690c5afb5422cdab\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: bM6Eeji9btxIKmAKdxLqqFoaqmOTCTNTGW5P72G-L4xmH1eUu2thCA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"608647aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE47895447895420240205165185\",\"approvalNum\":\"478954\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"478954\",\"rrn\":\"478954\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"47194728****4136\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"478954\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"478954\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE47895447895420240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165141\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":367600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":166500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":106300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2919700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:42.674 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":311000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":461800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":665000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":286500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":146600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":234600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":265100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":865600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":629000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":160500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":125100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4550600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":328400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":158600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":154400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":84,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":193700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":91900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":39600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":439900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\"","result":{"duration":222600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":198800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":172617800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:42.691 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"498867aBcD\"},\"transaction\":{\"approvalNum\":999970,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":999970,\"rrn\":999970,\"dateTime\":\"20240205165100\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"16222960****4435\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":999970,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":999970},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:42.861 response time in milliseconds: 170\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:41 GMT\n1 < x-amzn-RequestId: 53747aef-4d0e-4203-a3c0-4a3c4808d04d\n1 < x-amz-apigw-id: SrrBGGYlIAMEAJw=\n1 < X-Amzn-Trace-Id: Root=1-65c1586d-415e70516bdf7ec15ef0957c\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 064907318388ddb71d9d0db586a17f3a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: -Cvlj0iiWNMhoH8S-rTBr9QBU6dZKnfaWR661BuaMLVV3amy_-9c4w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"498867aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE99997099997020240205165100\",\"approvalNum\":\"999970\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"999970\",\"rrn\":\"999970\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"16222960****4435\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"999970\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"999970\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE99997099997020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165141\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":195000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":105900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":708076800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":85500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":61400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":18900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":100400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":68100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\"","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":47600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":206298900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:43.573 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"498867aBcD\"},\"transaction\":{\"approvalNum\":999970,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":999970,\"rrn\":999970,\"dateTime\":\"20240205165100\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"16222960****4435\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":999970,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":999970},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:43.777 response time in milliseconds: 204\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:42 GMT\n2 < x-amzn-RequestId: 7b2be45e-8d9b-468b-8686-ec42a8543ea8\n2 < x-amz-apigw-id: SrrBPG_lIAMEQUw=\n2 < X-Amzn-Trace-Id: Root=1-65c1586e-6cd2bf4037ddd57d6d84fe54\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: FmSkFCH4QllaxI2u13_wpDreVjOh4a8R1wnm96aWQXhs7acXAD831w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"498867aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE99997099997020240205165185\",\"approvalNum\":\"999970\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"999970\",\"rrn\":\"999970\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"16222960****4435\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"999970\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"999970\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE99997099997020240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165142\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":258200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":82900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2013300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:42.756 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":108000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":195000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":402100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":171200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":87800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":82300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":426700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":585300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":82100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3416900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":346700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":85,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":88300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":288200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\"","result":{"duration":153200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":94200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":340912300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:42.767 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"597998aBcD\"},\"transaction\":{\"approvalNum\":834086,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":834086,\"rrn\":834086,\"dateTime\":\"20240205165100\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"98131613****1983\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":834086,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":834086},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:43.107 response time in milliseconds: 340\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:41 GMT\n1 < x-amzn-RequestId: d72b0df1-d8e0-4341-83e7-e6bdbd952eeb\n1 < x-amz-apigw-id: SrrBIGNcoAMES7Q=\n1 < X-Amzn-Trace-Id: Root=1-65c1586d-6f5a1ab968924b8948555cc4\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: dPN8cNjw6IzfC8Z-hUCZQTx9YJdzrA5-7plKlk9j71qGUEEh69GBIg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"597998aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE83408683408620240205165100\",\"approvalNum\":\"834086\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"834086\",\"rrn\":\"834086\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"98131613****1983\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"834086\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"834086\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE83408683408620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165141\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":189600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":97400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":60600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710248800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":96400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":81700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\"","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":314007800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:43.819 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2812\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"597998aBcD\"},\"transaction\":{\"approvalNum\":834086,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":834086,\"rrn\":834086,\"dateTime\":\"20240205165100\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"98131613****1983\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":834086,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":834086},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:44.132 response time in milliseconds: 313\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 776\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:42 GMT\n2 < x-amzn-RequestId: 9a291c84-03f0-4366-bdac-9e67ef15b86a\n2 < x-amz-apigw-id: SrrBSFL3IAMEEXA=\n2 < X-Amzn-Trace-Id: Root=1-65c1586e-555ed0d36875790d156a42a1\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: gb57KjHP1wtaPbM5cpnRv9d8hUMazN0dxjmFcZ9tdo_CEN9Hor1J1Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"597998aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE83408683408620240205165185\",\"approvalNum\":\"834086\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"834086\",\"rrn\":\"834086\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"98131613****1983\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"834086\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"834086\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE83408683408620240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165142\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":262100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":88600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":69000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2712800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:43.097 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":141600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":241100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":139000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":100300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":114000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":125400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":377500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":258800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3338300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":269400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":196100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":343300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":86,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":182100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":86900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":303000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\"","result":{"duration":139500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":115000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":543013200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:43.109 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"577101aBcD\"},\"transaction\":{\"approvalNum\":478527,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":478527,\"rrn\":478527,\"dateTime\":\"20240205165100\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"26556100****4660\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":478527,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":478527},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:43.651 response time in milliseconds: 542\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:41 GMT\n1 < x-amzn-RequestId: 5c6dfe16-0cab-4cc9-ad23-918010fecf5d\n1 < x-amz-apigw-id: SrrBOGi1IAMEAHA=\n1 < X-Amzn-Trace-Id: Root=1-65c1586d-7c7e22a2329efea205190362\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: ylcl1wpi0th14x4argxZrFW74filR6C8WTPAlQ9mDBNYF7pMJkk7rA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"577101aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE47852747852720240205165100\",\"approvalNum\":\"478527\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"478527\",\"rrn\":\"478527\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"26556100****4660\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"478527\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"478527\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE47852747852720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165141\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":182200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":90600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":58600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":711778600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":72700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":95900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\"","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":333352300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:44.365 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2803\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"577101aBcD\"},\"transaction\":{\"approvalNum\":478527,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":478527,\"rrn\":478527,\"dateTime\":\"20240205165100\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"26556100****4660\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":478527,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":478527},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:44.697 response time in milliseconds: 332\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 767\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:42 GMT\n2 < x-amzn-RequestId: 53d0e544-2b5d-45e3-9780-a8bae6326649\n2 < x-amz-apigw-id: SrrBYEFoIAMEtVw=\n2 < X-Amzn-Trace-Id: Root=1-65c1586e-7b91738318e4b0d55211c143\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: nWzwyPmi_uEi-w5ZeK5DQjrdDtDMoy50Hh4rkQFSUCcO-Hm3RoV9Cw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"577101aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE47852747852720240205165185\",\"approvalNum\":\"478527\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"478527\",\"rrn\":\"478527\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"26556100****4660\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"478527\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"478527\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE47852747852720240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165142\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":407100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":251400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":71600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2535300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:43.231 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":101100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":206300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":344100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":133700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":81300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":112600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":417300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":236900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3263500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":322500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":128500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":87,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":106900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":23300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":309000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\"","result":{"duration":97600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":249772900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:43.243 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"654028aBcD\"},\"transaction\":{\"approvalNum\":851236,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":851236,\"rrn\":851236,\"dateTime\":\"20240205165100\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"27521342****6105\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":851236,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":851236},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:43.491 response time in milliseconds: 248\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:41 GMT\n1 < x-amzn-RequestId: ddebde69-02e5-42d2-a6ba-551276d7a40d\n1 < x-amz-apigw-id: SrrBMEJkIAMEuEA=\n1 < X-Amzn-Trace-Id: Root=1-65c1586d-050feb6529ea88e641a0adc1\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: WsQlfllcOAoywO8pZwm6k0KujD-5aK1YsJeM-rHtcu9zoP7hlAk0mQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"654028aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE85123685123620240205165100\",\"approvalNum\":\"851236\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"851236\",\"rrn\":\"851236\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"27521342****6105\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"851236\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"851236\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE85123685123620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165141\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":252800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":107200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":71900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":702092200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":901200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":72200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":122200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":59300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\"","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":184771200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:44.197 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2802\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"654028aBcD\"},\"transaction\":{\"approvalNum\":851236,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":851236,\"rrn\":851236,\"dateTime\":\"20240205165100\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"27521342****6105\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":851236,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":851236},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:44.379 response time in milliseconds: 182\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:42 GMT\n2 < x-amzn-RequestId: 94a1288b-40b8-41db-a1b3-2dd6693093c1\n2 < x-amz-apigw-id: SrrBVFJ-oAMEpDQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586e-3e44cbb34f0afe3529ee2577\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: WbKC1xCC8VVzX2qMIgKOaw7_FpU__mQSYuweVUQtyvKz93ARsv3_7Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"654028aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE85123685123620240205165185\",\"approvalNum\":\"851236\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"851236\",\"rrn\":\"851236\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"27521342****6105\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"851236\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"851236\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE85123685123620240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165142\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":207100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":88200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":50400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2046600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:43.781 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":99500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":189900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":195800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":150300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":25400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":2219400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":133000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":88,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":77500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":357500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\"","result":{"duration":273300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":99300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":202727400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:43.789 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"963715aBcD\"},\"transaction\":{\"approvalNum\":849424,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":849424,\"rrn\":849424,\"dateTime\":\"20240205165100\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"59217523****6600\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":849424,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":849424},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:43.990 response time in milliseconds: 201\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:42 GMT\n1 < x-amzn-RequestId: ccd6efcf-99c9-4846-ac4e-ae6c59b7f752\n1 < x-amz-apigw-id: SrrBRGa7oAMEjuA=\n1 < X-Amzn-Trace-Id: Root=1-65c1586e-4e236b3a40b6843b60fc2478\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Iwl-l6ZDvTXwULkURKV6eh52mvPm-k_iVr8-A6z-ElSxs5cpVOJIXw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"963715aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE84942484942420240205165100\",\"approvalNum\":\"849424\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"849424\",\"rrn\":\"849424\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"59217523****6600\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"849424\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"849424\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE84942484942420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165142\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":315700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":159500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":82800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710181500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":203900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":46900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":102100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":43200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":75700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\"","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":203722300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:44.705 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"963715aBcD\"},\"transaction\":{\"approvalNum\":849424,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":849424,\"rrn\":849424,\"dateTime\":\"20240205165100\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"59217523****6600\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":849424,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":849424},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:44.906 response time in milliseconds: 201\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:43 GMT\n2 < x-amzn-RequestId: c25d76bf-d556-4cc6-b615-f1dd64ba7055\n2 < x-amz-apigw-id: SrrBaFWLoAMESDQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586f-6fead9ac2908346e4db81ee6\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: jTKETa3eTEIov6PQfcN9576tqnPvUxRUj3IwhMrmc8dzZkCQORXQxA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"963715aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE84942484942420240205165185\",\"approvalNum\":\"849424\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"849424\",\"rrn\":\"849424\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"59217523****6600\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"849424\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"849424\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE84942484942420240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165143\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":286200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":101800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2046500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:44.136 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":98700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":180200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":333400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":147700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":47600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":306600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":291700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3881500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":919100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":279700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":146100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":89,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":266100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":138400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":37500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":508800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\"","result":{"duration":157600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":78500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":221380000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:44.149 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"431751aBcD\"},\"transaction\":{\"approvalNum\":516670,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":516670,\"rrn\":516670,\"dateTime\":\"20240205165100\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"74522872****8216\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":516670,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":516670},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:44.368 response time in milliseconds: 219\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:42 GMT\n1 < x-amzn-RequestId: 269036e4-98bf-4aa3-8568-737bf6024eb3\n1 < x-amz-apigw-id: SrrBVHNHoAMEhqQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1586e-31c9dfad6f7f4a044f0224e8\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: lt6lzvzTKB3wR3ipc5hRFm91HOOnvE05u74HiZQTyOmMtpn1LAm2BQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"431751aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE51667051667020240205165100\",\"approvalNum\":\"516670\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"516670\",\"rrn\":\"516670\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"74522872****8216\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"516670\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"516670\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE51667051667020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165142\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":250600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":110300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":62500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":701596300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":152600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":83300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":148900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":60300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\"","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":11700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":202779100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:45.074 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2813\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"431751aBcD\"},\"transaction\":{\"approvalNum\":516670,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":516670,\"rrn\":516670,\"dateTime\":\"20240205165100\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"74522872****8216\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":516670,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":516670},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:45.274 response time in milliseconds: 200\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 777\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:43 GMT\n2 < x-amzn-RequestId: 1ec131a2-def2-46db-865b-de3fd6c3dd92\n2 < x-amz-apigw-id: SrrBeG81oAMEUSQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586f-626b994b2646da6c41f528c3\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 9C1RuSwB5D3jvlkf1kGLm4JY-Va2Dh-N17PxtUr1sdUrTlRdlAAnzA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"431751aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE51667051667020240205165185\",\"approvalNum\":\"516670\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"516670\",\"rrn\":\"516670\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"74522872****8216\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"516670\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"516670\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE51667051667020240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165143\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":156300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":64800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3486000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:44.382 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":357200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":409700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":853700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":184200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":77300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":68700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":373300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":413300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":56800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3560500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":210600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":67800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":90,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":151900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":33800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":29400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":71200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":352300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\"","result":{"duration":164000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":101800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":178759800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:44.396 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"203264aBcD\"},\"transaction\":{\"approvalNum\":582657,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":582657,\"rrn\":582657,\"dateTime\":\"20240205165100\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"60016435****2491\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":582657,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":582657},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:44.573 response time in milliseconds: 177\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 763\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:42 GMT\n1 < x-amzn-RequestId: 82f263e4-02fc-439a-8a86-b1516b5c1575\n1 < x-amz-apigw-id: SrrBXHq9IAMEXHQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1586e-39addc001bca7462183992da\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: mpsGfPf8slzXItX8G_d51b406Glq1ZDTkH1IQOmlT7ArWFoqsShtjQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"203264aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE58265758265720240205165100\",\"approvalNum\":\"582657\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"582657\",\"rrn\":\"582657\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"60016435****2491\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"582657\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"582657\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE58265758265720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165142\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":201300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":118700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":713071700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":68400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":84500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\"","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":177764600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:45.290 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2799\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"203264aBcD\"},\"transaction\":{\"approvalNum\":582657,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":582657,\"rrn\":582657,\"dateTime\":\"20240205165100\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"60016435****2491\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":582657,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":582657},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:45.466 response time in milliseconds: 176\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 763\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:43 GMT\n2 < x-amzn-RequestId: dac4cb34-6fc4-49d1-aace-ce79a4ec60bb\n2 < x-amz-apigw-id: SrrBgGnRIAMEQdQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1586f-0a99dd7907534ba9092c6e1c\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: IUhbUakLMsakMnM_3tImUmgRNNUw0d2sRlYFgZl9KT74fo7wsuKUxg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"203264aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE58265758265720240205165185\",\"approvalNum\":\"582657\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"582657\",\"rrn\":\"582657\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"60016435****2491\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"582657\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"582657\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE58265758265720240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165143\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":163700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3048800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:44.702 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":115600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":272800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":520700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":174600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":77800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":67000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":61700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":532600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":459600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":79400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5348900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":267700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":84900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":80400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":91,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":109300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":79500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":29000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":440400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\"","result":{"duration":242000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":194300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":308349500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:44.719 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"470761aBcD\"},\"transaction\":{\"approvalNum\":124637,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":124637,\"rrn\":124637,\"dateTime\":\"20240205165100\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"53943409****6056\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":124637,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":124637},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:45.025 response time in milliseconds: 305\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:43 GMT\n1 < x-amzn-RequestId: 28de263b-f572-4018-91f2-3e51015ef296\n1 < x-amz-apigw-id: SrrBbHpOIAMEXxg=\n1 < X-Amzn-Trace-Id: Root=1-65c1586f-2369ee2a2e19610438480ed5\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: e8gOVL54swmVuaqOU3FelbhrOZpi8LExNKC2ky-O_Oqsmww4tRl4pg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"470761aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE12463712463720240205165100\",\"approvalNum\":\"124637\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"124637\",\"rrn\":\"124637\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"53943409****6056\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"124637\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"124637\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE12463712463720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165143\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":239900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":91900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":712049000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":79300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":70100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\"","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":215820900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:45.739 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"470761aBcD\"},\"transaction\":{\"approvalNum\":124637,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":124637,\"rrn\":124637,\"dateTime\":\"20240205165100\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"53943409****6056\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":124637,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":124637},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:45.953 response time in milliseconds: 214\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:44 GMT\n2 < x-amzn-RequestId: 740357cb-ef5d-4ef1-9858-6b5a8bc99125\n2 < x-amz-apigw-id: SrrBlF2ooAMERkQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15870-720469c107d79582501e0489\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: lca5REEcCnxBt1Op-J4pBghXbcifh-KWZ9jxvhpwCTTyZQEsAXYyqQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"470761aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE12463712463720240205165185\",\"approvalNum\":\"124637\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"124637\",\"rrn\":\"124637\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"53943409****6056\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"124637\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"124637\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE12463712463720240205165185\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165144\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":179900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":50900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]}],"name":"ADQUI\/TransaccionalADQUI85.feature","description":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","id":"ejecutar-endpoint-para-crear-una-transaccion-aprobada-con-firma-y-validando-distintos-datos-de-respuesta","keyword":"Feature","uri":"ADQUI\/TransaccionalADQUI85.feature"}]