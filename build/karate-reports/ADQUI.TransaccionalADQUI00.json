[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":95063200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:08.754 karate.env system property was: dev-adqui \n16:51:10.140 this thread waited 1370 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":1135800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":67690300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":96378500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":18630600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":81961400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":6760800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":2274500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":51873400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":4379100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1800800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":876200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":1235420600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":4991200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":21315700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":2480400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":40,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1146800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":285000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":473100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":127600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":5689500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1854700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":797400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":1050500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":634300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":561100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":87800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":685718000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:11.879 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2800\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"12697aBcD\"},\"transaction\":{\"approvalNum\":213087,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":213087,\"rrn\":213087,\"dateTime\":\"20240205165100\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"89081278****9975\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":213087,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":213087},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:12.555 response time in milliseconds: 676\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 764\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:10 GMT\n1 < x-amzn-RequestId: 5624de1c-5c6c-4fef-bb7f-97b59c716368\n1 < x-amz-apigw-id: Srq8WEODIAMEhqQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1584e-62fa64e130823f12313cff6f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a095f5c394e0c42139106277f3743592.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: R8EDCSi84xWRCavndyvrXXwE47aow8B22Xej3FVOb9ag017lPjj6SA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"12697aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE21308721308720240205165100\",\"approvalNum\":\"213087\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"213087\",\"rrn\":\"213087\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"89081278****9975\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"213087\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"213087\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE21308721308720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165110\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1382000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":975400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":1067600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":196376100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:08.755 karate.env system property was: dev-adqui \n16:51:10.131 this thread waited 1362 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":890700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":6908600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":57007500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":18471500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":3326000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1724500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":2857100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":133888200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":5494800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":4209100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":2526200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":1230063100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":15165100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":6656900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1940000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":41,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":2238700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":321600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":676100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":212100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":8338200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1835900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":956200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":647300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\"","result":{"duration":676600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":724700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":84100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":536358100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:11.880 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"514871aBcD\"},\"transaction\":{\"approvalNum\":304042,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":304042,\"rrn\":304042,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"39118367****1862\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":304042,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":304042},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:12.397 response time in milliseconds: 517\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:10 GMT\n1 < x-amzn-RequestId: c915df5b-4102-4144-800e-3f5cc13441aa\n1 < x-amz-apigw-id: Srq8UFDhoAMEtVw=\n1 < X-Amzn-Trace-Id: Root=1-65c1584e-2f6833321e34fe577a53e9ea\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 17ce9cbcbc686d5320c94e5563c8e4e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: hPjmclaLncakIXKLAfG_0TG4xmvUI2ivX17Rs7OA2BtWK-NakH17aw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"514871aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE30404230404220240205165100\",\"approvalNum\":\"304042\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"304042\",\"rrn\":\"304042\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"39118367****1862\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"304042\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"304042\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE30404230404220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165110\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":16016900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1631500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":8773500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":485925700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:10.130 << lock released, cached callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"helper\/CrearTokenDEVADQUI.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4,"doc_string":{"content_type":"","value":"{\n  \"pathUrl\": \"\/transactional\/api\/vouchers\/transactions\",\n  \"apiToken\": \"https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token\",\n  \"url\": \"https:\/\/api.redebanvd.net\",\n  \"apiKey\": \"tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\",\n  \"tokenAuthorization\": \"Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA==\"\n}\n","line":4}},{"name":"url apiToken","result":{"duration":1241100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":4,"doc_string":{"content_type":"","value":"16:51:08.755 karate.env system property was: dev-adqui \n16:51:08.769 >> lock acquired, begin callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"header Content-Type = 'application\/x-www-form-urlencoded'","result":{"duration":2136500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":5},{"name":"header Authorization = tokenAuthorization","result":{"duration":465400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":6},{"name":"request 'grant_type=client_credentials&Scope=consumers%2Ffabrica'","result":{"duration":1057600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":7},{"name":"method post","result":{"duration":1268251800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":8,"doc_string":{"content_type":"","value":"16:51:09.295 request:\n1 > POST https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Authorization: Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA==\n1 > Content-Length: 55\n1 > Host: voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&Scope=consumers%2Ffabrica\n\n16:51:10.057 response time in milliseconds: 748\n1 < 200\n1 < Date: Mon, 05 Feb 2024 21:51:08 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Content-Security-Policy-Report-Only: script-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; style-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; img-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; report-uri https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/cspreport\n1 < x-amz-cognito-request-id: 80f28605-068e-49de-9de0-be968a04d6e0\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n1 < Set-Cookie: XSRF-TOKEN=c821def1-614c-4d0b-b763-abaea983901b; Domain=voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; Secure\n{\"access_token\":\"eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\",\"expires_in\":1800,\"token_type\":\"Bearer\"}\n\n","line":8}},{"name":"status 200","result":{"duration":101600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":9},{"name":"def access_token = response.access_token","result":{"duration":7254000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":759100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1954100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":4112500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":2230000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":3927000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1157900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":827000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2827700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2741300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":817400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":746400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":1106152900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":18093400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":21574100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":2827500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":42,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1424600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":145000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":489800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":145900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":594900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":567300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":561500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":604100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\"","result":{"duration":572000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":602800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":87700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":532995000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:11.898 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2817\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"743669aBcD\"},\"transaction\":{\"approvalNum\":414925,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":414925,\"rrn\":414925,\"dateTime\":\"20240205165100\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"27723903****6367\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":414925,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":414925},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:12.404 response time in milliseconds: 506\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 781\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:10 GMT\n2 < x-amzn-RequestId: 6fb7d8eb-5701-4007-ad4f-44ded12137ea\n2 < x-amz-apigw-id: Srq8UGdjIAMEFqQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1584e-5cd8c1641e0968d64fc1938f\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 41214e21a06ae299a8c0c72752b81bac.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: CQaX-LIGC2m6HmoZQHOERJgM5lfrvbQ9iqUg4Bp83juaBC0h-mjQWQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"743669aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41492541492520240205165100\",\"approvalNum\":\"414925\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"414925\",\"rrn\":\"414925\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"27723903****6367\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"414925\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"414925\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41492541492520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165110\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":8772600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":2108900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":8271900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":680351800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:08.754 karate.env system property was: dev-adqui \n16:51:10.139 this thread waited 1368 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":3905600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":3995900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":10128500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":2900000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":976300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":662300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":8654900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":20179800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":3988800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1303200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":2899500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":885679300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":6823500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":8902600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1324900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":43,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":954500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":183700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":410600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":109200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":2133300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":872600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1967500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":1081000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\"","result":{"duration":10336600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":1017900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":112600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":625048400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:11.892 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"218564aBcD\"},\"transaction\":{\"approvalNum\":998464,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":998464,\"rrn\":998464,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"57742894****9746\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":998464,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":998464},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:12.503 response time in milliseconds: 611\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:10 GMT\n1 < x-amzn-RequestId: 8f2e5211-1293-4b70-bd79-e400e6403b36\n1 < x-amz-apigw-id: Srq8VETFoAMEmQw=\n1 < X-Amzn-Trace-Id: Root=1-65c1584e-050c65a335cdb0492c04f5e5\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f7f58294d1419cb7835c1addaee1386c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: gUwTt-k-XYL136XgJyX7dQVfP1PFC0vy-Ftr5JjtZbdYGKZA5G4kwA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"218564aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE99846499846420240205165100\",\"approvalNum\":\"998464\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"998464\",\"rrn\":\"998464\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"57742894****9746\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"998464\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"998464\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE99846499846420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165110\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":2328500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":2522400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":1734300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3871300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:12.439 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":445000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":2582800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1990200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":3748600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":897400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":2417500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1479000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":4814900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":6451900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":918100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":1756300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":68824800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1124700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":7231400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":12311200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":44,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":535000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":168100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":181400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":97400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":357800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":317100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":272500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":1439800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\"","result":{"duration":8151200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":1196000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":102300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":438121800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:12.580 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"844162aBcD\"},\"transaction\":{\"approvalNum\":946718,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":946718,\"rrn\":946718,\"dateTime\":\"20240205165100\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"52353948****3624\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":946718,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":946718},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:13.015 response time in milliseconds: 434\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:11 GMT\n1 < x-amzn-RequestId: a63256d5-516d-439b-8abc-8394958dd4ed\n1 < x-amz-apigw-id: Srq8bHluoAMEAJw=\n1 < X-Amzn-Trace-Id: Root=1-65c1584f-378441c45289242e4b85b3d3\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c919c9f17e93c83384b6ac4ae98b8bba.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: XuOmhhnOXfgyW-rQtwxwue0if30_NHXpmGItpUHqtVWBqR9nsoy_JA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"844162aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE94671894671820240205165100\",\"approvalNum\":\"946718\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"946718\",\"rrn\":\"946718\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"52353948****3624\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"946718\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"946718\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE94671894671820240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165111\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1491500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":816400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":402200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":232907100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:12.437 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":682700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1170400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1468200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":576700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":672800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":983700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":653000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":3128500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":3837400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1518100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":560100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":14146600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1236900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":733900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":881900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":45,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":491200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":257700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":738600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":114700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":356700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":239400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":242400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":1203500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\"","result":{"duration":1007600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":865800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":111200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":645463800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:12.721 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"120825aBcD\"},\"transaction\":{\"approvalNum\":265567,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":265567,\"rrn\":265567,\"dateTime\":\"20240205165100\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"54016749****6526\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":265567,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":265567},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:13.358 response time in milliseconds: 637\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:11 GMT\n1 < x-amzn-RequestId: 3fe7e7ec-3924-4c16-bf87-f346cb51103c\n1 < x-amz-apigw-id: Srq8eFU_IAMEWmQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1584f-7aa087163c93ed2429b90781\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 41214e21a06ae299a8c0c72752b81bac.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: ouTvhoWXTN1B3G2Pbsr4D5wx-cNV3FVSvOJAlOHOVmxOh37C31a9Dg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"120825aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE26556726556720240205165100\",\"approvalNum\":\"265567\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"265567\",\"rrn\":\"265567\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"54016749****6526\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"265567\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"265567\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE26556726556720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165111\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":580700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":878600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":164100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4702100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:12.522 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":401000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1163700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":2252800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":1430900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":735500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":653800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":12609300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":26564100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2083100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":469500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":520800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":32367200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1279700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1377100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1211200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":46,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1205100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":216500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":211200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":262200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":493300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1331400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":905200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":1691000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\"","result":{"duration":1574600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":1044800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":112400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":428005900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:12.629 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2819\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"619704aBcD\"},\"transaction\":{\"approvalNum\":688036,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":688036,\"rrn\":688036,\"dateTime\":\"20240205165100\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"96243658****8495\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":688036,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":688036},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:13.053 response time in milliseconds: 424\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 783\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:11 GMT\n1 < x-amzn-RequestId: 7bede04a-b2d2-412b-b7eb-46c9b7f17cca\n1 < x-amz-apigw-id: Srq8bHq7IAMEAHA=\n1 < X-Amzn-Trace-Id: Root=1-65c1584f-4e0f1ebe1d3da7047a729c95\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f000be4440afdd3a3d6413434446dab2.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: HVIa-j6HYIo-AP3A7kyuEfjs26opKk050tn4kK5q5Vv9C7mBTde2KQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"619704aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE68803668803620240205165100\",\"approvalNum\":\"688036\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"688036\",\"rrn\":\"688036\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"96243658****8495\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"688036\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"688036\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE68803668803620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165111\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":617700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":493100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":218000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":101625300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:12.568 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":323000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1339600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1808500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":864400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":667300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1074000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":673200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2934700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":3032500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":536300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":1678900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":14893800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1127600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":780000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":873200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":47,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":555800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":106000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":945100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":113000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":10712800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1332900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":347800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":1203000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\"","result":{"duration":1333700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":1060900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":144600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":589139300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:12.727 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"674736aBcD\"},\"transaction\":{\"approvalNum\":622425,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":622425,\"rrn\":622425,\"dateTime\":\"20240205165100\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"23499289****1342\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":622425,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":622425},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:13.314 response time in milliseconds: 586\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:11 GMT\n1 < x-amzn-RequestId: dbaf49cf-9be9-47da-a937-e87181cddfb3\n1 < x-amz-apigw-id: Srq8eFIJoAMEUzw=\n1 < X-Amzn-Trace-Id: Root=1-65c1584f-4690103f69ad7bcc5e487746\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 672a274f5830cff711168a1debfae76c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: FzuB9d3YStxHH9FF3yN0Njpt1yKJLU3fYaRHSqEEUg19dvkG8PHrIA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"674736aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE62242562242520240205165100\",\"approvalNum\":\"622425\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"622425\",\"rrn\":\"622425\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"23499289****1342\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"622425\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"622425\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE62242562242520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165111\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":31900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1029900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":807900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":257100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":6419900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:13.029 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":421800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":568600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1311700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":1993400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":543200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":3156500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1954300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":3470300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1459700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":714500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":419400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":96873100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1337700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1661600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":862300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":48,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1319400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":81800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":106000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":261900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":214200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":865800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":1333900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\"","result":{"duration":4055100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":4378600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":323600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":377894100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:13.176 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2817\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"169188aBcD\"},\"transaction\":{\"approvalNum\":764465,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":764465,\"rrn\":764465,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"54852459****3755\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":764465,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":764465},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:13.550 response time in milliseconds: 374\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:11 GMT\n1 < x-amzn-RequestId: d5b065da-8c26-4a14-b6eb-2b7682ac979f\n1 < x-amz-apigw-id: Srq8gHwSIAMEDqQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1584f-35cf28bc79f18bc657b6f37a\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 17ce9cbcbc686d5320c94e5563c8e4e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: TDfbpjflK9A7rk8hdeW2h8Tzht6MvHpPVUHhx2trevak960e91Cwug==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"169188aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE76446576446520240205165100\",\"approvalNum\":\"764465\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"764465\",\"rrn\":\"764465\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"54852459****3755\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"764465\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"764465\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE76446576446520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165111\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":722400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":3333500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":808400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":7872000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:13.067 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":672800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":637700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1384300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":1022400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":543900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":399000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":375900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1656200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2586900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":490400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":550300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9771400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":13327200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1360800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1412500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":49,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":820800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":2829600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":313900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":135500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":333600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":268600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":236600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":1537000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\"","result":{"duration":2737200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":2359100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":121800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":371786600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:13.130 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"343071aBcD\"},\"transaction\":{\"approvalNum\":968399,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":968399,\"rrn\":968399,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"39483169****6219\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":968399,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":968399},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:13.498 response time in milliseconds: 368\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:11 GMT\n1 < x-amzn-RequestId: ed9d2239-a1b7-47f8-a1c4-04c8c5d2f2aa\n1 < x-amz-apigw-id: Srq8fHW3IAMESuQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1584f-48f345ea626a9adc52d92c30\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 17ce9cbcbc686d5320c94e5563c8e4e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 2E1pepg5Ykppq1bSXiyp7Cfaos4A741IMPdQyBrGsLEeZWV3Q_CuEg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"343071aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE96839996839920240205165100\",\"approvalNum\":\"968399\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"968399\",\"rrn\":\"968399\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"39483169****6219\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"968399\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"968399\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE96839996839920240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165111\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1043200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1625100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":767700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":7219800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:13.322 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":450100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":550900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1121800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":783100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":973500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1144900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":2259400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2063900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1518900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":342100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":338800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":14595600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":577600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":449600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":789400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":50,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":295900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":65900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":96800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":271600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":203300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":248900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":1132200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\"","result":{"duration":1255900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":1125300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":72000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":677978400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:13.369 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"768434aBcD\"},\"transaction\":{\"approvalNum\":868892,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":868892,\"rrn\":868892,\"dateTime\":\"20240205165100\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"28913857****2297\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":868892,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":868892},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:14.043 response time in milliseconds: 674\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:12 GMT\n1 < x-amzn-RequestId: cb87ba8c-4927-45b4-95ff-4dbc8540e611\n1 < x-amz-apigw-id: Srq8lFvioAMEE9w=\n1 < X-Amzn-Trace-Id: Root=1-65c15850-68c38b3e6dbec4a921843997\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 1363962ebe43751f885359ece2e8196a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: gBDJkgmWAzesBkKeXwIyr-SHvN0UDtx0ukqOhCQmnHtmnxtF1YrggA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"768434aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE86889286889220240205165100\",\"approvalNum\":\"868892\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"868892\",\"rrn\":\"868892\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"28913857****2297\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"868892\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"868892\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE86889286889220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165112\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1396300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1292000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":1200300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3830500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:13.364 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":2588800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":816500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1300000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":725100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":473400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":361100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":366300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1393300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1536900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":751700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":396900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":22537100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":849600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":628400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":467400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":51,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":341000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":77500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":98200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":63400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":271800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":186900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":183500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":1077400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\"","result":{"duration":1137600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":875100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":133100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":437996400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:13.414 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"12653aBcD\"},\"transaction\":{\"approvalNum\":958918,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":958918,\"rrn\":958918,\"dateTime\":\"20240205165100\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"23546420****4778\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":958918,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":958918},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:13.849 response time in milliseconds: 432\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:12 GMT\n1 < x-amzn-RequestId: ac7c8b11-98ba-4eba-a0f3-e64983e9d10b\n1 < x-amz-apigw-id: Srq8jEVEIAMEfaw=\n1 < X-Amzn-Trace-Id: Root=1-65c15850-710465d42569933b3274f90d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 cef9da1b4a6e82d7b1f4fa1d1057cf94.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: IGUyWYtVW6GAXjju0BitZAxSO9fAyjjUgFRN-Jj9Ln0CAeJV5hP5lA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"12653aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE95891895891820240205165100\",\"approvalNum\":\"958918\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"958918\",\"rrn\":\"958918\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"23546420****4778\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"958918\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"958918\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE95891895891820240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165112\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":20800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1579000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":804100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":314400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":6089000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:13.509 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":296500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":934900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1258900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":565800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":418100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":287000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":333100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1377900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1366400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":349700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":387400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6515600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1073000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":580800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":468300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":52,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":349300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":76600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":95400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":109000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":255100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":206100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":195100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":1219000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\"","result":{"duration":926900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":815800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":79000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":643428600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:13.544 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"170075aBcD\"},\"transaction\":{\"approvalNum\":892695,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":892695,\"rrn\":892695,\"dateTime\":\"20240205165100\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"75759358****6373\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":892695,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":892695},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:14.184 response time in milliseconds: 640\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:12 GMT\n1 < x-amzn-RequestId: c170e78b-9a1b-4602-9e28-6a4ac41dcf56\n1 < x-amz-apigw-id: Srq8mH4TIAMEdTQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15850-07fd6af4212706e3274ec0ab\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 cdf2e63ca525f9a875840d49cccd3ba6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: tk966sb7aoyx7gGUgsQM-XVHLpZWfj-fDTed_u-H8KNon7MiyiOqVw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"170075aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE89269589269520240205165100\",\"approvalNum\":\"892695\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"892695\",\"rrn\":\"892695\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"75759358****6373\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"892695\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"892695\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE89269589269520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165112\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1479100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":762600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":768000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4381300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:13.566 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":384300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":667500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1002100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":665900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":453100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":375700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1028300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1216000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1018700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":328700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":257500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9751400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":998400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":540000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":460600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":53,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":315700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":73700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":88700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":752200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":284400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":221000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":534300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":1265300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\"","result":{"duration":1536700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":1239500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":96000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":588286500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:13.602 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"276347aBcD\"},\"transaction\":{\"approvalNum\":415709,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":415709,\"rrn\":415709,\"dateTime\":\"20240205165100\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"52275574****6805\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":415709,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":415709},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:14.187 response time in milliseconds: 584\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:12 GMT\n1 < x-amzn-RequestId: 85b1ef3c-8cf3-43cd-a4e4-b9dfc688aa88\n1 < x-amz-apigw-id: Srq8nELeIAMEaMg=\n1 < X-Amzn-Trace-Id: Root=1-65c15850-16803a745e1dcfac3820575b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 6a8bde05883e3a529e47f40f0d9e7aaa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: Q5BoZkcx4kIvNSSSzxj9_S148cxGRquHMwPix92VJAyQMYZnfdXMdQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"276347aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41570941570920240205165100\",\"approvalNum\":\"415709\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"415709\",\"rrn\":\"415709\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"52275574****6805\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"415709\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"415709\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41570941570920240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165112\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":617800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":617200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":858100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3070200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:13.856 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":263600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":375400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":8496200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":613900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":432100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":305600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":303700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1904900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1998200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":280800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":451500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":18994800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":882900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":532800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1292100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":54,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1046000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":661400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":780400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":113600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":914600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":683300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":912400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":679900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\"","result":{"duration":579600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":591500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":84200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":334779400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:13.910 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"267245aBcD\"},\"transaction\":{\"approvalNum\":423614,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":423614,\"rrn\":423614,\"dateTime\":\"20240205165100\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"66784110****3205\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":423614,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":423614},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:14.241 response time in milliseconds: 330\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:12 GMT\n1 < x-amzn-RequestId: eeb29536-9b0b-45aa-a81d-1daddc76f45d\n1 < x-amz-apigw-id: Srq8nHhZIAMEY3A=\n1 < X-Amzn-Trace-Id: Root=1-65c15850-1033a910265a44475960b417\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 8b0b556682aca246cac2962455e370be.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: datfgGLV7Y8f5g3zCxe2wpLZPcm8YO5vW0rjOKnkPjAZZgpgqEMH4w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"267245aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE42361442361420240205165100\",\"approvalNum\":\"423614\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"423614\",\"rrn\":\"423614\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"66784110****3205\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"423614\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"423614\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE42361442361420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165112\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":561700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":972500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":637000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":722800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4178400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:14.054 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":312300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1111800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":839500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":494600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":326300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":565100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":285400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1681000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1550600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":528500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":432400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9164200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":775400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":501500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1079100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":55,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1209100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":115000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":1107400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":83000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":773600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":653500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":584200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":600000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\"","result":{"duration":683400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":630400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":82000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":542578600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:14.089 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"868217aBcD\"},\"transaction\":{\"approvalNum\":170341,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":170341,\"rrn\":170341,\"dateTime\":\"20240205165100\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"54365262****5108\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":170341,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":170341},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:14.629 response time in milliseconds: 540\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:12 GMT\n1 < x-amzn-RequestId: 2b57487e-c8bd-43fe-baae-396cc65422d5\n1 < x-amz-apigw-id: Srq8rEEsIAMEYeQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15850-61b6486723eaedaf1c003942\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 1363962ebe43751f885359ece2e8196a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: in-2QMN95beIbLGfMKlGeo7JrluL8cNbog_OR-7GT-0WEcPd-KupJw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"868217aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE17034117034120240205165100\",\"approvalNum\":\"170341\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"170341\",\"rrn\":\"170341\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"54365262****5108\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"170341\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"170341\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE17034117034120240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165112\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":474000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":462900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":671100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":13027400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:14.193 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":258200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1547600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":931700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":498300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":3785000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":3544000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":852000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":4145300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1914700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":270800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":234400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":43239100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1001600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":566000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1810900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":56,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1108500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":98900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":816800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":72400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":3755700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1272300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":805500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":995600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\"","result":{"duration":755500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":605500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":81800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":569556200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:14.289 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"788857aBcD\"},\"transaction\":{\"approvalNum\":451816,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":451816,\"rrn\":451816,\"dateTime\":\"20240205165100\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"42231900****8181\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":451816,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":451816},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:14.852 response time in milliseconds: 563\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:13 GMT\n1 < x-amzn-RequestId: ea4a25c3-4a9b-4add-96b0-04788cd97859\n1 < x-amz-apigw-id: Srq8tEz1IAMEioQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15851-2217f16b2b15a59540338dc9\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 8753a5890eda67f9db56cde3f25f5a28.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: jdVHJsnmg5NfQUYIG5weygT79D8LNpqMw2FK9E1Iu2Yb_OsFVudZjQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"788857aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE45181645181620240205165100\",\"approvalNum\":\"451816\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"451816\",\"rrn\":\"451816\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"42231900****8181\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"451816\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"451816\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE45181645181620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165113\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":315800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":214000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":131400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":11946100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:14.195 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":248400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":3100400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":2101600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":583200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":1724200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":280800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":208700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2075900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2205600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":385900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":436800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":23579400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1177000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":4773500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1036200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":57,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":2189800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":72400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":537400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":740400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":1696600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1285800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":710000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\"","result":{"duration":757100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\"","result":{"duration":627200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":592200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":119100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":575151600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:14.267 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"702359aBcD\"},\"transaction\":{\"approvalNum\":975393,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":975393,\"rrn\":975393,\"dateTime\":\"20240205165100\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"23203723****9867\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":975393,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":975393},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:14.839 response time in milliseconds: 571\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:13 GMT\n1 < x-amzn-RequestId: d689b99d-3ca1-4123-8402-e54526af7ce3\n1 < x-amz-apigw-id: Srq8tH0cIAMEKvg=\n1 < X-Amzn-Trace-Id: Root=1-65c15851-02ffe24c38a420482d0cca84\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 044bedb33ca0f4efa619a47252c438ba.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: adA2Yxny0aPVyHt1KZeIRDbpn09zBeQ2Q7WSLXFpBL7_l_uJZ6pUJg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"702359aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE97539397539320240205165100\",\"approvalNum\":\"975393\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"975393\",\"rrn\":\"975393\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"23203723****9867\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"975393\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"975393\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE97539397539320240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165113\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":636400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":646400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":191100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":9752300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:14.249 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":210500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":799700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":715100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":473100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":248900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":220400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":189800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":871100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1001300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":235700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":195200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8559500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":596200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":694300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":868700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":58,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":575900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":76600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":112300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":147800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":534300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":304500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":257700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\"","result":{"duration":716800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\"","result":{"duration":996200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":574500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":582783400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:14.284 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"992360aBcD\"},\"transaction\":{\"approvalNum\":605828,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":605828,\"rrn\":605828,\"dateTime\":\"20240205165100\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"47401580****6225\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":605828,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":605828},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:14.864 response time in milliseconds: 579\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:13 GMT\n1 < x-amzn-RequestId: 38aa2cae-67f4-4348-991e-379f39b22c0e\n1 < x-amz-apigw-id: Srq8tEkHoAMEe8w=\n1 < X-Amzn-Trace-Id: Root=1-65c15851-115c97c443050571570408bc\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e778332efddc53006b892e6757c89284.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: p8K4ZPiwxwV6xcgyJRpQyCoQtvUjwB9A9fTl1cYiRTQ-rHYvgC-AxA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"992360aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE60582860582820240205165100\",\"approvalNum\":\"605828\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"605828\",\"rrn\":\"605828\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"47401580****6225\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"605828\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"605828\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE60582860582820240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165113\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":501300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":280500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":154300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2669300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:14.635 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":213700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":409900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":782100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":413000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":234000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":232900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":172200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":758900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":647100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":228800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":225800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7808700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":804600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":551800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":294800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":59,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":359700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":60400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":179600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":96800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":112400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\"","result":{"duration":850100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\"","result":{"duration":589900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":517100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":100800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":538824000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:14.659 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"620952aBcD\"},\"transaction\":{\"approvalNum\":972382,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":972382,\"rrn\":972382,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"96121467****6060\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":972382,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":972382},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:15.195 response time in milliseconds: 536\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:13 GMT\n1 < x-amzn-RequestId: cf69d8c1-285c-4be5-a27a-7fa0359bf3ce\n1 < x-amz-apigw-id: Srq8xHaBoAMEvPg=\n1 < X-Amzn-Trace-Id: Root=1-65c15851-58aebade484174b33b37a3a0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a38978c3b0d2780767b50bf2a7b840f8.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: B8LTQUKsQQgO2cg8hdadorIF8W76BJZj3HchEKCvJgXRhGdTWWLObA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"620952aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE97238297238220240205165100\",\"approvalNum\":\"972382\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"972382\",\"rrn\":\"972382\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"96121467****6060\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"972382\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"972382\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE97238297238220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165113\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":480600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":305100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":151100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3325600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:14.844 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":269100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":345100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1068100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":571600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":317800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":264400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":289500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":851300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":798500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":341900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":354600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":10940300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1789500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":491900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":705000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":60,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":231800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":46900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":173800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":162200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":136700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\"","result":{"duration":3185000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\"","result":{"duration":835600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":563900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":67000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":621511800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:14.879 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"6567aBcD\"},\"transaction\":{\"approvalNum\":866187,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":866187,\"rrn\":866187,\"dateTime\":\"20240205165100\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"56412844****5757\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":866187,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":866187},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:15.496 response time in milliseconds: 616\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:13 GMT\n1 < x-amzn-RequestId: 88e73e95-e05d-43bf-8a08-582925492f0c\n1 < x-amz-apigw-id: Srq80GiSoAMEepw=\n1 < X-Amzn-Trace-Id: Root=1-65c15851-7d8628b33a7ff8a42ea72e9e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a095f5c394e0c42139106277f3743592.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: fiSDEVsGrb_Ann1r2CQwYPFbNHebwhk7E6kB58gOh8lgvzTnsI00OA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"6567aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE86618786618720240205165100\",\"approvalNum\":\"866187\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"866187\",\"rrn\":\"866187\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"56412844****5757\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"866187\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"866187\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE86618786618720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165113\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":812500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":781300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":155000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4116500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:14.859 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":358200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":367000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":586000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":269900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":222000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":192300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":179100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":683900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":698500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":214700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":212700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":24589600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":344100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":269200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":516800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":61,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":226000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":40700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":53400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":153700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":347100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":344500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\"","result":{"duration":2353300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\"","result":{"duration":912200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":567400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":81900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":382419000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:14.904 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"340836aBcD\"},\"transaction\":{\"approvalNum\":127460,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":127460,\"rrn\":127460,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"61388645****6260\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":127460,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":127460},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:15.282 response time in milliseconds: 378\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:13 GMT\n1 < x-amzn-RequestId: e48b1f1e-8eae-4961-99fd-89786ae72d6d\n1 < x-amz-apigw-id: Srq8xEn6oAMEvQA=\n1 < X-Amzn-Trace-Id: Root=1-65c15851-0137c6c255138a0c6dcec3ce\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 fa3530beeb0001c7dfc54ff5a427fa96.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: D-46TAxiD2W04Rz2mVNKRnAOnOn2U11WzTvq3tOg9T1JXOmRAt2wHw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"340836aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE12746012746020240205165100\",\"approvalNum\":\"127460\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"127460\",\"rrn\":\"127460\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"61388645****6260\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"127460\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"127460\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE12746012746020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165113\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":459700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":243800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":176200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":17000300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:14.869 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":167800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":361600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":914500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":474900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":228900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":165000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":158800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":724000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":581700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":141000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":230200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":16890300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":694700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":437500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":371600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":62,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":258800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":44600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":56800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":158500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":128000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":121600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":867200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\"","result":{"duration":702300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":537300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":67600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":611804300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:14.916 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"305994aBcD\"},\"transaction\":{\"approvalNum\":959463,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":959463,\"rrn\":959463,\"dateTime\":\"20240205165100\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"22639548****9320\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":959463,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":959463},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:15.525 response time in milliseconds: 609\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:13 GMT\n1 < x-amzn-RequestId: f12bceff-5a04-4d5f-8ac9-25d6d3bc4161\n1 < x-amz-apigw-id: Srq8zEhioAMEAig=\n1 < X-Amzn-Trace-Id: Root=1-65c15851-345d7446698915ff5ad1f8c2\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 6a8bde05883e3a529e47f40f0d9e7aaa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 9jTZcdnJeTS-hrz3fU1l2QNx7fkKGKIBpCyju2A79o9XNamw0BajFQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"305994aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE95946395946320240205165100\",\"approvalNum\":\"959463\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"959463\",\"rrn\":\"959463\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"22639548****9320\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"959463\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"959463\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE95946395946320240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165113\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":279400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":186800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":116600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4101600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:15.200 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":217300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":353600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":683400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":337700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":229800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":219400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":173200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":822300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1015400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":688200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":442300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7676700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":649900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":336000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":284400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":63,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":238000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":45600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":156700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":107300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":92900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":817700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\"","result":{"duration":684700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":450200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":332749100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:15.225 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"797418aBcD\"},\"transaction\":{\"approvalNum\":654400,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":654400,\"rrn\":654400,\"dateTime\":\"20240205165100\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"54566715****6554\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":654400,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":654400},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:15.555 response time in milliseconds: 330\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:13 GMT\n1 < x-amzn-RequestId: f5df8a35-d952-45d4-8f86-5af5297364b1\n1 < x-amz-apigw-id: Srq80EumoAMEZUA=\n1 < X-Amzn-Trace-Id: Root=1-65c15851-77dd1fd70caed6834790aa07\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 8b0b556682aca246cac2962455e370be.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: DAsS-Q_1ZTq8_cLdGl1tkFGq21c_iMRolk8gsTPcCB7ZZ9iv8GCpZA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"797418aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE65440065440020240205165100\",\"approvalNum\":\"654400\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"654400\",\"rrn\":\"654400\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"54566715****6554\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"654400\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"654400\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE65440065440020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165113\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1031300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":645900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":727500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":33759400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:15.288 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":177700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":318300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":732000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":379400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":210100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":188300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":330500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":719300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":678200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":372500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":560600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9696500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":637200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":287600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":202600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":64,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":197800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":60600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":138000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":80200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":72500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":831700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\"","result":{"duration":572400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":462400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":43600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":613613600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:15.343 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2815\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"673079aBcD\"},\"transaction\":{\"approvalNum\":331821,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":331821,\"rrn\":331821,\"dateTime\":\"20240205165100\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"79031451****1937\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":331821,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":331821},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:15.954 response time in milliseconds: 610\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 779\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:14 GMT\n1 < x-amzn-RequestId: c0ba2d96-052e-440d-8ee7-d58767756d44\n1 < x-amz-apigw-id: Srq84EWcIAMEccQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15852-6c4bdbdd0fb34f6f5ac7d13c\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d56500b57ee9fd16ecec33b0f5720c28.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: ME5gdHjjN5ojhZX2XHDKpbtJ7vbJvMT6l_Vlb8-mt2Up7X0Li8Y3uw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"673079aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE33182133182120240205165100\",\"approvalNum\":\"331821\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"331821\",\"rrn\":\"331821\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"79031451****1937\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"331821\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"331821\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE33182133182120240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165114\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1006000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1714400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":869700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":11566300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:15.503 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":947500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1353100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":950300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":726400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":650800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":297500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":224900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1011100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":998900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":232700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":186500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":58422800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":5849500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":448300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":727500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":65,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":776700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":354700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":705600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":544100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":560200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":513100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\"","result":{"duration":584200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":690700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":68700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":364119600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:15.599 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"374340aBcD\"},\"transaction\":{\"approvalNum\":672435,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":672435,\"rrn\":672435,\"dateTime\":\"20240205165100\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"35616165****1444\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":672435,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":672435},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:15.959 response time in milliseconds: 360\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:14 GMT\n1 < x-amzn-RequestId: 4df30283-23b1-4b4b-bb7c-b36a716cad5c\n1 < x-amz-apigw-id: Srq84GlNIAMEepw=\n1 < X-Amzn-Trace-Id: Root=1-65c15852-373c9e5b353e22080cc5a8f4\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 1b60cf6445dea0db327d48d27419e066.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: iZvJKNz6TP0qwQ6Il2uoC1KOoq_JySk4pXVBJjA4MGY9QOMi492M2w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"374340aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE67243567243520240205165100\",\"approvalNum\":\"672435\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"672435\",\"rrn\":\"672435\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"35616165****1444\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"672435\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"672435\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE67243567243520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165114\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":845500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":652100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":7371900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":11030400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:15.531 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":182700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":389800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":675300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":395200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":211500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":178100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":144700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":745900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1514800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":229600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":182200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":22198800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":627400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":699400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":3262200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":66,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1471200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":64700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":481700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":658000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":528800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":493300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":486600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\"","result":{"duration":455300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":450200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":64700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":583857800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:15.596 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2817\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"826786aBcD\"},\"transaction\":{\"approvalNum\":598702,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":598702,\"rrn\":598702,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"92903762****1262\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":598702,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":598702},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:16.177 response time in milliseconds: 581\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:14 GMT\n1 < x-amzn-RequestId: 2ffa5a90-7b98-4d57-9944-b59fccb47bc4\n1 < x-amz-apigw-id: Srq86Ha5oAMErSQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15852-14d366520b8b0ee70e2ad6f5\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d56500b57ee9fd16ecec33b0f5720c28.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: cnALSHVasWnK7ZBuC02kRwQKQ0Sk7WXWdcW9xVE4qXLQp3hWrkj2Ww==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"826786aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE59870259870220240205165100\",\"approvalNum\":\"598702\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"598702\",\"rrn\":\"598702\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"92903762****1262\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"598702\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"598702\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE59870259870220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165114\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1250600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":2028800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":1268100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":41026500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:15.564 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":233400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1219600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":755100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":368300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":176200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":140400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":139800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":5603500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1578600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":267300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":204900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":13955800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":942800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":559200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1255600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":67,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":924800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":340300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":55500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":686300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":513100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":448200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":470300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\"","result":{"duration":452200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":521700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":364686900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:15.641 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"949786aBcD\"},\"transaction\":{\"approvalNum\":318125,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":318125,\"rrn\":318125,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"59595039****1767\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":318125,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":318125},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:16.003 response time in milliseconds: 361\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:14 GMT\n1 < x-amzn-RequestId: 952aa9f0-e0f3-4735-ae9b-ee9ddd9061b8\n1 < x-amz-apigw-id: Srq85E8SIAMEBeg=\n1 < X-Amzn-Trace-Id: Root=1-65c15852-4c56b7b6558f8bb55269671b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 ba321a618e817037ce8e0d09e9005b46.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: SI7H2C-JfgTYB3KNQePh7xX5WPov_-PRATjqI1gUg2PthzGqiRrjlg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"949786aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE31812531812520240205165100\",\"approvalNum\":\"318125\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"318125\",\"rrn\":\"318125\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"59595039****1767\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"318125\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"318125\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE31812531812520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165114\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":533100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":257900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":118500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":7803700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:15.963 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":297100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1220500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":878300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":411700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":283300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":254900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1499500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1503300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":4360300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":899600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":218900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":11901000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":690000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":397500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":16812700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":68,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1051500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":60200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":1661200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":62900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":652400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1120100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":833200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":507400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\"","result":{"duration":797900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":1788800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":713084700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:16.029 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"41095aBcD\"},\"transaction\":{\"approvalNum\":791742,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":791742,\"rrn\":791742,\"dateTime\":\"20240205165100\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"20078900****8138\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":791742,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":791742},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:16.736 response time in milliseconds: 707\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:14 GMT\n1 < x-amzn-RequestId: 8479d895-59d4-47c8-a72a-09a6463ca509\n1 < x-amz-apigw-id: Srq9AFBIIAMEiYQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15852-54c2bd8a1d31dda00956db3d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 6a8bde05883e3a529e47f40f0d9e7aaa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: rOhqQzXqfnObe6dkGxgJdVFZiNJd_tjzKrL6_nNBtFBcHH-zWM71nw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"41095aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE79174279174220240205165100\",\"approvalNum\":\"791742\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"791742\",\"rrn\":\"791742\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"20078900****8138\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"791742\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"791742\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE79174279174220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165114\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":474500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":231800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":188000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":6450000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:15.975 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":169700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":988100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":921900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":234900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":190700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1964100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":314800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1727000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1613600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":238400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":207600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":14184400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1588700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":301900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":221000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":69,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":403900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":48100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":45500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":169200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":173400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":114000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":1109100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\"","result":{"duration":698900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":636900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":51900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":500849300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:16.024 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"225062aBcD\"},\"transaction\":{\"approvalNum\":547780,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":547780,\"rrn\":547780,\"dateTime\":\"20240205165100\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"74317367****3877\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":547780,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":547780},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:16.511 response time in milliseconds: 487\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:14 GMT\n1 < x-amzn-RequestId: eed784fb-87cf-4d45-add7-910dc4b97f3c\n1 < x-amz-apigw-id: Srq8-HjHoAMENZg=\n1 < X-Amzn-Trace-Id: Root=1-65c15852-3d689f92333812ec70417b34\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1c9d85482f328fefd09e9554d8dba7a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: bX2dNQkaXksh3xzoogD7jj0g13zPCBSdO8fBcCObSdbz_2NHDVGodQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"225062aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE54778054778020240205165100\",\"approvalNum\":\"547780\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"547780\",\"rrn\":\"547780\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"74317367****3877\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"547780\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"547780\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE54778054778020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165114\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":642300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":835800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":172400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":29191200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:16.009 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":248100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":517800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":656500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":369400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":450500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":226900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":183800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":774400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":650900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":147900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":116400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7696500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":567200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":303800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":230200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":70,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":214500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":39900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":145200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":93000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":76600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":826600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\"","result":{"duration":581300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":614100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":72300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":467358100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:16.059 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"294819aBcD\"},\"transaction\":{\"approvalNum\":415867,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":415867,\"rrn\":415867,\"dateTime\":\"20240205165100\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"11238554****5547\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":415867,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":415867},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:16.523 response time in milliseconds: 464\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:14 GMT\n1 < x-amzn-RequestId: 9e612921-23d3-4fc3-b9ae-9db0e809b267\n1 < x-amz-apigw-id: Srq8-G8EIAMEnpg=\n1 < X-Amzn-Trace-Id: Root=1-65c15852-017afc3b1b6a277d51f88fee\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 696c8415a4298d6cdc615fcf825987ee.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: CXJwUeumLa0Yt2jnXDmOZ3Pc98Qtkpvz94yvpYbecOSOrczr3Pohmw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"294819aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41586741586720240205165100\",\"approvalNum\":\"415867\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"415867\",\"rrn\":\"415867\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"11238554****5547\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"415867\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"415867\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41586741586720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165114\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":322500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":188900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":104600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":5206800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:16.188 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":217100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1115900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":813000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":537600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":364300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":237300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":250900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2273200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":902700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":215000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":198100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5131800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":499800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":256800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":219100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":71,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":240300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":40200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":145400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":84000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":835200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\"","result":{"duration":649600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":437300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":359482500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:16.215 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"710517aBcD\"},\"transaction\":{\"approvalNum\":507080,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":507080,\"rrn\":507080,\"dateTime\":\"20240205165100\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"31355015****4940\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":507080,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":507080},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:16.570 response time in milliseconds: 355\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:14 GMT\n1 < x-amzn-RequestId: f898ccfd-1b33-46d1-85a3-96810ecfff6a\n1 < x-amz-apigw-id: Srq8-GLooAMEYNg=\n1 < X-Amzn-Trace-Id: Root=1-65c15852-0a47ebde5f386a895220b590\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 672a274f5830cff711168a1debfae76c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: uxYovA1xNzkcegf5sq3v7wu1dv3Q02619PQT3sAoJYQz6qfSWBKcbw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"710517aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE50708050708020240205165100\",\"approvalNum\":\"507080\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"507080\",\"rrn\":\"507080\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"31355015****4940\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"507080\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"507080\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE50708050708020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165114\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":396300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":248800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":145300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":6709000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:16.523 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":149300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":302200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":615900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":295800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":162200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":979200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":370200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":680000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":541800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":150300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":131300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8363700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":412900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":216600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":198000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":72,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":242400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":67500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":117000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":103000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":263000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":185100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1267700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":1105700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\"","result":{"duration":729800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":643600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":82800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":628763800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:16.552 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"880727aBcD\"},\"transaction\":{\"approvalNum\":414524,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":414524,\"rrn\":414524,\"dateTime\":\"20240205165100\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"37619201****6539\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":414524,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":414524},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:17.179 response time in milliseconds: 627\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:15 GMT\n1 < x-amzn-RequestId: a5e48718-bfa5-4970-9b5c-384ebba7ca70\n1 < x-amz-apigw-id: Srq9EEGEoAMEDqQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15853-4779da9f490f7ba1596f3ef1\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c919c9f17e93c83384b6ac4ae98b8bba.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 7y7mXNiPRu2O1qyfBAdTFij-t3wS8TNah_20W-nr4QRKohTRh7jNbg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"880727aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41452441452420240205165100\",\"approvalNum\":\"414524\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"414524\",\"rrn\":\"414524\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"37619201****6539\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"414524\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"414524\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41452441452420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165115\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":310300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":176500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":119300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2723100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:16.529 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":158400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":302900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":972400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":458100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":232400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":139900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":190000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":671400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":784000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":251300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":252300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":154130400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":920000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":607000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":315400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":73,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":214700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":77100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":52400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":188400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":133300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":122600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":1157600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\"","result":{"duration":935300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":837700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":146500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":490253200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:16.699 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"794744aBcD\"},\"transaction\":{\"approvalNum\":410202,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":410202,\"rrn\":410202,\"dateTime\":\"20240205165100\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"48931796****3595\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":410202,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":410202},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:17.187 response time in milliseconds: 488\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:15 GMT\n1 < x-amzn-RequestId: 2c9e739b-d3f3-481d-8b5b-c3294372760f\n1 < x-amz-apigw-id: Srq9EEWoIAMENOA=\n1 < X-Amzn-Trace-Id: Root=1-65c15853-1a3fe9e079893b1c0f6ee42d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 1b60cf6445dea0db327d48d27419e066.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: chFquIEM8wwZ_rIZRc90EbuXc-SDklB6MkkKVIyI9L3dCIAW4Zwq-Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"794744aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41020241020220240205165100\",\"approvalNum\":\"410202\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"410202\",\"rrn\":\"410202\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"48931796****3595\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"410202\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"410202\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41020241020220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165115\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":262800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":212400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":145500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":5300000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:16.576 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":232800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":326600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":846300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":436300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":286500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":162900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":138000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":864700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":758300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":295100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":259800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8114000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":579500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":337000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":280400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":74,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":285700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":62300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":56600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":211600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":147200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":159000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":1308500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\"","result":{"duration":1144700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":667900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":76700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":574879400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:16.603 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"982525aBcD\"},\"transaction\":{\"approvalNum\":746417,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":746417,\"rrn\":746417,\"dateTime\":\"20240205165100\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"36548325****9649\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":746417,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":746417},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:17.176 response time in milliseconds: 573\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 763\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:15 GMT\n1 < x-amzn-RequestId: 2ddb872b-0ffe-4af7-909f-630122398151\n1 < x-amz-apigw-id: Srq9EG-sIAMEZjQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15853-4e465a0b20ba0bc37a62b276\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 672a274f5830cff711168a1debfae76c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: Yo1ctyCA2nWGKMgaejpHTIVvulCgwQfIga5pIP-Wpib3hZ7b0wcxQA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"982525aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE74641774641720240205165100\",\"approvalNum\":\"746417\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"746417\",\"rrn\":\"746417\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"36548325****9649\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"746417\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"746417\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE74641774641720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165115\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":414000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":212400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":115300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":94738400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:16.743 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":223500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":326600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":685000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":694900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":289000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":250000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":236400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":833200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":594600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":124000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":102000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":11663800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":525500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":680200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1561700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":75,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":306300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":71200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":65300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":138500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":343400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":161900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":123000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":6829600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\"","result":{"duration":1523900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":871400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":66100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":601147900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:16.872 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"435541aBcD\"},\"transaction\":{\"approvalNum\":561433,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":561433,\"rrn\":561433,\"dateTime\":\"20240205165100\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"50666758****1425\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":561433,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":561433},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:17.470 response time in milliseconds: 598\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:15 GMT\n1 < x-amzn-RequestId: 048f02cd-19ea-45d1-a6f3-c605548fd7de\n1 < x-amz-apigw-id: Srq9HHG8oAMEd6w=\n1 < X-Amzn-Trace-Id: Root=1-65c15853-3261003f3fba3aa64ab03a4e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 8e549689daceb1adfb27c798bb377b52.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: HTPoqSwGEqj_HkSA6wf9l9czx-w4k-YIL7cO8glngnTALYR6OiVeKw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"435541aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE56143356143320240205165100\",\"approvalNum\":\"561433\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"561433\",\"rrn\":\"561433\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"50666758****1425\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"561433\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"561433\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE56143356143320240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165115\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":759600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":592300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":738800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37}],"tags":[]}],"name":"ADQUI\/TransaccionalADQUI00.feature","description":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","id":"ejecutar-endpoint-para-crear-una-transaccion-aprobada-con-firma-y-validando-distintos-datos-de-respuesta","keyword":"Feature","uri":"ADQUI\/TransaccionalADQUI00.feature"}]