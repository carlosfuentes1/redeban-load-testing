{"failedCount":0,"prefixedPath":"classpath:Cierres\/Cierre_VoucherQA.feature","packageQualifiedName":"Cierres.Cierre_VoucherQA","loopIndex":-1,"relativePath":"Cierres\/Cierre_VoucherQA.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1231800,"millis":1.2318,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def path = '\/transactional\/api\/vouchers\/closures'"},"stepLog":"14:50:40.217 << lock released, cached callSingle: classpath:helper\/CrearTokenQA.feature\n","callResults":[{"prefixedPath":"classpath:helper\/CrearTokenQA.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2023-11-08 02:50:41 p. m.","durationMillis":1526.6811,"callArg":{"pathUrl":"\/transactional\/api\/vouchers\/transactions","apiToken":"https:\/\/vaucherdigitalcorrcert.auth.us-east-1.amazoncognito.com\/oauth2\/token","tokenAuthorization":"Basic MjMzN3JlczBvMmtrYjVqbTE1NnNraHVydTo0YXRiMW84NnYzbXNsNWFkcTNpYmdrZjIxcHE4dnJrdm5jMW5iY2gybWZkMjRwMDVscGk=","url":"https:\/\/apicorr.testvoucherdigitalredeban.com","apiKey":"RiE91dmaPy2mQ8RyTQ3e22fLUPDFCB4Ia66si8mt"},"failedCount":0,"packageQualifiedName":"helper.CrearTokenQA","relativePath":"helper\/CrearTokenQA.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1214900,"millis":1.2149,"status":"passed"},"step":{"line":4,"prefix":"Given","index":0,"text":"url apiToken"},"stepLog":"14:50:38.595 karate.env system property was: qa \n14:50:38.605 >> lock acquired, begin callSingle: classpath:helper\/CrearTokenQA.feature\n"},{"result":{"nanos":1797900,"millis":1.7979,"status":"passed"},"step":{"line":5,"prefix":"And","index":1,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":446500,"millis":0.4465,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"header Authorization = tokenAuthorization"}},{"result":{"nanos":744500,"millis":0.7445,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request 'grant_type=client_credentials&Scope=consumers%2Ffabrica'"}},{"result":{"nanos":1515332900,"millis":1515.3329,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method post"},"stepLog":"14:50:39.151 request:\n1 > POST https:\/\/vaucherdigitalcorrcert.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Authorization: Basic MjMzN3JlczBvMmtrYjVqbTE1NnNraHVydTo0YXRiMW84NnYzbXNsNWFkcTNpYmdrZjIxcHE4dnJrdm5jMW5iY2gybWZkMjRwMDVscGk=\n1 > Content-Length: 55\n1 > Host: vaucherdigitalcorrcert.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&Scope=consumers%2Ffabrica\n\n14:50:40.142 response time in milliseconds: 976\n1 < 200\n1 < Date: Wed, 08 Nov 2023 19:50:39 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Content-Security-Policy-Report-Only: script-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/vaucherdigitalcorrcert.auth.us-east-1.amazoncognito.com; style-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/vaucherdigitalcorrcert.auth.us-east-1.amazoncognito.com; img-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/vaucherdigitalcorrcert.auth.us-east-1.amazoncognito.com; report-uri https:\/\/vaucherdigitalcorrcert.auth.us-east-1.amazoncognito.com\/cspreport\n1 < x-amz-cognito-request-id: 3ab4103e-86ee-41d4-9749-e26477ff85b2\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n1 < Set-Cookie: XSRF-TOKEN=977bed72-2120-4b95-99bd-1f5884ae9e09; Domain=vaucherdigitalcorrcert.auth.us-east-1.amazoncognito.com; Secure\n{\"access_token\":\"eyJraWQiOiI1N3NIZ0p2WHFaQ0lydE1JXC8wSnBVV1dRaHFHUFwveXJ3TUpNYWNob0I5WUU9IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIyMzM3cmVzMG8ya2tiNWptMTU2c2todXJ1IiwidG9rZW5fdXNlIjoiYWNjZXNzIiwic2NvcGUiOiJjb25zdW1lcnNcL2ZhYnJpY2EiLCJhdXRoX3RpbWUiOjE2OTk0NzMwMzksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwvdXMtZWFzdC0xX3NsYlhzOTAwbSIsImV4cCI6MTY5OTQ3NDgzOSwiaWF0IjoxNjk5NDczMDM5LCJ2ZXJzaW9uIjoyLCJqdGkiOiJhNWY1NDQ1Yy03NTFhLTQ4YWEtOWQzNy1jMThjOTI0YWEyNmMiLCJjbGllbnRfaWQiOiIyMzM3cmVzMG8ya2tiNWptMTU2c2todXJ1In0.QMKODwTWYnYbgjoobDzhAusM7ksS2vAT43Fn943wKJV4qWRt6_mYbWI9c9ePWO2pO2x1hyyIiViy2qpfjw3i7kE61AmxztAU4mvqsXYaz1Cboe-WGRnuoP-HiFXvSJW8Vou_xVXIAtWhVfrAegVzlfJJ71mQ6LVDnSkbsEM2Got90AeVhxCpab-ILZV2in_4bz2thl_f31wcQXYa2lziAQHCjrqc-diFBB-nl9D6MKPBji1vLbznsdful_BaSI81iY6zYfWO_6raCdRl_93x5GOmSVH1rhBHP7MYkIXagZU3KaWiM9eWZeqYAM8KFg_NlGxmpDKG_iIYSEi-Pq8wqA\",\"expires_in\":1800,\"token_type\":\"Bearer\"}\n\n"},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":9,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":7110000,"millis":7.11,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"def access_token = response.access_token"}}],"executorName":"pool-1-thread-1","line":3,"name":"crear token","description":"","durationMillis":1526.6811,"startTime":1699473038658,"failed":false,"refId":"[1:3]","endTime":1699473040214,"exampleIndex":-1}],"name":"Ejecutar Endpoint para crear el token que se usara para crear las transacciones","passedCount":1}]},{"result":{"nanos":69893000,"millis":69.893,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def bodyTrx = read('classpath:payloads\/BodyCierres.json')"}},{"result":{"nanos":1303800,"millis":1.3038,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":757398800,"millis":757.3988,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":6214300,"millis":6.2143,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":3469900,"millis":3.4699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":5491900,"millis":5.4919,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":490000,"millis":0.49,"status":"passed"},"step":{"line":13,"prefix":"Given","index":0,"text":"url url"}},{"result":{"nanos":2222500,"millis":2.2225,"status":"passed"},"step":{"line":14,"prefix":"And","index":1,"text":"path path"}},{"result":{"nanos":277100,"millis":0.2771,"status":"passed"},"step":{"line":15,"prefix":"And","index":2,"text":"header x-api-key = apiKey"}},{"result":{"nanos":4970300,"millis":4.9703,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request bodyTrx.payload[0].commerce.financialCode = '0001'"}},{"result":{"nanos":1909200,"millis":1.9092,"status":"passed"},"step":{"line":17,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].commerce.address = 'Calle Correcto - TTTTT -WWWW -eeeee ttttt'"}},{"result":{"nanos":1368200,"millis":1.3682,"status":"passed"},"step":{"line":18,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = '32692899'"}},{"result":{"nanos":1115200,"millis":1.1152,"status":"passed"},"step":{"line":19,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = 'AMERICANIN'"}},{"result":{"nanos":244500,"millis":0.2445,"status":"passed"},"step":{"line":20,"prefix":"And","index":7,"text":"request bodyTrx"}},{"result":{"nanos":395186100,"millis":395.1861,"status":"passed"},"step":{"line":21,"prefix":"When","index":8,"text":"method post"},"stepLog":"14:50:41.092 request:\n2 > POST https:\/\/apicorr.testvoucherdigitalredeban.com\/transactional\/api\/vouchers\/closures\n2 > x-api-key: RiE91dmaPy2mQ8RyTQ3e22fLUPDFCB4Ia66si8mt\n2 > Authorization: Bearer eyJraWQiOiI1N3NIZ0p2WHFaQ0lydE1JXC8wSnBVV1dRaHFHUFwveXJ3TUpNYWNob0I5WUU9IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIyMzM3cmVzMG8ya2tiNWptMTU2c2todXJ1IiwidG9rZW5fdXNlIjoiYWNjZXNzIiwic2NvcGUiOiJjb25zdW1lcnNcL2ZhYnJpY2EiLCJhdXRoX3RpbWUiOjE2OTk0NzMwMzksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwvdXMtZWFzdC0xX3NsYlhzOTAwbSIsImV4cCI6MTY5OTQ3NDgzOSwiaWF0IjoxNjk5NDczMDM5LCJ2ZXJzaW9uIjoyLCJqdGkiOiJhNWY1NDQ1Yy03NTFhLTQ4YWEtOWQzNy1jMThjOTI0YWEyNmMiLCJjbGllbnRfaWQiOiIyMzM3cmVzMG8ya2tiNWptMTU2c2todXJ1In0.QMKODwTWYnYbgjoobDzhAusM7ksS2vAT43Fn943wKJV4qWRt6_mYbWI9c9ePWO2pO2x1hyyIiViy2qpfjw3i7kE61AmxztAU4mvqsXYaz1Cboe-WGRnuoP-HiFXvSJW8Vou_xVXIAtWhVfrAegVzlfJJ71mQ6LVDnSkbsEM2Got90AeVhxCpab-ILZV2in_4bz2thl_f31wcQXYa2lziAQHCjrqc-diFBB-nl9D6MKPBji1vLbznsdful_BaSI81iY6zYfWO_6raCdRl_93x5GOmSVH1rhBHP7MYkIXagZU3KaWiM9eWZeqYAM8KFg_NlGxmpDKG_iIYSEi-Pq8wqA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 305\n2 > Host: apicorr.testvoucherdigitalredeban.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"address\":\"Calle Correcto - TTTTT -WWWW -eeeee ttttt\",\"name\":\"testTT WWWWW TTTTTTTT FFFFFFF\",\"terminalId\":\"AMERICANIN\",\"correspondentId\":\"32692899\",\"financialCode\":\"0001\"},\"transaction\":{\"date\":\"20231108\",\"dateTime\":\"20231108145000\",\"hour\":\"1450\",\"techVersion\":\"V42343223T35T\"}}]}\n\n14:50:41.479 response time in milliseconds: 387\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 516\n2 < Connection: keep-alive\n2 < Date: Wed, 08 Nov 2023 19:50:40 GMT\n2 < x-amzn-RequestId: 0afb2085-9ce4-4f00-87ab-9f3b4913874a\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: OGD2pHhioAMEljg=\n2 < X-Amzn-Trace-Id: Root=1-654be690-15dce6e0776dc7015fc73893\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 35355924f46c950b55083d4e005a04dc.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 4OtrQoM6YVDM67rtUhHmJoV2CGlvIEhlj_QpcOmUgW55Cui4sv_8bg==\n{\"resultObject\":[{\"commerce\":{\"correspondentId\":\"32692899\",\"address\":\"Calle Correcto - TTTTT -WWWW -eeeee ttttt\",\"name\":\"testTT WWWWW TTTTTTTT FFFFFFF\",\"financialCode\":\"0001\",\"terminalId\":\"AMERICANIN\"},\"transaction\":{\"closeId\":\"02a957e8-cee4-48d0-902d-4deb825587b6\",\"date\":\"2023-11-08\",\"hour\":\"14:50:00\",\"dateTime\":\"2023-11-08T14:50:00\",\"techVersion\":\"V42343223T35T\"}}],\"status\":[{\"transactionId\":\"02a957e8-cee4-48d0-902d-4deb825587b6\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20231108145040\"}]}\n\n"},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":22,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":9684100,"millis":9.6841,"status":"passed"},"step":{"line":23,"prefix":"And","index":10,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":17170500,"millis":17.1705,"status":"passed"},"step":{"line":24,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":2401100,"millis":2.4011,"status":"passed"},"step":{"line":25,"prefix":"And","index":12,"text":"match response.status[0].statusCode == '00'"}}],"line":28,"description":"","durationMillis":1282.0634,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que envia el cierre Correcto de una determinada terminal o datafono","startTime":1699473038513,"refId":"[1.1:28]","endTime":1699473041511,"exampleData":{"financialCode":"0001","address":"'Calle Correcto - TTTTT -WWWW -eeeee ttttt'","terminal":"AMERICANIN"},"exampleIndex":0}],"callDepth":0,"name":"Ejecutar Endpoint para realizar el cierre Correcto de una terminal o Datafono","description":"","resultDate":"2023-11-08 02:50:41 p. m.","durationMillis":1282.0634,"passedCount":1}