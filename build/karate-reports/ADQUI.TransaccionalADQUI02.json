[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2698500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:17.181 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":184900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":223600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":698600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":275900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":152700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":148000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":157800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":818200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":969700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":157800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":213400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":277528500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1119900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":474000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1185200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":56,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1083900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":75900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":439600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":82600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":727000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":813500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1184500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":794300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":658200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":570600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":77000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":499472900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:17.480 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"418621aBcD\"},\"transaction\":{\"approvalNum\":450056,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":450056,\"rrn\":450056,\"dateTime\":\"20240205165100\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"57769781****7524\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":450056,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":450056},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:17.976 response time in milliseconds: 496\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 765\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:16 GMT\n1 < x-amzn-RequestId: 177bf64f-f1bb-433a-8d6a-4d4b81e35c99\n1 < x-amz-apigw-id: Srq9MHTtIAMEEzA=\n1 < X-Amzn-Trace-Id: Root=1-65c15854-0df2d70334c8712a55ff399d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 473e7bcc71e2b6e5a8e19c433673f9e8.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: pYUeUxsNDJ8HIfXljI9rxIL_VPIw6epN0QdjAaVXqKhNnajxGl80RQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"418621aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE45005645005620240205165100\",\"approvalNum\":\"450056\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"450056\",\"rrn\":\"450056\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"57769781****7524\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"450056\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"450056\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE45005645005620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165116\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1074900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":692800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":932700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":715309000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":117200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":660200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":74700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":831400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":714100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":607700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":444200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":475200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":518600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":87200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":550932700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:18.702 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2801\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"418621aBcD\"},\"transaction\":{\"approvalNum\":450056,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":450056,\"rrn\":450056,\"dateTime\":\"20240205165100\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"57769781****7524\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":450056,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":450056},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:19.250 response time in milliseconds: 548\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 765\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:17 GMT\n2 < x-amzn-RequestId: ec15e23c-3f3b-4bde-98d9-0d9e836df63f\n2 < x-amz-apigw-id: Srq9ZHNjIAMEIJw=\n2 < X-Amzn-Trace-Id: Root=1-65c15855-767b90a51ba8c3c3438bbe07\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 e10f5a2809f551f49db0ef4e9e7c1228.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: rW3LFfEPOP8w7FVsvqhT4iawkju1qaYTMMplIUzCN-0QmUmnKdkoZA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"418621aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE45005645005620240205165102\",\"approvalNum\":\"450056\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"450056\",\"rrn\":\"450056\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"57769781****7524\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"450056\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"450056\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE45005645005620240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165117\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":990000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":700700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":490500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":9870400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:17.184 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":137200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":340800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":599600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":663100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":241000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":195800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":166200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":8929500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1413600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":212000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":181100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":116121800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2914600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":871200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":2303500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":57,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1658100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":125300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":936100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":65900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":796200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":3984300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":2391000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":885500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\"","result":{"duration":525600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":434100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":64400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":466434600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:17.349 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"817621aBcD\"},\"transaction\":{\"approvalNum\":835106,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":835106,\"rrn\":835106,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"49238218****4428\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":835106,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":835106},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:17.810 response time in milliseconds: 461\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:16 GMT\n1 < x-amzn-RequestId: 0a223b48-5ef3-48a3-8993-6dbe508a14a3\n1 < x-amz-apigw-id: Srq9LEQgoAMEsSg=\n1 < X-Amzn-Trace-Id: Root=1-65c15854-7bbe91113d03ec4501bac04a\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 af3d2c4aae84cb3609a51b4e8756647a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: riMXJeVN6uXHOiVvoba9_hePQ1xjKoNLKpwxWvzXSL87iik-GsW7_g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"817621aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE83510683510620240205165100\",\"approvalNum\":\"835106\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"835106\",\"rrn\":\"835106\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"49238218****4428\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"835106\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"835106\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE83510683510620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165116\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":914900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":707900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":758700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":741793900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":126200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":154000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":2072600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":116000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":583000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":132400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\"","result":{"duration":132300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":102100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":356704200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:18.561 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2806\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"817621aBcD\"},\"transaction\":{\"approvalNum\":835106,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":835106,\"rrn\":835106,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"49238218****4428\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":835106,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":835106},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:18.915 response time in milliseconds: 354\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 770\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:17 GMT\n2 < x-amzn-RequestId: 8d3ad559-a974-4b09-8d6f-ab4c4a71c768\n2 < x-amz-apigw-id: Srq9WGxIIAMEXcw=\n2 < X-Amzn-Trace-Id: Root=1-65c15855-2e0ef3e91f7a85704194cb65\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 cef9da1b4a6e82d7b1f4fa1d1057cf94.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: AmA9p3qww9xJ5rBzJ4EFs9dcxhrCfCvSNJrsDzJ8kLI_FNFd3EwQdA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"817621aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE83510683510620240205165102\",\"approvalNum\":\"835106\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"835106\",\"rrn\":\"835106\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"49238218****4428\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"835106\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"835106\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE83510683510620240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165117\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":502500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":1392300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":496300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2827000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:17.193 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":121700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":246000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":632300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":176000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":125200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":127400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":90700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":7165500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2473800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":374200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":367400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9929900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":398300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":193700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1026600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":58,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":826100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":59600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":419100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":73700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":786800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":746000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":733200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":771700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\"","result":{"duration":759300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":730400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":69000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":583162400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:17.231 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2817\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"884763aBcD\"},\"transaction\":{\"approvalNum\":522584,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":522584,\"rrn\":522584,\"dateTime\":\"20240205165100\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"62939200****9576\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":522584,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":522584},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:17.810 response time in milliseconds: 579\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:16 GMT\n1 < x-amzn-RequestId: 8db87024-c582-4b21-8d86-657c77fbf5d9\n1 < x-amz-apigw-id: Srq9LFFioAMEXxg=\n1 < X-Amzn-Trace-Id: Root=1-65c15854-277a03d5799a4d5033a6fa5d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 397871ae913f1796ba76aca08571de36.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: anrOQ0e2xndV0wGV_GxaNz3B5lVQQYMaTvNCWTipQwPdakgRy47Muw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"884763aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE52258452258420240205165100\",\"approvalNum\":\"522584\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"522584\",\"rrn\":\"522584\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"62939200****9576\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"522584\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"522584\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE52258452258420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165116\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":914900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":700300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":623600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":741934600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":126100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":146000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":62500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":309700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":179700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":1085100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":180700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\"","result":{"duration":115400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":113300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":356403900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:18.560 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2817\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"884763aBcD\"},\"transaction\":{\"approvalNum\":522584,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":522584,\"rrn\":522584,\"dateTime\":\"20240205165100\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"62939200****9576\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":522584,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":522584},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:18.913 response time in milliseconds: 353\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 781\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:17 GMT\n2 < x-amzn-RequestId: 57505d2d-929a-4755-91ca-c8220179a570\n2 < x-amz-apigw-id: Srq9WHbJIAMEjSA=\n2 < X-Amzn-Trace-Id: Root=1-65c15855-10a9d68267afc6ee4ad8a768\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 3601b3583b8fa2c1ff5a4060892d24b2.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: bSwY1PGYoDfFwOk82liNlWfFYHFVeRvWpK5FGe51RLN5X2q620o2pA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"884763aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE52258452258420240205165102\",\"approvalNum\":\"522584\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"522584\",\"rrn\":\"522584\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"62939200****9576\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"522584\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"522584\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE52258452258420240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165117\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":854900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":427200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":402500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3775300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:17.483 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":161500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":866600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1554300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":327900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":241500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":195500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":174700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1158900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":950000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":204900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":201300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":25682900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":545200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":262100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":923700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":59,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":968200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":74300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":436800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":85200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":858100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":813400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1032000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":609600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\"","result":{"duration":505500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":590800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":65900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":472884600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:17.534 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"367033aBcD\"},\"transaction\":{\"approvalNum\":988692,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":988692,\"rrn\":988692,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"56107581****9346\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":988692,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":988692},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:18.000 response time in milliseconds: 466\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:16 GMT\n1 < x-amzn-RequestId: d9cd5e3d-489c-486b-9216-5805af84b9f3\n1 < x-amz-apigw-id: Srq9NGBeIAMEUog=\n1 < X-Amzn-Trace-Id: Root=1-65c15854-05507a1e39cd9bd10b2e1953\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c919c9f17e93c83384b6ac4ae98b8bba.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: ycn3IfW-bT6A-SWCeJBakQld_sOoiv6Xw_SE18Fg-zaEvhu9VDgrsQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"367033aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE98869298869220240205165100\",\"approvalNum\":\"988692\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"988692\",\"rrn\":\"988692\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"56107581****9346\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"988692\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"988692\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE98869298869220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165116\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":657300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":211000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":133100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":720838100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":133600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":1538800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":351800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":1028800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1657300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":1448500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":517900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\"","result":{"duration":539800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":415700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":94700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":411907100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:18.760 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2810\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"367033aBcD\"},\"transaction\":{\"approvalNum\":988692,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":988692,\"rrn\":988692,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"56107581****9346\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":988692,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":988692},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:19.144 response time in milliseconds: 382\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:17 GMT\n2 < x-amzn-RequestId: 1c32d810-5e9e-4cf6-b9e6-d4e97cda8fb8\n2 < x-amz-apigw-id: Srq9YEe7oAMEJuA=\n2 < X-Amzn-Trace-Id: Root=1-65c15855-5904951045bd484e63175ea3\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 58830509aaa39326281f1a32f0d7f954.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: NsZnkqADkUqKcBwND2D0iFg0R1ijbDyFMwUUa9Ktx-si08dP4B0onA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"367033aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE98869298869220240205165102\",\"approvalNum\":\"988692\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"988692\",\"rrn\":\"988692\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"56107581****9346\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"988692\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"988692\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE98869298869220240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165117\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":877500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":3036600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":3925600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":105859700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:18.922 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":308200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1020100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1103200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":324100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":166700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":143800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":122400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2392300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1301100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":212200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":199200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":44272400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":614700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":215700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":607900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":60,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":597400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":225700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":46400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":484200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":417400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":425500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":413000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\"","result":{"duration":824000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":370900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":588395700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:19.090 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"704263aBcD\"},\"transaction\":{\"approvalNum\":582679,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":582679,\"rrn\":582679,\"dateTime\":\"20240205165100\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"34204543****2890\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":582679,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":582679},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:19.675 response time in milliseconds: 585\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:17 GMT\n1 < x-amzn-RequestId: 0b1f099f-6b41-466b-9b33-ffbf64544f12\n1 < x-amz-apigw-id: Srq9dHQBoAMEIJw=\n1 < X-Amzn-Trace-Id: Root=1-65c15855-141cb07f197294273a725382\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 1b60cf6445dea0db327d48d27419e066.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: J-FmF8FLvJ98iulB43ORgpzMZxJZUUT3aP0QSj2DShs6xIXuv3pETQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"704263aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE58267958267920240205165100\",\"approvalNum\":\"582679\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"582679\",\"rrn\":\"582679\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"34204543****2890\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"582679\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"582679\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE58267958267920240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165117\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":655400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":392600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":377300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":712849500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":146800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":609600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":74900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":714100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":336700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":256200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":276500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\"","result":{"duration":270500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":239200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":572211300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:20.395 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2812\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"704263aBcD\"},\"transaction\":{\"approvalNum\":582679,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":582679,\"rrn\":582679,\"dateTime\":\"20240205165100\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"34204543****2890\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":582679,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":582679},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:20.965 response time in milliseconds: 570\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 776\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:19 GMT\n2 < x-amzn-RequestId: 5bc8415b-5e70-4638-8ebd-17a7eeab8f29\n2 < x-amz-apigw-id: Srq9qFg_oAMECkQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15857-4696a55313913f084a4da48a\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 3601b3583b8fa2c1ff5a4060892d24b2.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: niQ-Ba_K8YlqrIytxiDd3a6wKLSLYIr-wTUfSaZpwPSWy9DWtpkMtA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"704263aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE58267958267920240205165102\",\"approvalNum\":\"582679\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"582679\",\"rrn\":\"582679\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"34204543****2890\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"582679\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"582679\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE58267958267920240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165119\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":790600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":743000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":1551600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":28464400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:18.929 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":169500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":5572100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":3579700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":382300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":226800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":832200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":197800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1758000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":4221800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1617400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":194800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":13035400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":511000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":209000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":2133100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":61,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":852300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":52000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":351600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":180000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":890900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":407400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":326100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":466700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\"","result":{"duration":355800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":350800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":57600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":570960400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:19.005 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"885695aBcD\"},\"transaction\":{\"approvalNum\":205297,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":205297,\"rrn\":205297,\"dateTime\":\"20240205165100\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"82556930****9459\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":205297,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":205297},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:19.573 response time in milliseconds: 568\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:17 GMT\n1 < x-amzn-RequestId: cb173489-bb83-4161-b6d9-4c00a02d824f\n1 < x-amz-apigw-id: Srq9cFbWIAMEcMg=\n1 < X-Amzn-Trace-Id: Root=1-65c15855-6f1c176f124624426e0f3866\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 1363962ebe43751f885359ece2e8196a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: o8i2lN6BMu0bj-NNkq5W4vpsauW_O2v7yi6jbma9XGlrnMgrBE94Eg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"885695aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE20529720529720240205165100\",\"approvalNum\":\"205297\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"205297\",\"rrn\":\"205297\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"82556930****9459\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"205297\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"205297\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE20529720529720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165117\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":413100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":703200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":156600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":708270700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":225500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":835200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":252200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":549000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":661800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":445200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":975000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\"","result":{"duration":1124500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":485900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":80500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":622666200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:20.304 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2813\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"885695aBcD\"},\"transaction\":{\"approvalNum\":205297,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":205297,\"rrn\":205297,\"dateTime\":\"20240205165100\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"82556930****9459\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":205297,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":205297},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:20.913 response time in milliseconds: 609\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 777\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:19 GMT\n2 < x-amzn-RequestId: fad900ea-f55c-4a4f-98be-0ca7f54d54ca\n2 < x-amz-apigw-id: Srq9qF6roAMEAXw=\n2 < X-Amzn-Trace-Id: Root=1-65c15857-4b09113167d1aed74d0a50eb\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 e778332efddc53006b892e6757c89284.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: jHF2uS4k9ZMLVyP-sFU3n5DhVsDXWFjRUs-XItkR5D4M_dht-L6OIg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"885695aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE20529720529720240205165102\",\"approvalNum\":\"205297\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"205297\",\"rrn\":\"205297\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"82556930****9459\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"205297\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"205297\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE20529720529720240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165119\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":656900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":433900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":389200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4716600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:19.162 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":255200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1007600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1165000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":351400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":176000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":142400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":133100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1189100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1092800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":205400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":252100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":20498800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":682200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1230300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":978800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":62,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":4089100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":96300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":327100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":122600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":242500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":116500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":740500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":586700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\"","result":{"duration":439800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":1504800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":361379700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:19.210 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2819\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"420581aBcD\"},\"transaction\":{\"approvalNum\":870034,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":870034,\"rrn\":870034,\"dateTime\":\"20240205165100\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"11489669****6877\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":870034,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":870034},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:19.569 response time in milliseconds: 358\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 783\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:17 GMT\n1 < x-amzn-RequestId: eb335853-4419-4257-9899-35a71fc37e03\n1 < x-amz-apigw-id: Srq9cFUTIAMEEYQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15855-2b8b9a67329de70c48972db9\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a38978c3b0d2780767b50bf2a7b840f8.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 4uoJytD7THktV6LhY3wjSyOANfOkfIoxFHXoHrAuyhLLil410NZHJQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"420581aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE87003487003420240205165100\",\"approvalNum\":\"870034\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"870034\",\"rrn\":\"870034\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"11489669****6877\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"870034\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"870034\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE87003487003420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165117\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":502100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":767800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":139800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":712876200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":222500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":866800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":67500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":900300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":679900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":452200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":2463600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\"","result":{"duration":505800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":900000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":62600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":415514100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:20.302 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2819\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"420581aBcD\"},\"transaction\":{\"approvalNum\":870034,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":870034,\"rrn\":870034,\"dateTime\":\"20240205165100\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"11489669****6877\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":870034,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":870034},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:20.706 response time in milliseconds: 403\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 783\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:18 GMT\n2 < x-amzn-RequestId: 10bd81c8-3c7f-4906-8489-b6b3095788f3\n2 < x-amz-apigw-id: Srq9nFapIAMEXHQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15856-3d06c4a735798cde3a502ae9\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 af3d2c4aae84cb3609a51b4e8756647a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: bNi3LbKD4VEKtAvT5Jifgkh0nLNwkjV41hhccv8qMepYyNzTxPvcQQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"420581aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE87003487003420240205165102\",\"approvalNum\":\"870034\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"870034\",\"rrn\":\"870034\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"11489669****6877\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"870034\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"870034\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE87003487003420240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165118\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1239000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":296900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":275500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4612800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:19.262 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":189800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1223100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1111300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":328200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":352500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":225800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":166200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1034200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":855300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":131000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":128500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8006600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":412900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":210800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":601300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":63,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1567300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":124500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":489200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":73100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":772400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":847100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":521800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":532400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\"","result":{"duration":554400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":554300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":61200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":362952100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:19.293 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"309811aBcD\"},\"transaction\":{\"approvalNum\":395005,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":395005,\"rrn\":395005,\"dateTime\":\"20240205165100\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"26113219****1462\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":395005,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":395005},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:19.653 response time in milliseconds: 360\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:17 GMT\n1 < x-amzn-RequestId: 53264664-89ba-447a-a6e0-72a5f4ef3215\n1 < x-amz-apigw-id: Srq9dGRGoAMEE9w=\n1 < X-Amzn-Trace-Id: Root=1-65c15855-2690b1c0272fb02c695a9658\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e10f5a2809f551f49db0ef4e9e7c1228.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: Q4ox1AezWhWsTbYw-nfd6v9Fu2e8rMe2TmaxYK0IMErApKJmAQj0SA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"309811aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE39500539500520240205165100\",\"approvalNum\":\"395005\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"395005\",\"rrn\":\"395005\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"26113219****1462\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"395005\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"395005\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE39500539500520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165117\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":880000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":585200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":524600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":702148600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":124400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":400200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":485900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":362300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":555600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":430700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\"","result":{"duration":399700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":320200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":345400700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:20.364 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"309811aBcD\"},\"transaction\":{\"approvalNum\":395005,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":395005,\"rrn\":395005,\"dateTime\":\"20240205165100\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"26113219****1462\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":395005,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":395005},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:20.706 response time in milliseconds: 342\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 769\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:18 GMT\n2 < x-amzn-RequestId: f0d727af-737d-4e04-87fb-ff4c1b1da35c\n2 < x-amz-apigw-id: Srq9oH9BoAMEopg=\n2 < X-Amzn-Trace-Id: Root=1-65c15856-7964cd0e5996c6d541e614e7\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8b0b556682aca246cac2962455e370be.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: 1k9vq5ovlQWb4um23yPFRgCToNyoYh56r6gBOnhuj6YuxUIFvG4jUA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"309811aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE39500539500520240205165102\",\"approvalNum\":\"395005\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"395005\",\"rrn\":\"395005\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"26113219****1462\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"395005\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"395005\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE39500539500520240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165118\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":681400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":386100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":502500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":59010200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:20.717 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":192600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":609100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":971700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":270000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":150500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":104600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":145000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":882500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":804400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":176100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":151600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8240300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":669100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":471000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":483900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":64,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":503100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":166300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":44100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":412700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":346800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":303500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":362800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\"","result":{"duration":362000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":358000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":405322700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:20.798 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2817\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"926534aBcD\"},\"transaction\":{\"approvalNum\":663391,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":663391,\"rrn\":663391,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"87658471****6916\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":663391,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":663391},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:21.200 response time in milliseconds: 401\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:19 GMT\n1 < x-amzn-RequestId: 46bb35e6-4fba-4ce3-8221-0d1deafd34b0\n1 < x-amz-apigw-id: Srq9sE1rIAMEccQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15857-45d2bc401854680853fa22ac\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b168a8fa55fcb1a61f8a56eeaacf4d70.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 33HUJ4R4GLCYdck1Z5KROaP2XMYgX1Xda8ewGLeV5x13DHZ1pIB_Iw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"926534aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE66339166339120240205165100\",\"approvalNum\":\"663391\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"663391\",\"rrn\":\"663391\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"87658471****6916\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"663391\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"663391\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE66339166339120240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165119\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1207500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":566600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":582500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":717926200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":76100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":295800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":55100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":405200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":298900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":216900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":211600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\"","result":{"duration":203600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":1248500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":548116800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:21.927 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2817\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"926534aBcD\"},\"transaction\":{\"approvalNum\":663391,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":663391,\"rrn\":663391,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"87658471****6916\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":663391,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":663391},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:22.473 response time in milliseconds: 546\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 781\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:20 GMT\n2 < x-amzn-RequestId: dbdf089f-11ef-499b-8be5-5b5414c289a0\n2 < x-amz-apigw-id: Srq95F8XoAMEMfg=\n2 < X-Amzn-Trace-Id: Root=1-65c15858-36ae5fae5d32800f6d749289\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 17ce9cbcbc686d5320c94e5563c8e4e6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: YxClH1Ds9lLQZ6o1gd4B_W8gwbQDRvBywZLkVmRzw8ZbO5tjcN4qcQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"926534aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE66339166339120240205165102\",\"approvalNum\":\"663391\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"663391\",\"rrn\":\"663391\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"87658471****6916\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"663391\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"663391\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE66339166339120240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165120\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":671500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":580100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":304300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3659800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:20.719 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":216500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":741100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":2044200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":385800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":146400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":114100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":101000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1178200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1325200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":394000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":611100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":15879000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":674100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":472900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":585300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":65,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":473100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":43800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":4520200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":141800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":2071000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":650700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":474600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":345700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\"","result":{"duration":1718900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":503600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":76900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":446078400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:20.765 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"605293aBcD\"},\"transaction\":{\"approvalNum\":348976,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":348976,\"rrn\":348976,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"40318567****9033\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":348976,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":348976},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:21.208 response time in milliseconds: 442\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:19 GMT\n1 < x-amzn-RequestId: b2784622-2b5c-4e34-b1e9-1df8bfd86978\n1 < x-amz-apigw-id: Srq9sFQuoAMEq0g=\n1 < X-Amzn-Trace-Id: Root=1-65c15857-0c51058f639f67e732307f9d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d56500b57ee9fd16ecec33b0f5720c28.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: gVXoZlOuisJjhlfYkFcn1GMK5KwYV_naSkhE99eZH2XL43fRZqPFaw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"605293aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE34897634897620240205165100\",\"approvalNum\":\"348976\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"348976\",\"rrn\":\"348976\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"40318567****9033\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"348976\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"348976\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE34897634897620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165119\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":2713800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":485100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":357300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":900568100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":753200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":4024100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":119800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":60805000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1447700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":459100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":242300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\"","result":{"duration":201300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":197100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":69600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":351263600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:22.192 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2810\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"605293aBcD\"},\"transaction\":{\"approvalNum\":348976,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":348976,\"rrn\":348976,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"40318567****9033\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":348976,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":348976},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:22.539 response time in milliseconds: 347\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:20 GMT\n2 < x-amzn-RequestId: de701a87-b609-4679-a889-cc792a906864\n2 < x-amz-apigw-id: Srq96HM1oAMEepw=\n2 < X-Amzn-Trace-Id: Root=1-65c15858-64ab1fb35b2bd31e08ab5b90\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a095f5c394e0c42139106277f3743592.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: eUh771I9QwCuhILe67oJazkI8h2gi9DgajFQnKjQHTaS1LQsmA7DDw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"605293aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE34897634897620240205165102\",\"approvalNum\":\"348976\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"348976\",\"rrn\":\"348976\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"40318567****9033\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"348976\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"348976\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE34897634897620240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165120\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1440100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":390900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":290100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":23580100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:20.921 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":184100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1382400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1199600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":368700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":163000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":118900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":141200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1673200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1475900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":228500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":164400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":49062900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1387900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":2551300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":500200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":66,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":722900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":1019600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":810700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":451300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":276400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":258400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\"","result":{"duration":267800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":269100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":50000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":392415400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:21.019 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"916014aBcD\"},\"transaction\":{\"approvalNum\":915884,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":915884,\"rrn\":915884,\"dateTime\":\"20240205165100\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"72167119****5240\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":915884,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":915884},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:21.404 response time in milliseconds: 385\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:19 GMT\n1 < x-amzn-RequestId: d4d1f09d-3195-47f4-8cbe-5366ead8924c\n1 < x-amz-apigw-id: Srq9vEJvIAMEo5A=\n1 < X-Amzn-Trace-Id: Root=1-65c15857-261d712479de9b4a39a35762\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1c9d85482f328fefd09e9554d8dba7a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: EbT0XyfznYuAr2mmzSr2HGBpk9yewjZoikw284NJBtsiSiuN_WoDkw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"916014aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE91588491588420240205165100\",\"approvalNum\":\"915884\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"915884\",\"rrn\":\"915884\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"72167119****5240\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"915884\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"915884\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE91588491588420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165119\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":492500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":264000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":295700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":714598300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":125700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":444100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":62800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":504400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":430500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":458300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":328400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\"","result":{"duration":302800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":357100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":561644300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:22.129 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"916014aBcD\"},\"transaction\":{\"approvalNum\":915884,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":915884,\"rrn\":915884,\"dateTime\":\"20240205165100\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"72167119****5240\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":915884,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":915884},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:22.686 response time in milliseconds: 557\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:20 GMT\n2 < x-amzn-RequestId: 29db9902-4eaa-467b-849c-0bd04f247f96\n2 < x-amz-apigw-id: Srq98HPbIAMESGQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15858-0dee3d9f308ab74a3d3d1957\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fa3530beeb0001c7dfc54ff5a427fa96.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: xEiPTI_7MwEG4-pimbHWkUDmNGti0fZ8s-QwvHJLt2UxXYSZ5Nm41w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"916014aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE91588491588420240205165102\",\"approvalNum\":\"915884\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"915884\",\"rrn\":\"915884\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"72167119****5240\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"915884\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"915884\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE91588491588420240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165120\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":828400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":418800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":297700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":50959000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:20.977 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":186300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":654900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":789200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":264500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":179300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":115900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":173800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1358900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":934100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":131200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":100900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":18153000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":791300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":532400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":781000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":67,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":694600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":70700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":182400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":59600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":559900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":412000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":358600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":15810800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\"","result":{"duration":940000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":582000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":65900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":689333200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:21.078 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"80829aBcD\"},\"transaction\":{\"approvalNum\":636870,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":636870,\"rrn\":636870,\"dateTime\":\"20240205165100\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"33845322****8078\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":636870,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":636870},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:21.765 response time in milliseconds: 687\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:19 GMT\n1 < x-amzn-RequestId: ed62ae7c-a304-42f7-8e9f-50887a8dc6ea\n1 < x-amz-apigw-id: Srq9yF_jIAMEAXw=\n1 < X-Amzn-Trace-Id: Root=1-65c15857-551e8b366be600121dc5dd38\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3f52c6e51c79b76b85ae5ed7c2503a6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: fBXGP4Vv-h2PrcTuvuZd3gAgOac-kYxlDQSrC0_1SR1eWGjoqgGNmQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"80829aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE63687063687020240205165100\",\"approvalNum\":\"636870\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"636870\",\"rrn\":\"636870\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"33845322****8078\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"636870\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"636870\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE63687063687020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165119\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":22100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":798500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":317400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":329200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710225600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":132200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":590600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":485300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":309400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":274800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":260900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\"","result":{"duration":543300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":291900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":46900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":351358600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:22.483 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"80829aBcD\"},\"transaction\":{\"approvalNum\":636870,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":636870,\"rrn\":636870,\"dateTime\":\"20240205165100\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"33845322****8078\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":636870,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":636870},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:22.832 response time in milliseconds: 348\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:21 GMT\n2 < x-amzn-RequestId: 7ea3a8e6-e1a7-4a0f-982d-d0f1b2ef1cf4\n2 < x-amz-apigw-id: Srq99FUPoAMEEKA=\n2 < X-Amzn-Trace-Id: Root=1-65c15859-3daba5c51ee5903d2a57ddf0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a38978c3b0d2780767b50bf2a7b840f8.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: rcUm2S6tiIFh5H3n847i57mW--IMbmsC45WFpALYujKcYiJV3FflHQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"80829aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE63687063687020240205165102\",\"approvalNum\":\"636870\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"636870\",\"rrn\":\"636870\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"33845322****8078\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"636870\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"636870\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE63687063687020240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165121\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":800200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":361800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":352200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":168343000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:22.482 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":188800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":589900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":733600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":248900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":139700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":104800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":104100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1060700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":779100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":102500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":92900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7069100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":745000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":326200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":253900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":68,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":373600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":41400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":544600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":58200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":452600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":263700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":222700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":255200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\"","result":{"duration":223600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":248100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":348609800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:22.670 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"341214aBcD\"},\"transaction\":{\"approvalNum\":817260,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":817260,\"rrn\":817260,\"dateTime\":\"20240205165100\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"13426163****2720\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":817260,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":817260},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:23.016 response time in milliseconds: 346\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:21 GMT\n1 < x-amzn-RequestId: 9030fd8b-812d-4969-bfd9-42ddd7db2c8b\n1 < x-amz-apigw-id: Srq9_FLtoAMEJXw=\n1 < X-Amzn-Trace-Id: Root=1-65c15859-02dd515b62ade1f018380ed3\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a095f5c394e0c42139106277f3743592.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: NkNp2PP9RqG0LdO02uFoMD0hkXc7KVDgYnucnhIHC42KLzR1J-zHeg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"341214aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE81726081726020240205165100\",\"approvalNum\":\"817260\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"817260\",\"rrn\":\"817260\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"13426163****2720\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"817260\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"817260\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE81726081726020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165121\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":687900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":587000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":462100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":716358000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":99400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":846600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":79700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":715900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":355600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":337400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":315900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\"","result":{"duration":312900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":331200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":548593500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:23.741 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2807\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"341214aBcD\"},\"transaction\":{\"approvalNum\":817260,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":817260,\"rrn\":817260,\"dateTime\":\"20240205165100\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"13426163****2720\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":817260,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":817260},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:24.288 response time in milliseconds: 547\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 771\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:22 GMT\n2 < x-amzn-RequestId: 31636d7e-a416-4451-bfb4-b10eaf8a5c56\n2 < x-amz-apigw-id: Srq-LE-eoAMEUSQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1585a-59f97b9942eb155f07921df7\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 b168a8fa55fcb1a61f8a56eeaacf4d70.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: vN3kcvm_7Jj3DcTMIrHJXfqoIOWLP9r42psj3lzKxfJ6Ql3TtFNOhw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"341214aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE81726081726020240205165102\",\"approvalNum\":\"817260\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"817260\",\"rrn\":\"817260\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"13426163****2720\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"817260\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"817260\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE81726081726020240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165122\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":563100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":413100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":258300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3181800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:22.565 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":119300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":417900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":829800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":297900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":213100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":165700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":178000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":951400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":844500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":326000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":138400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":11467500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1076900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":544500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":549100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":69,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1099100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":529400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":76900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":418800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1217500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":712000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":223300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\"","result":{"duration":353100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":260600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":55900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":720215200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:22.641 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"460340aBcD\"},\"transaction\":{\"approvalNum\":991620,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":991620,\"rrn\":991620,\"dateTime\":\"20240205165100\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"44303365****8849\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":991620,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":991620},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:23.316 response time in milliseconds: 675\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:21 GMT\n1 < x-amzn-RequestId: f6f2a59e-1190-42f3-b1e8-31a62fe5542a\n1 < x-amz-apigw-id: Srq-CERZoAMESuQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15859-7a4a0fc8026cafa049202427\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f7f58294d1419cb7835c1addaee1386c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: sK4J_7pC6TfTDgdXMPxFXohlzgl7dePqXFjS_VEeUIlFSst7PY43mQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"460340aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE99162099162020240205165100\",\"approvalNum\":\"991620\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"991620\",\"rrn\":\"991620\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"44303365****8849\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"991620\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"991620\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE99162099162020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165121\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":549100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":327200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":350400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":713038700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":53500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":156400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":64200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":350500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":238400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":211500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":298600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\"","result":{"duration":234300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":269200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":47600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":376979900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:24.037 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2807\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"460340aBcD\"},\"transaction\":{\"approvalNum\":991620,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":991620,\"rrn\":991620,\"dateTime\":\"20240205165100\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"44303365****8849\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":991620,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":991620},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:24.411 response time in milliseconds: 374\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 771\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:22 GMT\n2 < x-amzn-RequestId: eda6f2f3-0cc8-4dbb-a7fa-1d81df2d22f1\n2 < x-amz-apigw-id: Srq-NFcfIAMEq9g=\n2 < X-Amzn-Trace-Id: Root=1-65c1585a-7307c0d844998d5a0ac966c1\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 41214e21a06ae299a8c0c72752b81bac.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: PPDiu0RJUJmNZBRlJA1iMtXyKRVT4fEYk4DmJzFMAKME_3KaQH-dig==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"460340aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE99162099162020240205165102\",\"approvalNum\":\"991620\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"991620\",\"rrn\":\"991620\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"44303365****8849\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"991620\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"991620\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE99162099162020240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165122\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":2269500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":4029100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":389400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3818400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:22.694 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":160800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":566000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":738700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":223600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":122300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":241000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":164200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":909200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":753800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":129300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":116800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8554300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":3079000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":473300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":505100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":70,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":482200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":160000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":54800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":670600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":370000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":322500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":293300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\"","result":{"duration":348600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":321900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":605308800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:22.723 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"515802aBcD\"},\"transaction\":{\"approvalNum\":665429,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":665429,\"rrn\":665429,\"dateTime\":\"20240205165100\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"17813876****8309\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":665429,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":665429},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:23.326 response time in milliseconds: 603\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:21 GMT\n1 < x-amzn-RequestId: c72b8f3e-f75e-4d23-a847-ce8e6f24a83e\n1 < x-amz-apigw-id: Srq-CFa-IAMEtqA=\n1 < X-Amzn-Trace-Id: Root=1-65c15859-2be42439341157bc1f68224f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 17ce9cbcbc686d5320c94e5563c8e4e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: ptrJE9yHD0ipvrYMi_OocCfk-a9YzNglExsDHg4-QfeoQhmHOv-wIw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"515802aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE66542966542920240205165100\",\"approvalNum\":\"665429\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"665429\",\"rrn\":\"665429\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"17813876****8309\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"665429\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"665429\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE66542966542920240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165121\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1325500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":381500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":350600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":703102100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":366100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":363000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":362000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":241500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":211500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":284000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\"","result":{"duration":234900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":262600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":350644800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:24.039 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2810\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"515802aBcD\"},\"transaction\":{\"approvalNum\":665429,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":665429,\"rrn\":665429,\"dateTime\":\"20240205165100\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"17813876****8309\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":665429,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":665429},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:24.384 response time in milliseconds: 345\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:22 GMT\n2 < x-amzn-RequestId: 46aca0d2-775f-4b18-a8dd-bd4926ff4fcf\n2 < x-amz-apigw-id: Srq-MEa7oAMEMcA=\n2 < X-Amzn-Trace-Id: Root=1-65c1585a-1c2511b51464a6920bdc841c\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 696c8415a4298d6cdc615fcf825987ee.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: xBWa1egnLIGQbXXyoVSV5IzLyS3ixamMHLkW0Rma6UgYQ8RejvM55Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"515802aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE66542966542920240205165102\",\"approvalNum\":\"665429\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"665429\",\"rrn\":\"665429\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"17813876****8309\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"665429\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"665429\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE66542966542920240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165122\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":632800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":346700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":326700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":32682000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:22.839 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":144400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1082000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1752000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":427400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":148800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":98100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":106000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1009400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":829000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":134700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":86100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6837600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":465700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":228700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":213900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":71,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":303000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":110100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":285100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":192900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":173800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":165900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\"","result":{"duration":259500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":181300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":342684300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:22.925 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"239785aBcD\"},\"transaction\":{\"approvalNum\":585082,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":585082,\"rrn\":585082,\"dateTime\":\"20240205165100\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"12409120****3523\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":585082,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":585082},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:23.266 response time in milliseconds: 341\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:21 GMT\n1 < x-amzn-RequestId: a532e70f-0ffa-4b90-8268-6a6dc804d178\n1 < x-amz-apigw-id: Srq-BGYEoAMERLA=\n1 < X-Amzn-Trace-Id: Root=1-65c15859-61e191757f1075c45f3a50e2\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 0c681a1ff8dbc2511e757e2f05da8268.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: xnTLJAfDdTBmPlIu0DPYyHi5hfzoYOPV26wCSpyFIzrbqcfR-HUvvQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"239785aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE58508258508220240205165100\",\"approvalNum\":\"585082\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"585082\",\"rrn\":\"585082\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"12409120****3523\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"585082\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"585082\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE58508258508220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165121\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":331900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":437300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":168500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":716071500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":126600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":166700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":196600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":90700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":444600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":61600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\"","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":527609800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:23.987 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"239785aBcD\"},\"transaction\":{\"approvalNum\":585082,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":585082,\"rrn\":585082,\"dateTime\":\"20240205165100\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"12409120****3523\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":585082,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":585082},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:24.512 response time in milliseconds: 525\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:22 GMT\n2 < x-amzn-RequestId: b8200231-d0d5-4aba-af9f-368e5e71fd97\n2 < x-amz-apigw-id: Srq-OFrsoAMEEaQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1585a-1418cf2c24698d5623e19d43\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 473e7bcc71e2b6e5a8e19c433673f9e8.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: xeqkVJL2eBztMJvai1NagrzQAlPnHdwU6rRw5H8Z1vllTPy9venNVg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"239785aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE58508258508220240205165102\",\"approvalNum\":\"585082\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"585082\",\"rrn\":\"585082\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"12409120****3523\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"585082\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"585082\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE58508258508220240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165122\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":530300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":283400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":290600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3124900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:24.294 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":151800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1466000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1352900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":288500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":97000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":82600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":117400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":991800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":633900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":113200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":70600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7588100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":936600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":374500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":230500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":72,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":328200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":36400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":100200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":308800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":256800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":209000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":188000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\"","result":{"duration":170600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":178300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":43900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":340126700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:24.319 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"778591aBcD\"},\"transaction\":{\"approvalNum\":120002,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":120002,\"rrn\":120002,\"dateTime\":\"20240205165100\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"64603591****8900\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":120002,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":120002},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:24.655 response time in milliseconds: 336\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:22 GMT\n1 < x-amzn-RequestId: e842ca88-3d5e-45a8-872e-feaf883f9c08\n1 < x-amz-apigw-id: Srq-PFk9oAMEZUA=\n1 < X-Amzn-Trace-Id: Root=1-65c1585a-1406e1825e2a9a5441a6d572\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f7f58294d1419cb7835c1addaee1386c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: REuka2PNPBLTzbd-L7iB0uwTmuYTmaHZ10diSC4oHZXc7Ew0Ewc0xQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"778591aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE12000212000220240205165100\",\"approvalNum\":\"120002\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"120002\",\"rrn\":\"120002\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"64603591****8900\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"120002\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"120002\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE12000212000220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165122\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":371800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":400800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":110100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":708830300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":142800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":117100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":250600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":78100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":655300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":108300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\"","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":562913100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:25.369 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"778591aBcD\"},\"transaction\":{\"approvalNum\":120002,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":120002,\"rrn\":120002,\"dateTime\":\"20240205165100\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"64603591****8900\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":120002,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":120002},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:25.930 response time in milliseconds: 560\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 769\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:24 GMT\n2 < x-amzn-RequestId: b059e8dc-1832-4e5c-a297-c57da84170ca\n2 < x-amz-apigw-id: Srq-cFsvIAMEq0g=\n2 < X-Amzn-Trace-Id: Root=1-65c1585c-56ab4c716835804920e67cc7\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 ba321a618e817037ce8e0d09e9005b46.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: aLQsQIwz-MaEdsukL__sGGSBKkhRYHZaXZ5MAB47yc8ZVjZhtHmK2w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"778591aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE12000212000220240205165102\",\"approvalNum\":\"120002\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"120002\",\"rrn\":\"120002\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"64603591****8900\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"120002\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"120002\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE12000212000220240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165124\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":598300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":136000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":105900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":7830900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:24.394 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":276900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":700600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":669900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":207600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":219200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":136300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":79300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":746500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2616600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":240100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":157100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":14189500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":617200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":368000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":322600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":73,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":429600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":80200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":138700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":46600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":339100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":1531600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":400500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\"","result":{"duration":280900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\"","result":{"duration":221500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":217200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":356212500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:24.432 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"368396aBcD\"},\"transaction\":{\"approvalNum\":713564,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":713564,\"rrn\":713564,\"dateTime\":\"20240205165100\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"45269077****2214\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":713564,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":713564},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:24.785 response time in milliseconds: 353\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:23 GMT\n1 < x-amzn-RequestId: 2f85d749-4023-455a-b355-5dcac58b2b01\n1 < x-amz-apigw-id: Srq-QFMkIAMEQUw=\n1 < X-Amzn-Trace-Id: Root=1-65c1585a-4bd29678330f91bf0b3f303b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 41214e21a06ae299a8c0c72752b81bac.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: rhHF-3rNFSHvMvjKGfRAndyK5ksmh7NQB5FRC765X96QZuYUmMOvjA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"368396aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE71356471356420240205165100\",\"approvalNum\":\"713564\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"713564\",\"rrn\":\"713564\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"45269077****2214\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"713564\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"713564\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE71356471356420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165123\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":313200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":364500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":82100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":704112000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":165200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":125200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":276800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":140500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":556300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\"","result":{"duration":91900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\"","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":49100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":33400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":560373600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:25.494 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2806\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"368396aBcD\"},\"transaction\":{\"approvalNum\":713564,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":713564,\"rrn\":713564,\"dateTime\":\"20240205165100\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"45269077****2214\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":713564,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":713564},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:26.052 response time in milliseconds: 558\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 770\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:24 GMT\n2 < x-amzn-RequestId: d2b887df-ad66-4c2f-9d2e-7d2693c66ba7\n2 < x-amz-apigw-id: Srq-dF10oAMEokQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1585c-090682e1140b58a00da553a7\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 1b60cf6445dea0db327d48d27419e066.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: 1gGw7TRjgSTHsycoHD2bUr0pYWT9JeQ51OEq4uNtVxrconaBLQ6CBw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"368396aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE71356471356420240205165102\",\"approvalNum\":\"713564\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"713564\",\"rrn\":\"713564\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"45269077****2214\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"713564\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"713564\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE71356471356420240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165124\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":340600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":192000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":82900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":5810200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:24.427 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":197700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":690400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":681800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":210600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":281600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":126700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":84600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":751300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":612900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":95400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":71000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5801600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":473000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":252800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":189800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":74,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":316000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":107700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":147300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":488500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":177100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":148800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\"","result":{"duration":131800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\"","result":{"duration":141800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":133900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":370838500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:24.451 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"789616aBcD\"},\"transaction\":{\"approvalNum\":564598,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":564598,\"rrn\":564598,\"dateTime\":\"20240205165100\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"76492022****9101\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":564598,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":564598},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:24.818 response time in milliseconds: 367\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:23 GMT\n1 < x-amzn-RequestId: 14d5e5dd-7a4f-43b9-8d67-9828dc116a05\n1 < x-amz-apigw-id: Srq-RF1CIAMEQ4g=\n1 < X-Amzn-Trace-Id: Root=1-65c1585b-15135bb713d2536a42ae04c1\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d56500b57ee9fd16ecec33b0f5720c28.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: oifkkOnMv50A6zqjSxWMy4ydwnEfT5Sle6xw47DmHxAfM9HXEQUI_g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"789616aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE56459856459820240205165100\",\"approvalNum\":\"564598\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"564598\",\"rrn\":\"564598\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"76492022****9101\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"564598\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"564598\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE56459856459820240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165123\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":306400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":382400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":77200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":715716600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":115400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":123700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":188000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":69700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":504800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\"","result":{"duration":94200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\"","result":{"duration":56600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":49600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":347002200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:25.539 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2802\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"789616aBcD\"},\"transaction\":{\"approvalNum\":564598,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":564598,\"rrn\":564598,\"dateTime\":\"20240205165100\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"76492022****9101\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":564598,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":564598},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:25.884 response time in milliseconds: 344\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:24 GMT\n2 < x-amzn-RequestId: e8025143-c48e-4bc6-9db8-5400f5e13bb2\n2 < x-amz-apigw-id: Srq-bHQ7oAMELaw=\n2 < X-Amzn-Trace-Id: Root=1-65c1585c-1bd864db5cecd3b944d52f16\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 af3d2c4aae84cb3609a51b4e8756647a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: DFAtz3hDq7qfYatU_ho2MwBJ_Ff3tovhLl05A_91yUwdeLB9C4dOIw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"789616aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE56459856459820240205165102\",\"approvalNum\":\"564598\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"564598\",\"rrn\":\"564598\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"76492022****9101\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"564598\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"564598\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE56459856459820240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165124\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":403000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":261100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":87000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4350000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:24.520 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":126400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":633700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":739600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":230900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":109300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":90500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":86800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":808600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1092000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":168300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":166100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6593700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":568100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":284400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":232300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":75,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":428900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":40300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":134500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":46500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":309200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":424500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":349500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\"","result":{"duration":245100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\"","result":{"duration":243200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":175400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":46800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":333781100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:24.543 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"191091aBcD\"},\"transaction\":{\"approvalNum\":795378,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":795378,\"rrn\":795378,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"36947696****3960\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":795378,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":795378},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:24.874 response time in milliseconds: 331\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:23 GMT\n1 < x-amzn-RequestId: c3f41f7c-3ba9-4501-9a2a-0615114c649f\n1 < x-amz-apigw-id: Srq-REclIAMEb1g=\n1 < X-Amzn-Trace-Id: Root=1-65c1585b-6398123a4b099258466388aa\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d56500b57ee9fd16ecec33b0f5720c28.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: ZVRN9Hcv0Q0OIH_XgKbPUZ5z6zHYDxXFMGmgGtaVwTP2sO2DWJtMMA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"191091aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE79537879537820240205165100\",\"approvalNum\":\"795378\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"795378\",\"rrn\":\"795378\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"36947696****3960\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"795378\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"795378\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE79537879537820240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165123\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":339400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":337700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":105300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":706992900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":208200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":168700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":280200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":81700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":657900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\"","result":{"duration":106200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\"","result":{"duration":55300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":55200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":51100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":385063300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:25.586 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2807\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"191091aBcD\"},\"transaction\":{\"approvalNum\":795378,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":795378,\"rrn\":795378,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"36947696****3960\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":795378,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":795378},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:25.969 response time in milliseconds: 383\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 771\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:24 GMT\n2 < x-amzn-RequestId: 778754df-afd8-4e76-9184-fca9f80cc210\n2 < x-amz-apigw-id: Srq-cFSfIAMEccQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1585c-11fb64ed2c5d0d5369f48ac0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 cef9da1b4a6e82d7b1f4fa1d1057cf94.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: LHR-jtNyuByPzdjgPrRHmBeoVJfSgljIAlBf8ivmvOjtpGebBJPGVg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"191091aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE79537879537820240205165102\",\"approvalNum\":\"795378\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"795378\",\"rrn\":\"795378\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"36947696****3960\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"795378\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"795378\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE79537879537820240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165124\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":380300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":183400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":70300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2479600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:25.888 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":144600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":225600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":511700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":234900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":152100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":122400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":99600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":546800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":448200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":130300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":115300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6783100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":410400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":308700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":216700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":76,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":215700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":120200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":48200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":52500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\"","result":{"duration":714100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\"","result":{"duration":351800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":266900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":48400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":541350600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:25.906 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2814\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"259486aBcD\"},\"transaction\":{\"approvalNum\":488035,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":488035,\"rrn\":488035,\"dateTime\":\"20240205165100\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"74898880****7576\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":488035,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":488035},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:26.445 response time in milliseconds: 539\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 778\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:24 GMT\n1 < x-amzn-RequestId: a14653cb-5040-4c89-a7cb-48e4056d02d6\n1 < x-amz-apigw-id: Srq-hFLSIAMEYeQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1585c-7b02b3007ec1c7e252dbc58a\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 6a8bde05883e3a529e47f40f0d9e7aaa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 6KUuBzlOtTQIGXF6AU8ytGABEbDS9q-Imm99hEzpVuFleKT7i56oxA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"259486aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE48803548803520240205165100\",\"approvalNum\":\"488035\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"488035\",\"rrn\":\"488035\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"74898880****7576\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"488035\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"488035\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE48803548803520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165124\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1027900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":533700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":91800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":714269600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":152000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":137900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":109200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":663700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":117500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\"","result":{"duration":69300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\"","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":33900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":539891400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:27.167 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2814\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"259486aBcD\"},\"transaction\":{\"approvalNum\":488035,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":488035,\"rrn\":488035,\"dateTime\":\"20240205165100\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"74898880****7576\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":488035,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":488035},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:27.704 response time in milliseconds: 537\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 778\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:25 GMT\n2 < x-amzn-RequestId: 3294f18c-3c96-4c89-b0af-e72f01b91d16\n2 < x-amz-apigw-id: Srq-uHrjoAMEepw=\n2 < X-Amzn-Trace-Id: Root=1-65c1585d-1c5c11ac52a9f04f621cd2a3\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 17ce9cbcbc686d5320c94e5563c8e4e6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: 1qJAH3LeWEnP5r4n_9MNT0TVC6bpJjsSsvjPZ3tKJ8CBGedHCwkjxQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"259486aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE48803548803520240205165102\",\"approvalNum\":\"488035\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"488035\",\"rrn\":\"488035\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"74898880****7576\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"488035\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"488035\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE48803548803520240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165125\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":16200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":290700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":147400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":74200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2796100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:25.936 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":162100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":295000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":398400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":168800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":73300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":77900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":58600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":385700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":374800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":80600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":79000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3466200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":236600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":132700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":91600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":77,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":124000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\"","result":{"duration":422900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\"","result":{"duration":223300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":164000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":544543700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:25.950 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"841057aBcD\"},\"transaction\":{\"approvalNum\":343330,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":343330,\"rrn\":343330,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"41531222****2143\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":343330,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":343330},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:26.492 response time in milliseconds: 542\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:24 GMT\n1 < x-amzn-RequestId: 645ecb42-7bf0-49a9-bd2a-b68e96264434\n1 < x-amz-apigw-id: Srq-iF5UoAMEioQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1585c-21bd4d6f0a96d9a564bc97ff\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 672a274f5830cff711168a1debfae76c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: CjbgZ6085-5nCSYiSSStHBjPTogca9HCBJ2svOS1R0ibonQgsR6m-Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"841057aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE34333034333020240205165100\",\"approvalNum\":\"343330\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"343330\",\"rrn\":\"343330\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"41531222****2143\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"343330\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"343330\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE34333034333020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165124\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":380200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":206200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":86600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":714520900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":113700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":76300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":136700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":169200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":30400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\"","result":{"duration":63300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\"","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":31600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":327260300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:27.211 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2811\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"841057aBcD\"},\"transaction\":{\"approvalNum\":343330,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":343330,\"rrn\":343330,\"dateTime\":\"20240205165100\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"41531222****2143\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":343330,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":343330},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:27.536 response time in milliseconds: 325\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 775\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:25 GMT\n2 < x-amzn-RequestId: d5453188-1637-4076-8c64-512306fc81a4\n2 < x-amz-apigw-id: Srq-sF5NIAMEQqg=\n2 < X-Amzn-Trace-Id: Root=1-65c1585d-414382ee70807bcf2818161d\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8b0b556682aca246cac2962455e370be.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: T6g6p5Vngm-GtpulTpm9GJ4eTmhj-gDlZA_IwH9R9g9UxhA3fSs9_Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"841057aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE34333034333020240205165102\",\"approvalNum\":\"343330\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"343330\",\"rrn\":\"343330\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"41531222****2143\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"343330\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"343330\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE34333034333020240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165125\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":404600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":182100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":171100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2358400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:25.974 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":118500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":236000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":419900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":393300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":89900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":77100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":79800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":474900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":392100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":86800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":73200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3975600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":341800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":138500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":92400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":78,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":153000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":46700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":39400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":122800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":48000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":679000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\"","result":{"duration":289000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":165100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":48000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":567052300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:25.988 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"563503aBcD\"},\"transaction\":{\"approvalNum\":737768,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":737768,\"rrn\":737768,\"dateTime\":\"20240205165100\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"86435180****6315\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":737768,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":737768},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:26.552 response time in milliseconds: 564\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:24 GMT\n1 < x-amzn-RequestId: eba8131c-9993-4a97-9bb3-352370157f6c\n1 < x-amz-apigw-id: Srq-iFWLoAMEcDw=\n1 < X-Amzn-Trace-Id: Root=1-65c1585c-0fb68f4946538a2b3bafc473\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e10f5a2809f551f49db0ef4e9e7c1228.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: YBECxYgmS-7F7TyIxPNRgIqipU-yWSEWtEq8cyO-pirMo5HzxqsWsQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"563503aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE73776873776820240205165100\",\"approvalNum\":\"737768\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"737768\",\"rrn\":\"737768\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"86435180****6315\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"737768\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"737768\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE73776873776820240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165124\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":422600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":265700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":84500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":715614400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":181200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":171100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":58000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":154400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":29200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\"","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":571625000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:27.272 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2812\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"563503aBcD\"},\"transaction\":{\"approvalNum\":737768,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":737768,\"rrn\":737768,\"dateTime\":\"20240205165100\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"86435180****6315\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":737768,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":737768},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:27.842 response time in milliseconds: 569\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 776\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:26 GMT\n2 < x-amzn-RequestId: a781108d-1e32-4fc4-b519-8faa84a65092\n2 < x-amz-apigw-id: Srq-vGdzoAMElxw=\n2 < X-Amzn-Trace-Id: Root=1-65c1585e-7de4755323f3933a2d15ebb1\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 e778332efddc53006b892e6757c89284.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: x5S7m1fG7T7VLMkgtYaYtWiQeHXarMD9RlhpMMinFQZo9Zms0w6PqQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"563503aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE73776873776820240205165102\",\"approvalNum\":\"737768\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"737768\",\"rrn\":\"737768\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"86435180****6315\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"737768\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"737768\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE73776873776820240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165126\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":395900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":128200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":75200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":17914900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:26.057 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":237900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":530000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":515700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":283100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":137400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":91400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":75000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1390600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":509500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":93000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":73200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5719300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":341900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":163400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":93100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":79,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":122100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":57700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":81600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":31400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":391500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\"","result":{"duration":204700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":197900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":330619700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:26.091 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"752437aBcD\"},\"transaction\":{\"approvalNum\":573916,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":573916,\"rrn\":573916,\"dateTime\":\"20240205165100\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"24829022****8209\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":573916,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":573916},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:26.419 response time in milliseconds: 328\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:24 GMT\n1 < x-amzn-RequestId: a05153d2-2ac2-4fcf-928e-38537059fa43\n1 < x-amz-apigw-id: Srq-hEY4IAMESEg=\n1 < X-Amzn-Trace-Id: Root=1-65c1585c-249224e75bf6753a72f6c5b3\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d56500b57ee9fd16ecec33b0f5720c28.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: AI7WjfdeOie-y4c9kDpAKrnUiT4ixu1wlWVZMhLS5W45yyeQ5L1usA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"752437aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE57391657391620240205165100\",\"approvalNum\":\"573916\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"573916\",\"rrn\":\"573916\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"24829022****8209\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"573916\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"573916\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE57391657391620240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165124\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":513300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":302400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":83500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":709860200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":115400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":76600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":270300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":347100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":129000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":101200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\"","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":346123300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:27.134 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2808\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"752437aBcD\"},\"transaction\":{\"approvalNum\":573916,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":573916,\"rrn\":573916,\"dateTime\":\"20240205165100\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"24829022****8209\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":573916,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":573916},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:27.478 response time in milliseconds: 344\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 772\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:25 GMT\n2 < x-amzn-RequestId: 346b0192-d7dd-40e4-a3a0-8a8a376af373\n2 < x-amz-apigw-id: Srq-rE8VIAMEIbA=\n2 < X-Amzn-Trace-Id: Root=1-65c1585d-1d127182657e30a84c866403\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fa3530beeb0001c7dfc54ff5a427fa96.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: z0cmasR_z6JpckAtKL_SoIOQrJ7sNiITOkRKbaupGRRJ_KFXyxCDgQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"752437aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE57391657391620240205165102\",\"approvalNum\":\"573916\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"573916\",\"rrn\":\"573916\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"24829022****8209\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"573916\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"573916\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE57391657391620240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165125\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":348000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":169600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":79100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2088600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:27.484 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":179800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":315700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":433000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":196100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":116600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":106800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":81700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":463100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":382300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":115900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":97000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3465000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":262000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":117600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":100500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":80,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":141000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":23500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":410000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\"","result":{"duration":217700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":165000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":325377600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:27.496 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2815\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"872313aBcD\"},\"transaction\":{\"approvalNum\":866819,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":866819,\"rrn\":866819,\"dateTime\":\"20240205165100\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"22436211****7639\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":866819,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":866819},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:27.819 response time in milliseconds: 323\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 779\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:26 GMT\n1 < x-amzn-RequestId: ef0e3ffc-8aa9-423b-91e2-13020a44cadc\n1 < x-amz-apigw-id: Srq-vFv8IAMEv3Q=\n1 < X-Amzn-Trace-Id: Root=1-65c1585e-093f7660736a0bf34fcac997\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 4e200ddb95975a7a95483b79d1683e50.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: p0PGoh0Zql5in785ouH5-yB6JUzDSYwxOvFDDYKKaCBMIjhuat3tcg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"872313aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE86681986681920240205165100\",\"approvalNum\":\"866819\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"866819\",\"rrn\":\"866819\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"22436211****7639\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"866819\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"866819\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE86681986681920240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165126\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":623800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":272200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":131900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":706148300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":105500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":182800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":82700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":156500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":169200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\"","result":{"duration":110600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":71700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":325867000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:28.530 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2815\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"872313aBcD\"},\"transaction\":{\"approvalNum\":866819,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":866819,\"rrn\":866819,\"dateTime\":\"20240205165100\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"22436211****7639\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":866819,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":866819},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:28.855 response time in milliseconds: 325\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 779\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:27 GMT\n2 < x-amzn-RequestId: 82c84dce-f618-46ab-8eac-ca07d1702ebb\n2 < x-amz-apigw-id: Srq-5FieIAMEaMg=\n2 < X-Amzn-Trace-Id: Root=1-65c1585f-087daa975a3f1253104933f6\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 cef9da1b4a6e82d7b1f4fa1d1057cf94.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: GPnqRH1zKAB32A-Ib0iDJZsO-1Wrg2plFt5sfdAlQa0tCWbtdNi92g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"872313aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE86681986681920240205165102\",\"approvalNum\":\"866819\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"866819\",\"rrn\":\"866819\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"22436211****7639\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"866819\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"866819\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE86681986681920240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165127\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":256400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":100600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":55000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2781500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:27.542 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":122100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":286000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":493500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":178100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":65400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":50700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":49100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":370100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":248100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":53400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7278300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":280900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":98800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":73700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":81,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":102100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":38900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":103500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":42000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":25000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":529500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\"","result":{"duration":216400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":162600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":340988400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:27.559 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"670524aBcD\"},\"transaction\":{\"approvalNum\":419314,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":419314,\"rrn\":419314,\"dateTime\":\"20240205165100\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"82803190****6813\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":419314,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":419314},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:27.898 response time in milliseconds: 339\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:26 GMT\n1 < x-amzn-RequestId: 50a4493f-4c2a-4703-b410-601c9248a6df\n1 < x-amz-apigw-id: Srq-wGA2oAMEokQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1585e-3db2a79d141d785864adb8c7\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 8e549689daceb1adfb27c798bb377b52.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 8wiYBDLLOQybsEA2etJUWXaZPymcdktD3tr7zVOCNTVfXvjyy85eyg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"670524aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41931441931420240205165100\",\"approvalNum\":\"419314\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"419314\",\"rrn\":\"419314\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"82803190****6813\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"419314\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"419314\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41931441931420240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165126\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":291800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":142000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":83800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":706222200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":93100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":54800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":77500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":87900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\"","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":32200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":332017100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:28.607 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2803\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"670524aBcD\"},\"transaction\":{\"approvalNum\":419314,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":419314,\"rrn\":419314,\"dateTime\":\"20240205165100\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"82803190****6813\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":419314,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":419314},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:28.937 response time in milliseconds: 330\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 767\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:27 GMT\n2 < x-amzn-RequestId: 526cbfc3-a92b-431c-bf9c-addcd82232d6\n2 < x-amz-apigw-id: Srq-6FiUIAMEHyg=\n2 < X-Amzn-Trace-Id: Root=1-65c1585f-39fb11ab77d91f44334bd920\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8753a5890eda67f9db56cde3f25f5a28.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: 0NRNWgq_SZA1QnhshzpYgkdm_l_LA8eYgfZLHfmT4H4btSsJv2CtHA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"670524aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41931441931420240205165102\",\"approvalNum\":\"419314\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"419314\",\"rrn\":\"419314\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"82803190****6813\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"419314\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"419314\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41931441931420240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165127\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":367700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":261600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":68400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3116200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:27.709 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":191200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":300300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":419300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":218600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":107400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":84500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":79100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":455500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":619000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":98600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":12074200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":291500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":134000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":122800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":82,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":138800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":77400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":370100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":125900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":648700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\"","result":{"duration":524700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":217800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":44600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":539623500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:27.734 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2814\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"140aBcD\"},\"transaction\":{\"approvalNum\":143607,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":143607,\"rrn\":143607,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"27535704****5111\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":143607,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":143607},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:28.271 response time in milliseconds: 537\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 778\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:26 GMT\n1 < x-amzn-RequestId: e20c8e98-1725-49e6-ad38-c0ca26f96293\n1 < x-amz-apigw-id: Srq-zFWJIAMEYeQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1585e-320cc07e1aaa866c7b577e92\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 8826e08ddb6fc1ad22432c251965170a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: FPa86f1PHrPwb5bU9CO7IQj-HsWTe-pRrpviXsaQA9UZxzxFg74_hA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"140aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE14360714360720240205165100\",\"approvalNum\":\"143607\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"143607\",\"rrn\":\"143607\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"27535704****5111\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"143607\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"143607\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE14360714360720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165126\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":353200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":170100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":95300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":705364300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":142500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":78500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":164900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":77900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":18300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":40000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\"","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":322641600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:28.980 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2814\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"140aBcD\"},\"transaction\":{\"approvalNum\":143607,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":143607,\"rrn\":143607,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"27535704****5111\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":143607,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":143607},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:29.301 response time in milliseconds: 320\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 778\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:27 GMT\n2 < x-amzn-RequestId: 716cea49-f3e3-43a7-a217-16ff6bf377de\n2 < x-amz-apigw-id: Srq--GlMIAMESzg=\n2 < X-Amzn-Trace-Id: Root=1-65c1585f-01af96304cfb2edf462bf7a6\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a095f5c394e0c42139106277f3743592.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: _cfqNDeGNAIujkAYa7NgjUnucnKUGNMh6x1SkDPQ01oqfQH8n9HlSQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"140aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE14360714360720240205165102\",\"approvalNum\":\"143607\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"143607\",\"rrn\":\"143607\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"27535704****5111\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"143607\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"143607\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE14360714360720240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165127\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":398900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":170700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":72700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":34861000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:27.847 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":132300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":403700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":519700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":271500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":123600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":78800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":84800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":492300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":375100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":78200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":71400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5728400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":274100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":181100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":132700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":83,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":331400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":72600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":415100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\"","result":{"duration":195100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":141500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":543127200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:27.895 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"514870aBcD\"},\"transaction\":{\"approvalNum\":112910,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":112910,\"rrn\":112910,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"64236893****2565\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":112910,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":112910},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:28.437 response time in milliseconds: 542\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:26 GMT\n1 < x-amzn-RequestId: be0afc49-91bd-495d-874e-d8a41b216a0a\n1 < x-amz-apigw-id: Srq-1Fg4IAMEccQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1585e-273de7eb1311f13e00f59a76\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 17ce9cbcbc686d5320c94e5563c8e4e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 7IHEH9lQhMx-gHrXjykABr6__ezI7CTFNO3QSB_nQz2C-4tYepbe9A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"514870aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE11291011291020240205165100\",\"approvalNum\":\"112910\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"112910\",\"rrn\":\"112910\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"64236893****2565\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"112910\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"112910\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE11291011291020240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165126\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":390000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":257600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":100700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710577800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":158300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":92100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":88400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":158900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":132100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":203400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\"","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":64200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":536644900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:29.152 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"514870aBcD\"},\"transaction\":{\"approvalNum\":112910,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":112910,\"rrn\":112910,\"dateTime\":\"20240205165100\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"64236893****2565\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":112910,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":112910},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:29.686 response time in milliseconds: 534\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:27 GMT\n2 < x-amzn-RequestId: 5179730c-723e-4c5f-9ba5-3ab23565f285\n2 < x-amz-apigw-id: Srq_CGMQIAMEXxg=\n2 < X-Amzn-Trace-Id: Root=1-65c1585f-5d3d5ed521588c9b614c9c34\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a1c9d85482f328fefd09e9554d8dba7a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: q9nAibmq0FpnHQEjnABHWCXF3ElrVFUqcO35H3TqRsVnBNJWYXVwOw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"514870aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE11291011291020240205165102\",\"approvalNum\":\"112910\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"112910\",\"rrn\":\"112910\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"64236893****2565\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"112910\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"112910\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE11291011291020240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165127\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":399700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":142400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":80200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4040100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:28.859 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":258000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":396100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1151100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":460700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":337000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":102900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":62600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":962500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":492600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":82800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":60100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4019400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":198500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":104400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":74800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":84,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":87000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":57700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":393800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\"","result":{"duration":206100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":107400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":529119900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:28.876 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"148431aBcD\"},\"transaction\":{\"approvalNum\":321153,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":321153,\"rrn\":321153,\"dateTime\":\"20240205165100\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"70635819****6738\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":321153,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":321153},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:29.404 response time in milliseconds: 527\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:27 GMT\n1 < x-amzn-RequestId: eb902700-0dec-4e24-94fa-ecc6cec00a5b\n1 < x-amz-apigw-id: Srq-_EuhoAMEvPg=\n1 < X-Amzn-Trace-Id: Root=1-65c1585f-0a68f5bb7822424017c746cf\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 0b63381bca90b6d116f0766778be6bb2.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: HkLwRZIs9Gs2G2jiIGwGJrqqgFB2yopqPuWW_7LKzB-XB-Ldn9dYIA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"148431aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE32115332115320240205165100\",\"approvalNum\":\"321153\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"321153\",\"rrn\":\"321153\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"70635819****6738\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"321153\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"321153\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE32115332115320240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165127\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":9100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":207700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":110800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":705668900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":98100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":30500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":95800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":29800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":49900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\"","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":319718500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:30.112 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"148431aBcD\"},\"transaction\":{\"approvalNum\":321153,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":321153,\"rrn\":321153,\"dateTime\":\"20240205165100\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"70635819****6738\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":321153,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":321153},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:30.430 response time in milliseconds: 317\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:28 GMT\n2 < x-amzn-RequestId: fea36245-e9a2-4cc6-990f-6f5d35883bfd\n2 < x-amz-apigw-id: Srq_JGl9oAMEtZg=\n2 < X-Amzn-Trace-Id: Root=1-65c15860-6bda2939544023a32b2058e8\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 473e7bcc71e2b6e5a8e19c433673f9e8.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: EJTuJ2H12LTP2sJW8JRmcSnXjjt6IBdf34X8cL3XyYbaAWhA9lRL1g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"148431aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE32115332115320240205165102\",\"approvalNum\":\"321153\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"321153\",\"rrn\":\"321153\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"70635819****6738\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"321153\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"321153\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE32115332115320240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165128\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":290900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":145400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":85500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2242300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:28.942 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":106600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":191100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":339800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":146200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":85100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":57000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":609800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":366900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":70000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7276500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":207700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":66800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":85500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":85,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":103100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":86100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":45900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":467900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\"","result":{"duration":276300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":154600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":535159700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:28.958 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"574321aBcD\"},\"transaction\":{\"approvalNum\":952912,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":952912,\"rrn\":952912,\"dateTime\":\"20240205165100\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"46602458****7630\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":952912,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":952912},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:29.491 response time in milliseconds: 533\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:27 GMT\n1 < x-amzn-RequestId: 31a15dc9-ad69-484d-bb4c-542a0c090c18\n1 < x-amz-apigw-id: Srq_AEqtoAMERsA=\n1 < X-Amzn-Trace-Id: Root=1-65c1585f-796fe8043728be2b0648c92e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 8826e08ddb6fc1ad22432c251965170a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: OUb-NopKvgjg3G7Jf2Iff-TvtlNLwf-JCio7MG2UoIt-6G1SWQs0EA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"574321aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE95291295291220240205165100\",\"approvalNum\":\"952912\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"952912\",\"rrn\":\"952912\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"46602458****7630\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"952912\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"952912\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE95291295291220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165127\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":285700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":144400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":67200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":711018400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":137000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":90600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":81600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":136900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":49000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":89000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\"","result":{"duration":57600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":53300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":558840900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:30.205 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2812\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"574321aBcD\"},\"transaction\":{\"approvalNum\":952912,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":952912,\"rrn\":952912,\"dateTime\":\"20240205165100\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"46602458****7630\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":952912,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":952912},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:30.763 response time in milliseconds: 558\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 776\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:29 GMT\n2 < x-amzn-RequestId: 335ee87b-e0ea-4468-8732-d6cfcf5c0c78\n2 < x-amz-apigw-id: Srq_MF06oAMEcrA=\n2 < X-Amzn-Trace-Id: Root=1-65c15860-31c531576266127d42207f15\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8e549689daceb1adfb27c798bb377b52.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: PgnjaYZu8JMi5zpsIA5WHsaCz2zvs2RDviObl_arWMabwYhOlGcrqg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"574321aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE95291295291220240205165102\",\"approvalNum\":\"952912\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"952912\",\"rrn\":\"952912\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"46602458****7630\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"952912\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"952912\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE95291295291220240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165129\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":581700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":238900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":97200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":6381200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:29.307 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":153200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":353800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":817500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":250800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":108700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":65600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":89600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":530900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":426600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":84100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4329300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":245200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":90000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":72600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":86,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":102300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":57200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":476900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\"","result":{"duration":221700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":138200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":532360500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:29.325 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"836807aBcD\"},\"transaction\":{\"approvalNum\":634449,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":634449,\"rrn\":634449,\"dateTime\":\"20240205165100\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"42226112****8587\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":634449,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":634449},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:29.856 response time in milliseconds: 531\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:28 GMT\n1 < x-amzn-RequestId: c4d115b7-0079-40ac-8ca5-2c84f2c04c33\n1 < x-amz-apigw-id: Srq_DGLeoAMEcJQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15860-4cd47081484456ca0a8f0885\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e10f5a2809f551f49db0ef4e9e7c1228.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: cNFZFgfk0n5tzTbYx0fuAYqy-sfc0bXj7276NpKsz1sNkCvpQx-R0A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"836807aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE63444963444920240205165100\",\"approvalNum\":\"634449\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"634449\",\"rrn\":\"634449\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"42226112****8587\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"634449\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"634449\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE63444963444920240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165128\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":276900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":106700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":72800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":705262900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":102900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":156900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":73400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":144200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":46200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":116900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\"","result":{"duration":26500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":332409200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:30.565 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2803\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"836807aBcD\"},\"transaction\":{\"approvalNum\":634449,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":634449,\"rrn\":634449,\"dateTime\":\"20240205165100\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"42226112****8587\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":634449,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":634449},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:30.895 response time in milliseconds: 330\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 767\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:29 GMT\n2 < x-amzn-RequestId: b6dc4b42-3675-48b4-9af3-12ba41f3b977\n2 < x-amz-apigw-id: Srq_OFtjoAMEHyg=\n2 < X-Amzn-Trace-Id: Root=1-65c15861-77aeb3e95102a2512027d4dd\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 e9ca790c177fd72d240e2c2ced6f13ae.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: gzLT1T-BtxLB1hRdRFbYzZR62R30iSTxPI7rptFzaCjN30SknAZXwQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"836807aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE63444963444920240205165102\",\"approvalNum\":\"634449\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"634449\",\"rrn\":\"634449\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"42226112****8587\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"634449\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"634449\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE63444963444920240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165129\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":407500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":256400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":84300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2807500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:29.691 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":292100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":232000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":390800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":178100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":76400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":99200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":123000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":473800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":648900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":178600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":133000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4446000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":273900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":233600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":181800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":87,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":147100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":34300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":78300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":39000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":26700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":453000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\"","result":{"duration":179500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":145700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":541796200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:29.707 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"205856aBcD\"},\"transaction\":{\"approvalNum\":843535,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":843535,\"rrn\":843535,\"dateTime\":\"20240205165100\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"13729101****7114\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":843535,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":843535},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:30.247 response time in milliseconds: 540\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:28 GMT\n1 < x-amzn-RequestId: b279040a-a18d-46c2-8ddf-3226a8644839\n1 < x-amz-apigw-id: Srq_HHy2IAMEJgw=\n1 < X-Amzn-Trace-Id: Root=1-65c15860-3cc7058b6f48fdcc5a58da05\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 af3d2c4aae84cb3609a51b4e8756647a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 79nPDzMbnWHk-R9fNTlP2r5g796w9vnFPbqNgCvrUTR6QknLB7vmhQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"205856aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE84353584353520240205165100\",\"approvalNum\":\"843535\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"843535\",\"rrn\":\"843535\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"13729101****7114\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"843535\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"843535\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE84353584353520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165128\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":294900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":134700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":716577000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":131100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":108700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":142100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":18100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":15800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":78600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\"","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":327969800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:30.967 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2802\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"205856aBcD\"},\"transaction\":{\"approvalNum\":843535,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":843535,\"rrn\":843535,\"dateTime\":\"20240205165100\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"13729101****7114\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":843535,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":843535},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:31.293 response time in milliseconds: 326\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:29 GMT\n2 < x-amzn-RequestId: 9e38e39a-29d2-4d08-b037-efc383a7eb81\n2 < x-amz-apigw-id: Srq_SFbBoAMEa8Q=\n2 < X-Amzn-Trace-Id: Root=1-65c15861-6df01eb64244a609124e4c3e\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8b0b556682aca246cac2962455e370be.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: dSUlGdl_vBePBbL4HzOGlivRZ4v-Hfe3pt8WVQI8XrHHk_-q1OlHyg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"205856aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE84353584353520240205165102\",\"approvalNum\":\"843535\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"843535\",\"rrn\":\"843535\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"13729101****7114\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"843535\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"843535\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE84353584353520240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165129\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":322600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":132400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":138500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":32474300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:30.434 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":128200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":222800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":429500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":216500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":166800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":79000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":54700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":378600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":353900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":202300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":93300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3668000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":301200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":136500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":198300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":88,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":155700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":59000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":65800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":387000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\"","result":{"duration":234300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":168500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":39100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":327511100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:30.478 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"613447aBcD\"},\"transaction\":{\"approvalNum\":756869,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":756869,\"rrn\":756869,\"dateTime\":\"20240205165100\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"59903341****1772\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":756869,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":756869},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:30.803 response time in milliseconds: 325\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:29 GMT\n1 < x-amzn-RequestId: 4b78638e-ac16-49b4-9092-549f5244f45b\n1 < x-amz-apigw-id: Srq_NFbuoAMEcVg=\n1 < X-Amzn-Trace-Id: Root=1-65c15861-6fa7bf820a148c11369d61bc\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 17ce9cbcbc686d5320c94e5563c8e4e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: xDZVgivgdIXusmxbyA2zPqu-pCu-W0AyLOxjQp0btDPiRGCl_v8oWg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"613447aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE75686975686920240205165100\",\"approvalNum\":\"756869\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"756869\",\"rrn\":\"756869\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"59903341****1772\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"756869\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"756869\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE75686975686920240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165129\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":337000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":483500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":349900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":704320800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":147500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":66800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":109000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":27300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":19400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":41700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\"","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":317452200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:31.512 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"613447aBcD\"},\"transaction\":{\"approvalNum\":756869,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":756869,\"rrn\":756869,\"dateTime\":\"20240205165100\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"59903341****1772\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":756869,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":756869},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:31.827 response time in milliseconds: 315\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:30 GMT\n2 < x-amzn-RequestId: 8266b259-da75-4971-a850-d8ef58512402\n2 < x-amz-apigw-id: Srq_XF0FIAMEaMg=\n2 < X-Amzn-Trace-Id: Root=1-65c15862-797b63be40cf25745391f550\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 696c8415a4298d6cdc615fcf825987ee.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: ufQikQWAoWSV8RaU0itv4FlWXU19CDmjMMwUcIY1_xN8Gv-UOGR06w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"613447aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE75686975686920240205165102\",\"approvalNum\":\"756869\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"756869\",\"rrn\":\"756869\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"59903341****1772\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"756869\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"756869\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE75686975686920240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165130\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":360000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":200600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":100700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2745700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:30.769 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":258700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":570100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":959700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":439800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":182800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":133300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":129900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":855800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":694900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":166600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":143500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8449700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":337100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":151100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":91400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":89,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":109000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":20600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":13400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":55000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":112400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":519200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\"","result":{"duration":191200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":131900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":34500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":316508400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:30.789 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"754635aBcD\"},\"transaction\":{\"approvalNum\":759592,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":759592,\"rrn\":759592,\"dateTime\":\"20240205165100\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"69647863****4394\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":759592,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":759592},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:31.103 response time in milliseconds: 314\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:29 GMT\n1 < x-amzn-RequestId: fbed9747-0f5e-45aa-8a47-3f255887efc9\n1 < x-amz-apigw-id: Srq_QF_goAMEB_w=\n1 < X-Amzn-Trace-Id: Root=1-65c15861-2f2b413c26d9fd17796dc43d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c919c9f17e93c83384b6ac4ae98b8bba.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: 39kuOaxVOc5ZAdeW2oOt9yplRx1JXkvVVvYX1r0fYaX3ufjL9yLv2Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"754635aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE75959275959220240205165100\",\"approvalNum\":\"759592\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"759592\",\"rrn\":\"759592\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"69647863****4394\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"759592\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"759592\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE75959275959220240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165129\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":304500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":150900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":70500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":703993700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":182900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":91500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":52100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":125700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":34700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":83800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\"","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":44300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":27800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":501626000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:31.812 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2813\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"754635aBcD\"},\"transaction\":{\"approvalNum\":759592,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":759592,\"rrn\":759592,\"dateTime\":\"20240205165100\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"69647863****4394\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":759592,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":759592},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:32.311 response time in milliseconds: 498\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 777\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:30 GMT\n2 < x-amzn-RequestId: f69c75ea-ff8a-451a-a7a9-266c202cd289\n2 < x-amz-apigw-id: Srq_bF21oAMEaMg=\n2 < X-Amzn-Trace-Id: Root=1-65c15862-288f88391386397010949f7a\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 8b0b556682aca246cac2962455e370be.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: KqZy6pgQq07ldMSQHQCoU1TRexMzFUZZdGmBDR0twkmULY0wW4NpTA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"754635aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE75959275959220240205165102\",\"approvalNum\":\"759592\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"759592\",\"rrn\":\"759592\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"69647863****4394\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"759592\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"759592\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE75959275959220240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165130\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":346000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":151000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":85000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2750100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:30.900 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":112400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":157400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":280900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":155300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":101100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":51000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":336900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":301200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":66800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5365300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":533100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":297300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":102500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":90,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":251200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":87200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":609700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\"","result":{"duration":274800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":119700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":329447000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:30.915 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"363432aBcD\"},\"transaction\":{\"approvalNum\":210047,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":210047,\"rrn\":210047,\"dateTime\":\"20240205165100\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"52222299****5284\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":210047,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":210047},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:31.243 response time in milliseconds: 328\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 763\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:29 GMT\n1 < x-amzn-RequestId: 6d55edb0-be8e-4568-b7c5-93c0f9a16cb7\n1 < x-amz-apigw-id: Srq_RFQ1oAMEQdQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15861-4f0e27493907ff6f2773f466\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 3601b3583b8fa2c1ff5a4060892d24b2.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: -btb6az0WxqvTpvdXG8OM9SSG0g-xRWoRt5SP4osgaabFd-DIWBgqg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"363432aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE21004721004720240205165100\",\"approvalNum\":\"210047\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"210047\",\"rrn\":\"210047\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"52222299****5284\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"210047\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"210047\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE21004721004720240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165129\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":273500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":83800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":703945000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":94500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":45400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":83900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":85300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\"","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":533530600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:31.950 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2799\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"363432aBcD\"},\"transaction\":{\"approvalNum\":210047,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":210047,\"rrn\":210047,\"dateTime\":\"20240205165100\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"52222299****5284\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":210047,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":210047},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:32.482 response time in milliseconds: 532\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 763\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:30 GMT\n2 < x-amzn-RequestId: 9e8cc8ac-7ce8-4b94-9f20-4208c73fdc65\n2 < x-amz-apigw-id: Srq_eEcToAMEIJw=\n2 < X-Amzn-Trace-Id: Root=1-65c15862-2277a46b76cb736700f03c24\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 cdf2e63ca525f9a875840d49cccd3ba6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: tfzQ5NAi4q-42SM6u3z0xh9NMd6wbY9LEywu5FEvnDPv8zz5IOR-jQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"363432aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE21004721004720240205165102\",\"approvalNum\":\"210047\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"210047\",\"rrn\":\"210047\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"52222299****5284\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"210047\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"210047\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE21004721004720240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165130\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":325700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":105600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":100100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2947900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:51:31.303 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":140100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":226600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":397400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":226600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":211600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":77100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":404700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":236600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":56600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":2874500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":300900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":98500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":68000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":91,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":102500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":23000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":62500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":19300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":409100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\"","result":{"duration":155500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":116900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":561567900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:51:31.315 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"139020aBcD\"},\"transaction\":{\"approvalNum\":666625,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":666625,\"rrn\":666625,\"dateTime\":\"20240205165100\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"33186988****9463\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":666625,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":666625},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:31.875 response time in milliseconds: 560\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:51:30 GMT\n1 < x-amzn-RequestId: 8848b074-e6c1-4493-9f50-8614e2f8e023\n1 < x-amz-apigw-id: Srq_XEcCIAMEiXg=\n1 < X-Amzn-Trace-Id: Root=1-65c15862-4ccc50a84e8c8ec770f6e954\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e778332efddc53006b892e6757c89284.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: LIM50-P1\n1 < X-Amz-Cf-Id: j-17VkO9jguvLQ3naceiL5HmxvXgzbICaZNqLnuMavhuuBJeBb0Kxw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"139020aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE66662566662520240205165100\",\"approvalNum\":\"666625\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"666625\",\"rrn\":\"666625\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"33186988****9463\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"666625\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"666625\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE66662566662520240205165100\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165130\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":199500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":48700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":705068300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":119700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":53800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '87654323456'","result":{"duration":112800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'BSSDF8WE'","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":53700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\"","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":326689200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:51:32.583 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5ODY4LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE2NjgsImlhdCI6MTcwNzE2OTg2OCwidmVyc2lvbiI6MiwianRpIjoiZTg0MzFlYTEtM2QxMC00NWU2LThiYjUtMWFjMWVmY2Y3ZDk5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.RRzY4eVycvuxYgV33XDVK-v9skGYQZf1q3ytPXGoKFaVQvtq7wZFkHEFIyc1s5YqG97nZ5fTRumZDsdIN3suGczJ3WCV0Vd-Pf_muwpdo9vFXjvBbEbrMabpfcppen9sk48amctMtX7XSceJnWV6qdoUpASjNr4qArXQEX31Za6v9k9MGaEfdLN-yDilTyJcwSy63ogbolTTzl1yygeiwEQk8xBmobcrPJztpkGLZWoi6rAjyuf8hK_hf-iS4pTxVK5N6lUoCiknjMczqKVxruvw9KInY9-_-A-CElGstxBX4NpKGjLnyDMXPpRPeTOrbu3Xr2CejeZoF-gg7-Gw4A\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"139020aBcD\"},\"transaction\":{\"approvalNum\":666625,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1651\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":666625,\"rrn\":666625,\"dateTime\":\"20240205165100\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"33186988****9463\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":666625,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":666625},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:51:32.909 response time in milliseconds: 325\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:51:31 GMT\n2 < x-amzn-RequestId: b2184a0b-4436-468e-a194-7465af121843\n2 < x-amz-apigw-id: Srq_iHRXoAMERLA=\n2 < X-Amzn-Trace-Id: Root=1-65c15863-1d6eff3d1c157ce6529785e0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fa3530beeb0001c7dfc54ff5a427fa96.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: LIM50-P1\n2 < X-Amz-Cf-Id: msJmHk5tQBp1FhdibIQZdvmTCLMCpKzkDEFrRsFSHMyufv34IGmEcA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"139020aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE66662566662520240205165102\",\"approvalNum\":\"666625\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:51:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"666625\",\"rrn\":\"666625\",\"dateTime\":\"2024-02-05T16:51:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"33186988****9463\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"666625\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"666625\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE66662566662520240205165102\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165131\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":8200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":148500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":99400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]}],"name":"ADQUI\/TransaccionalADQUI02.feature","description":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","id":"ejecutar-endpoint-para-crear-una-transaccion-aprobada-con-firma-y-validando-distintos-datos-de-respuesta","keyword":"Feature","uri":"ADQUI\/TransaccionalADQUI02.feature"}]