[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":63218100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"15:55:06.267 << lock released, cached callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"helper\/CrearTokenDEVADQUI.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4,"doc_string":{"content_type":"","value":"{\n  \"pathUrl\": \"\/transactional\/api\/vouchers\/transactions\",\n  \"apiToken\": \"https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token\",\n  \"url\": \"https:\/\/api.redebanvd.net\",\n  \"apiKey\": \"tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\",\n  \"tokenAuthorization\": \"Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA==\"\n}\n","line":4}},{"name":"url apiToken","result":{"duration":1002500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":4,"doc_string":{"content_type":"","value":"15:55:04.953 karate.env system property was: dev-adqui \n15:55:04.959 >> lock acquired, begin callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"header Content-Type = 'application\/x-www-form-urlencoded'","result":{"duration":1266900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":5},{"name":"header Authorization = tokenAuthorization","result":{"duration":352200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":6},{"name":"request 'grant_type=client_credentials&Scope=consumers%2Ffabrica'","result":{"duration":668600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":7},{"name":"method post","result":{"duration":1235018900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":8,"doc_string":{"content_type":"","value":"15:55:05.387 request:\n1 > POST https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Authorization: Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA==\n1 > Content-Length: 55\n1 > Host: voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&Scope=consumers%2Ffabrica\n\n15:55:06.210 response time in milliseconds: 817\n1 < 200\n1 < Date: Fri, 19 Jan 2024 20:55:06 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Content-Security-Policy-Report-Only: script-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; style-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; img-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; report-uri https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/cspreport\n1 < x-amz-cognito-request-id: 60a9116c-f255-41a4-ba0c-8f066fb8e1ac\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n1 < Set-Cookie: XSRF-TOKEN=e91d0a67-c1a8-4c79-a8d4-7b0d7fe1e7c7; Domain=voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; Secure\n{\"access_token\":\"eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA1Njk3NzA2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDU2OTk1MDYsImlhdCI6MTcwNTY5NzcwNiwidmVyc2lvbiI6MiwianRpIjoiMzczNGZhMjQtZWU5NC00Y2NjLThhNmUtM2U5Y2VlZWY1OTYwIiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AqgjTEhBxuosSj87tBCWsXZWKndqFs_2mvW2w5va9clMuTZyFWgm0yX5Rz5GT9yeK_xEvFxrYR9qTqxjPVkIbErww_HiJFlWUxVODlMdK-ZTJgutje5kJuAUuNb6d4FfBy9srBGoLO-dmVWsk4hHnd-BY758-ht39r4juhXtpjh9T43X1dUe33JfLGelvpXffhQdf0G50_tQkvpaGH3ivDpSlxePYbhleogtolquvBrho7lPQeD2KHsAySaUBn5rbh6GXLmdinv_RNH00Yw0RYsUpwn8N17-L1UZtLJXXVQedobfrYOwOAAeSpGZFieaAhWl1Vw1K58nhxcT4JH6Tw\",\"expires_in\":1800,\"token_type\":\"Bearer\"}\n\n","line":8}},{"name":"status 200","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":9},{"name":"def access_token = response.access_token","result":{"duration":6715100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":1433200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":26390400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":46448700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":4235400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":1500500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":854800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1092600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":14609500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":4291400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1197800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":761400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":452718500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2230100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":2821900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":2073800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":52,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":2931400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":301600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":1102200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":570100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":3505600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":915700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":764400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":603000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":191200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":404917900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"15:55:06.942 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA1Njk3NzA2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDU2OTk1MDYsImlhdCI6MTcwNTY5NzcwNiwidmVyc2lvbiI6MiwianRpIjoiMzczNGZhMjQtZWU5NC00Y2NjLThhNmUtM2U5Y2VlZWY1OTYwIiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AqgjTEhBxuosSj87tBCWsXZWKndqFs_2mvW2w5va9clMuTZyFWgm0yX5Rz5GT9yeK_xEvFxrYR9qTqxjPVkIbErww_HiJFlWUxVODlMdK-ZTJgutje5kJuAUuNb6d4FfBy9srBGoLO-dmVWsk4hHnd-BY758-ht39r4juhXtpjh9T43X1dUe33JfLGelvpXffhQdf0G50_tQkvpaGH3ivDpSlxePYbhleogtolquvBrho7lPQeD2KHsAySaUBn5rbh6GXLmdinv_RNH00Yw0RYsUpwn8N17-L1UZtLJXXVQedobfrYOwOAAeSpGZFieaAhWl1Vw1K58nhxcT4JH6Tw\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2798\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":2012202301,\"terminalId\":\"LEAL2022\",\"techVersion\":\"V-T35T\",\"atmId\":\"625092aBcD\"},\"transaction\":{\"approvalNum\":808218,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240119\",\"hour\":\"1555\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":808218,\"rrn\":808218,\"dateTime\":\"20240119155500\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"39056683****6540\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":808218,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":808218},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n15:55:07.341 response time in milliseconds: 399\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 764\n2 < Connection: keep-alive\n2 < Date: Fri, 19 Jan 2024 20:55:07 GMT\n2 < x-amzn-RequestId: 3ae9b63e-462b-4087-b474-a04f37043ecb\n2 < x-amz-apigw-id: Rzgy4E3XIAMEXJg=\n2 < X-Amzn-Trace-Id: Root=1-65aae1ab-5ce8f31c754017b92459eda9\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: VWmRdSwFk6UbOq3_3nR2NNEqMGY08zzKNLanmT6mBnH9UxJkaMhqbg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"2012202301\",\"terminalId\":\"LEAL2022\",\"techVersion\":\"V-T35T\",\"atmId\":\"625092aBcD\"},\"transaction\":{\"voucherId\":\"LEAL202280821880821820240119155500\",\"approvalNum\":\"808218\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-01-19\",\"hour\":\"15:55:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"808218\",\"rrn\":\"808218\",\"dateTime\":\"2024-01-19T15:55:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"39056683****6540\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"808218\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"808218\"}}],\"status\":[{\"transactionId\":\"LEAL202280821880821820240119155500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240119155507\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":9810400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1295500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":5172000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":717484900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":357500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":374800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":163100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '05'","result":{"duration":903500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":360400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":385800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":321500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":153300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":404716200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"15:55:08.082 request:\n3 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n3 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n3 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA1Njk3NzA2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDU2OTk1MDYsImlhdCI6MTcwNTY5NzcwNiwidmVyc2lvbiI6MiwianRpIjoiMzczNGZhMjQtZWU5NC00Y2NjLThhNmUtM2U5Y2VlZWY1OTYwIiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AqgjTEhBxuosSj87tBCWsXZWKndqFs_2mvW2w5va9clMuTZyFWgm0yX5Rz5GT9yeK_xEvFxrYR9qTqxjPVkIbErww_HiJFlWUxVODlMdK-ZTJgutje5kJuAUuNb6d4FfBy9srBGoLO-dmVWsk4hHnd-BY758-ht39r4juhXtpjh9T43X1dUe33JfLGelvpXffhQdf0G50_tQkvpaGH3ivDpSlxePYbhleogtolquvBrho7lPQeD2KHsAySaUBn5rbh6GXLmdinv_RNH00Yw0RYsUpwn8N17-L1UZtLJXXVQedobfrYOwOAAeSpGZFieaAhWl1Vw1K58nhxcT4JH6Tw\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Content-Length: 2798\n3 > Host: api.redebanvd.net\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n3 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":2012202301,\"terminalId\":\"LEAL2022\",\"techVersion\":\"V-T35T\",\"atmId\":\"625092aBcD\"},\"transaction\":{\"approvalNum\":808218,\"responseCode\":\"12\",\"status\":\"05\",\"date\":\"20240119\",\"hour\":\"1555\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":808218,\"rrn\":808218,\"dateTime\":\"20240119155500\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"39056683****6540\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":808218,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":808218},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n15:55:08.484 response time in milliseconds: 402\n3 < 200\n3 < Content-Type: application\/json\n3 < Content-Length: 764\n3 < Connection: keep-alive\n3 < Date: Fri, 19 Jan 2024 20:55:08 GMT\n3 < x-amzn-RequestId: 791e7541-d9b6-4824-b66f-79f24df56b76\n3 < x-amz-apigw-id: RzgzEGvUIAMEIKA=\n3 < X-Amzn-Trace-Id: Root=1-65aae1ac-353fba565f5486337910a787\n3 < X-Cache: Miss from cloudfront\n3 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n3 < X-Amz-Cf-Pop: BOG50-C1\n3 < X-Amz-Cf-Id: cIhc3uy25M44C8_MHqlisy6B5XFGvqaO8KAmmz0nf5EpuuZeTmITsg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"2012202301\",\"terminalId\":\"LEAL2022\",\"techVersion\":\"V-T35T\",\"atmId\":\"625092aBcD\"},\"transaction\":{\"voucherId\":\"LEAL202280821880821820240119155505\",\"approvalNum\":\"808218\",\"responseCode\":\"12\",\"status\":\"05\",\"date\":\"2024-01-19\",\"hour\":\"15:55:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"808218\",\"rrn\":\"808218\",\"dateTime\":\"2024-01-19T15:55:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"39056683****6540\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"808218\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"808218\"}}],\"status\":[{\"transactionId\":\"LEAL202280821880821820240119155505\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240119155508\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":632000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '05'","result":{"duration":790900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":195500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]}],"name":"CORRandADQUI\/TransaccionalADQUI.feature","description":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","id":"ejecutar-endpoint-para-crear-una-transaccion-aprobada-con-firma-y-validando-distintos-datos-de-respuesta","keyword":"Feature","uri":"CORRandADQUI\/TransaccionalADQUI.feature"}]