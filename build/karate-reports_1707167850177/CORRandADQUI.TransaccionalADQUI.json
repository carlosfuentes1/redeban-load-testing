[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":31295700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:26.995 karate.env system property was: dev-adqui \n16:16:28.671 this thread waited 1654 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":1533300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":15895300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":81256200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":9248700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":857300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":4890300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1037500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":23807200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":9617100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":5378400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":9259200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":734371100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2357700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":5049200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":2111500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":52,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":85159000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":1854900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":2855200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":174200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":2476600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":1572400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":3198600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":982000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":163100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":387168100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:29.739 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2800\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"591808aBcD\"},\"transaction\":{\"approvalNum\":513915,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":513915,\"rrn\":513915,\"dateTime\":\"20240205161600\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"54776262****1966\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":513915,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":513915},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:30.119 response time in milliseconds: 380\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 765\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:28 GMT\n1 < x-amzn-RequestId: fb62c6ad-6acc-4f5c-9b02-443c75a5831e\n1 < x-amz-apigw-id: Srl2-HI7IAMESGQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1502c-189356b432e2490f160437ac\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: abmV-S7f4KoDRw2jEr8F0Ej0ERywR6apA7Yr96hh1PgwtWm9NzPJQw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"591808aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE51391551391520240205161600\",\"approvalNum\":\"513915\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"513915\",\"rrn\":\"513915\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"54776262****1966\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"513915\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"513915\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE51391551391520240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161628\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":23874800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1196200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":8933500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":729679400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":116200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":2795100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":121800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":765200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":957600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":819000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":814400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":108400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":519361900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:30.894 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2800\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"591808aBcD\"},\"transaction\":{\"approvalNum\":513915,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":513915,\"rrn\":513915,\"dateTime\":\"20240205161600\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"54776262****1966\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":513915,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":513915},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:31.411 response time in milliseconds: 517\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 765\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:29 GMT\n2 < x-amzn-RequestId: 81bd5618-1a40-4d58-96dd-c4764fb374f6\n2 < x-amz-apigw-id: Srl3LHJkIAMEdfQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1502d-3700f7b93480c532461dbba1\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 31lvIdPXQx4tX0e8Znwg3OO1y262Q2NaS1d4vMTq1_m9429fDY5moQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"591808aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE51391551391520240205161602\",\"approvalNum\":\"513915\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"513915\",\"rrn\":\"513915\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"54776262****1966\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"513915\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"513915\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE51391551391520240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161629\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":821400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":23168300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":332600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":31712300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:26.995 karate.env system property was: dev-adqui \n16:16:28.671 this thread waited 1654 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":877600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":16275800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":77177800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":12276900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":3829100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":4339700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":5916200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":18469900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":20700000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":6975700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":1802100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":741383500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":18387500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":3892500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1924200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":53,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1899300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":208800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":490300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":149600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":3748400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":1433600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\"","result":{"duration":1021900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":845300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":234300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":487402100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:29.670 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"626376aBcD\"},\"transaction\":{\"approvalNum\":390476,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":390476,\"rrn\":390476,\"dateTime\":\"20240205161600\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"55508123****7214\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":390476,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":390476},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:30.145 response time in milliseconds: 475\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:28 GMT\n1 < x-amzn-RequestId: e2a593b5-ed26-426e-a00a-6efb2200a704\n1 < x-amz-apigw-id: Srl2-HOqoAMECxQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1502c-1696d9272999a20f68d0c61b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: QSsdlw4yOIfArA_WDMJHGRwJ6zj30jDd5FxzlU3H2keMOCSiZOqRjQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"626376aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE39047639047620240205161600\",\"approvalNum\":\"390476\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"390476\",\"rrn\":\"390476\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"55508123****7214\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"390476\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"390476\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE39047639047620240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161628\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1936500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1644000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":1731400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":730073500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":2036100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":1395700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":121100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":708500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":741200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\"","result":{"duration":718100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":750500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":99600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":377934400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:30.895 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"626376aBcD\"},\"transaction\":{\"approvalNum\":390476,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":390476,\"rrn\":390476,\"dateTime\":\"20240205161600\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"55508123****7214\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":390476,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":390476},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:31.270 response time in milliseconds: 374\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 770\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:29 GMT\n2 < x-amzn-RequestId: 1c7e232f-03ef-4c5f-b85a-45b28b9ad5f8\n2 < x-amz-apigw-id: Srl3JH5poAMEWgQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1502d-3ac3fd253734ea634a710689\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: fcQjcc04W7Wrm2bKSBYXeNYg0K4zK1PjCSVi5WzmaYs56hMC6AM_YA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"626376aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE39047639047620240205161602\",\"approvalNum\":\"390476\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"390476\",\"rrn\":\"390476\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"55508123****7214\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"390476\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"390476\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE39047639047620240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161629\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":901000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":1303100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":706500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":31837800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:28.671 << lock released, cached callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"helper\/CrearTokenDEVADQUI.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":4,"doc_string":{"content_type":"","value":"{\n  \"pathUrl\": \"\/transactional\/api\/vouchers\/transactions\",\n  \"apiToken\": \"https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token\",\n  \"url\": \"https:\/\/api.redebanvd.net\",\n  \"apiKey\": \"tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\",\n  \"tokenAuthorization\": \"Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA==\"\n}\n","line":4}},{"name":"url apiToken","result":{"duration":1332000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":4,"doc_string":{"content_type":"","value":"16:16:26.995 karate.env system property was: dev-adqui \n16:16:27.016 >> lock acquired, begin callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"header Content-Type = 'application\/x-www-form-urlencoded'","result":{"duration":2251100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":5},{"name":"header Authorization = tokenAuthorization","result":{"duration":464000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":6},{"name":"request 'grant_type=client_credentials&Scope=consumers%2Ffabrica'","result":{"duration":1293300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":7},{"name":"method post","result":{"duration":1549260600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":8,"doc_string":{"content_type":"","value":"16:16:27.832 request:\n1 > POST https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Authorization: Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA==\n1 > Content-Length: 55\n1 > Host: voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&Scope=consumers%2Ffabrica\n\n16:16:28.611 response time in milliseconds: 768\n1 < 200\n1 < Date: Mon, 05 Feb 2024 21:16:26 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Content-Security-Policy-Report-Only: script-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; style-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; img-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; report-uri https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/cspreport\n1 < x-amz-cognito-request-id: 778230c5-4343-4d8a-8fc3-f4b3e0b9306e\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n1 < Set-Cookie: XSRF-TOKEN=5b222a39-aabe-44cc-b143-6936c6ed0d21; Domain=voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; Secure\n{\"access_token\":\"eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\",\"expires_in\":1800,\"token_type\":\"Bearer\"}\n\n","line":8}},{"name":"status 200","result":{"duration":28200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":9},{"name":"def access_token = response.access_token","result":{"duration":6097200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":1742800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":11893500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":80281700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":12670900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":849900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":651800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1204600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":35537200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":7339300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":1471500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":1246700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":774243500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2237000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":2305100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1281100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":54,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":998300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":116100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":468300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":126900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":3236300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":2225100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\"","result":{"duration":1082600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":966500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":129700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":475315600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:29.668 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2816\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"469216aBcD\"},\"transaction\":{\"approvalNum\":396510,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":396510,\"rrn\":396510,\"dateTime\":\"20240205161600\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"38723575****1942\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":396510,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":396510},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:30.137 response time in milliseconds: 469\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 781\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:28 GMT\n2 < x-amzn-RequestId: 3bfb88e6-4a96-4e91-88dc-4c7bacc6f9a9\n2 < x-amz-apigw-id: Srl2-EXAoAMEQdQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1502c-2dc7f6564dd2dec628b55aef\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 064907318388ddb71d9d0db586a17f3a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: WHVa62-0ao9YqWTrsdbDAo8AMUA2zyUxgPAvAn8IvOWSWVsYYeV5tg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"469216aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE39651039651020240205161600\",\"approvalNum\":\"396510\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"396510\",\"rrn\":\"396510\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"38723575****1942\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"396510\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"396510\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE39651039651020240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161628\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":5947300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1650000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":8933900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":730073700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":178600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":850500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":115600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":1091000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":862200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\"","result":{"duration":796100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":822100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":97700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":261373800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:30.893 request:\n3 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n3 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n3 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Content-Length: 2816\n3 > Host: api.redebanvd.net\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n3 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"469216aBcD\"},\"transaction\":{\"approvalNum\":396510,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":396510,\"rrn\":396510,\"dateTime\":\"20240205161600\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"38723575****1942\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":396510,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":396510},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:31.151 response time in milliseconds: 258\n3 < 200\n3 < Content-Type: application\/json\n3 < Content-Length: 781\n3 < Connection: keep-alive\n3 < Date: Mon, 05 Feb 2024 21:16:29 GMT\n3 < x-amzn-RequestId: d684239b-042c-44a6-bebc-57c3448d9afb\n3 < x-amz-apigw-id: Srl3IEn0IAMEhyw=\n3 < X-Amzn-Trace-Id: Root=1-65c1502d-770d43165cb0a7d3346b8f4e\n3 < X-Cache: Miss from cloudfront\n3 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n3 < X-Amz-Cf-Pop: BOG50-C1\n3 < X-Amz-Cf-Id: sun-jV6lxdWlGJfHfISOCNBBff2CSuvNJQvn3166wNzKnjlPKVDqRw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"469216aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE39651039651020240205161602\",\"approvalNum\":\"396510\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"396510\",\"rrn\":\"396510\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"38723575****1942\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"396510\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"396510\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE39651039651020240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161629\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":18200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":976800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":1174000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":345000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":31873600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:26.996 karate.env system property was: dev-adqui \n16:16:28.672 this thread waited 1655 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":1436300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":12112200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":81676100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":10440900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":1916400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":1217900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":2610000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":31459200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":4291500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":728200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":4853100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":776235900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1850200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":2362100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1597800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":55,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1569100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":256300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":618100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":118300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":3977900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":2226200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\"","result":{"duration":850100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":892200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":137100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":539970500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:29.668 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"538811aBcD\"},\"transaction\":{\"approvalNum\":627457,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":627457,\"rrn\":627457,\"dateTime\":\"20240205161600\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"51377686****6537\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":627457,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":627457},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:30.201 response time in milliseconds: 533\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:28 GMT\n1 < x-amzn-RequestId: 4aaf2764-16d8-4738-992c-d3e49cd6aae0\n1 < x-amz-apigw-id: Srl2_Fh9oAMEQ4g=\n1 < X-Amzn-Trace-Id: Root=1-65c1502c-2c46e9a238cb56ad06a6fa37\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: oGAlaWrw-tZJzkqPUt5bQIBX9aoDxzBeGXkPyrvVGZmElZkdhn-bEg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"538811aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE62745762745720240205161600\",\"approvalNum\":\"627457\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"627457\",\"rrn\":\"627457\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"51377686****6537\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"627457\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"627457\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE62745762745720240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161628\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":19000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1404600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1113600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":943400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":708815000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":227900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":995900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":164400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":1156600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":854500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\"","result":{"duration":1651200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":1611000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":162300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":404558600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:30.926 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"538811aBcD\"},\"transaction\":{\"approvalNum\":627457,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":627457,\"rrn\":627457,\"dateTime\":\"20240205161600\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"51377686****6537\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":627457,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":627457},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:31.327 response time in milliseconds: 401\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:29 GMT\n2 < x-amzn-RequestId: 2406fa3f-3185-4c4a-8716-8bb5ecf780e2\n2 < x-amz-apigw-id: Srl3KGHoIAMEE1g=\n2 < X-Amzn-Trace-Id: Root=1-65c1502d-57d8a74a03935d6c540969cb\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 5q6jPTskDR4g0WFZrSU9p87WGd22DDYuHFMp82WLJ3lUkpNxirU3lQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"538811aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE62745762745720240205161602\",\"approvalNum\":\"627457\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"627457\",\"rrn\":\"627457\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"51377686****6537\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"627457\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"627457\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE62745762745720240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161629\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":775300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":1007500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":235100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":74487300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:31.169 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":744800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1635400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":2728800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":745000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":514600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":430300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":564300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":3464900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2392900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":578000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":425600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":388640000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2519600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":7001100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":6560600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":56,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1768100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":694000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":779000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":148400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1190900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":875000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\"","result":{"duration":685400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":669700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":92900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":226374700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:31.677 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"670670aBcD\"},\"transaction\":{\"approvalNum\":831859,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":831859,\"rrn\":831859,\"dateTime\":\"20240205161600\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"41925072****2019\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":831859,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":831859},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:31.900 response time in milliseconds: 223\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:30 GMT\n1 < x-amzn-RequestId: c826de16-649b-4e95-9830-640eec26861b\n1 < x-amz-apigw-id: Srl3QEh_IAMEIbA=\n1 < X-Amzn-Trace-Id: Root=1-65c1502e-34ae99967d9b09466ce8ad14\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 5TpKIY8h81uUW2NjdgK3_qSuL0u1rOImUzyspdY4WAswp-qRosT2gA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"670670aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE83185983185920240205161600\",\"approvalNum\":\"831859\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"831859\",\"rrn\":\"831859\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"41925072****2019\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"831859\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"831859\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE83185983185920240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161630\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":843900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1148000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":271300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":710766400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":362700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":310300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":998600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":551900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":284800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\"","result":{"duration":232200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":197100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":77000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":709047100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:32.621 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2811\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"670670aBcD\"},\"transaction\":{\"approvalNum\":831859,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":831859,\"rrn\":831859,\"dateTime\":\"20240205161600\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"41925072****2019\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":831859,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":831859},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:33.327 response time in milliseconds: 705\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 776\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:31 GMT\n2 < x-amzn-RequestId: 7b4063dc-579e-4e5e-99d0-68990c8e7a29\n2 < x-amz-apigw-id: Srl3eHVRIAMEdfQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1502f-7eba092e0e6d914d15c03571\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c044357f15da715d4a1fab016bbf0008.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: VNxBp0N7iLphGR1giNe2ZHyykdZf2vDrwNpGhbFm5sqrbhMuFfpWag==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"670670aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE83185983185920240205161602\",\"approvalNum\":\"831859\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"831859\",\"rrn\":\"831859\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"41925072****2019\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"831859\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"831859\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE83185983185920240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161631\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":428300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":569700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":636200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":207500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":6337200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:31.287 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":463900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1652300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":2594500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":845100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":438900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":393500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":361300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2770400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2278500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":449400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":505900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":16776700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1488000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":5437400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":8691400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":57,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1251900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":100100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":198200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":102600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1568400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":1067000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\"","result":{"duration":14924200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":1486900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":123000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":576648800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:31.367 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"372899aBcD\"},\"transaction\":{\"approvalNum\":819811,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":819811,\"rrn\":819811,\"dateTime\":\"20240205161600\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"28837767****9372\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":819811,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":819811},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:31.940 response time in milliseconds: 573\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:30 GMT\n1 < x-amzn-RequestId: 1715a7db-498e-4dd2-8ed4-2a921d3b1506\n1 < x-amz-apigw-id: Srl3QH8GoAMErkw=\n1 < X-Amzn-Trace-Id: Root=1-65c1502e-0ed5f01f10d215a57dab5715\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: _3mUZDYiwHwYUFLDU2MHBhohTfExxADbwu9SlOWmdwWux4ClDjbpUg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"372899aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE81981181981120240205161600\",\"approvalNum\":\"819811\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"819811\",\"rrn\":\"819811\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"28837767****9372\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"819811\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"819811\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE81981181981120240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161630\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":712800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":584300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":259500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":702698700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":827800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":283500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":100900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":354400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":257500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\"","result":{"duration":193200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":150200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":72500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":559834900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:32.651 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2812\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"372899aBcD\"},\"transaction\":{\"approvalNum\":819811,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":819811,\"rrn\":819811,\"dateTime\":\"20240205161600\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"28837767****9372\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":819811,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":819811},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:33.207 response time in milliseconds: 555\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 777\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:31 GMT\n2 < x-amzn-RequestId: 74a2ddbd-8771-46d2-b471-6bb5ad3ff845\n2 < x-amz-apigw-id: Srl3dFP2IAMEs4w=\n2 < X-Amzn-Trace-Id: Root=1-65c1502f-7e68e8375261522232d2518f\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 8R9whePcn1zJ8VbDpDbz1Wiotq2vj6WqD4HS0ZnfERVbbyoDkye1Gw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"372899aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE81981181981120240205161602\",\"approvalNum\":\"819811\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"819811\",\"rrn\":\"819811\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"28837767****9372\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"819811\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"819811\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE81981181981120240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161631\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":930400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":481000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":346600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3676400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:31.343 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":380000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1106800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1419300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":660600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":377200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":338200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":386000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1839500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2064400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":435700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":374400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":14807100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1987200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1622300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1363800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":58,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1353400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":166100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":688400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":119000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1679100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":952700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\"","result":{"duration":1039000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":1788400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":161400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":446942000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:31.392 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2818\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"932726aBcD\"},\"transaction\":{\"approvalNum\":886229,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":886229,\"rrn\":886229,\"dateTime\":\"20240205161600\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"48812053****4879\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":886229,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":886229},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:31.834 response time in milliseconds: 442\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 783\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:30 GMT\n1 < x-amzn-RequestId: d5fd247f-f105-4c38-a2ff-c8004e1d88a5\n1 < x-amz-apigw-id: Srl3PEr3oAMEfyw=\n1 < X-Amzn-Trace-Id: Root=1-65c1502e-57433e03714fabea0d3127d2\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: jQK1jHUilUwX1irYXKx7aJjaroQAgNnw3AsAXaKiEET2OSFVKHjqlQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"932726aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE88622988622920240205161600\",\"approvalNum\":\"886229\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"886229\",\"rrn\":\"886229\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"48812053****4879\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"886229\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"886229\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE88622988622920240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161630\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":848700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":521200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":398600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":715848600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":389500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":568100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":168500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":377500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":274900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\"","result":{"duration":273900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":218100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":61400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":646412000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:32.559 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2818\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"932726aBcD\"},\"transaction\":{\"approvalNum\":886229,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":886229,\"rrn\":886229,\"dateTime\":\"20240205161600\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"48812053****4879\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":886229,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":886229},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:33.201 response time in milliseconds: 641\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 783\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:31 GMT\n2 < x-amzn-RequestId: 3f5d1483-c422-473d-9c00-3d3cceb60cff\n2 < x-amz-apigw-id: Srl3dEzxIAMEfyw=\n2 < X-Amzn-Trace-Id: Root=1-65c1502f-743b7ab17ab550f337c92e3d\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: lJFs66L0kyMhg7bpcnjCe25bsOlH_GcI2uAjaCLA-CHvwr2cJjR9sg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"932726aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE88622988622920240205161602\",\"approvalNum\":\"886229\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"886229\",\"rrn\":\"886229\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"48812053****4879\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"886229\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"886229\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE88622988622920240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161631\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":833600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":475400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":243500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":9246400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:31.447 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":556100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1210800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1908600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":950800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":501100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":371200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":335900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":3916900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":3513400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":487800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":405100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":44648400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":5809600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1565700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1390400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":59,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1377300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":115100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":10314900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":995300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":2262500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":1083600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\"","result":{"duration":1009900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":1276800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":141600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":404694200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:31.551 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"818134aBcD\"},\"transaction\":{\"approvalNum\":771500,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":771500,\"rrn\":771500,\"dateTime\":\"20240205161600\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"92789231****6921\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":771500,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":771500},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:31.952 response time in milliseconds: 401\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:30 GMT\n1 < x-amzn-RequestId: b1764a75-13e9-45d1-859a-5be8d9bb4e62\n1 < x-amz-apigw-id: Srl3QFk4oAMEcJQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1502e-6c8297585130861352eccf40\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d413fb750cb8c5d3a6bce4d80dedeb9a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: wsyXasXMLb9FmuGm4fwBguo2sElUuRFwUyrYIpBbKgycafd8P_sz1Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"818134aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE77150077150020240205161600\",\"approvalNum\":\"771500\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"771500\",\"rrn\":\"771500\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"92789231****6921\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"771500\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"771500\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE77150077150020240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161630\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":29500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":7292200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":859600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":493300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":715182400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":260600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":726000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":97900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":403700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":368700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\"","result":{"duration":203000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":147100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":704596200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:32.682 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"818134aBcD\"},\"transaction\":{\"approvalNum\":771500,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":771500,\"rrn\":771500,\"dateTime\":\"20240205161600\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"92789231****6921\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":771500,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":771500},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:33.384 response time in milliseconds: 702\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 769\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:31 GMT\n2 < x-amzn-RequestId: b780b573-6635-443d-a9e7-00266362589f\n2 < x-amz-apigw-id: Srl3eEhsIAMECPQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1502f-28414fed2c79f5c32ef4c115\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: e4ksIRHEu_WuLd94ib5YOIM6m-Nv_l1vj6FI6xjaIeoIkcgA9k0B5w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"818134aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE77150077150020240205161602\",\"approvalNum\":\"771500\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"771500\",\"rrn\":\"771500\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"92789231****6921\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"771500\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"771500\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE77150077150020240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161631\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":571500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":403200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":636900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":51826900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:33.210 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":377600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":482400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":913500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":1396300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":625900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":309900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":241800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1627100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1575100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":371800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":306700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":13964700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":998000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":578300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":390100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":60,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":345100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":61200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":93900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":397200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":1065800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\"","result":{"duration":897600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":678900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":82700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":264501000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:33.296 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2816\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"590349aBcD\"},\"transaction\":{\"approvalNum\":335902,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":335902,\"rrn\":335902,\"dateTime\":\"20240205161600\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"78803473****8047\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":335902,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":335902},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:33.556 response time in milliseconds: 260\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:31 GMT\n1 < x-amzn-RequestId: 0fcb5731-5981-4f47-ac43-eb0bc5e59cae\n1 < x-amz-apigw-id: Srl3gEmQoAMEBiQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1502f-153844362b8ef2b76677ff68\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: geu0FJyMSJkMf_Jx1ZsMNgRDNrs_PUJ28aioaaUIDBUFyqc-x98ftA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"590349aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE33590233590220240205161600\",\"approvalNum\":\"335902\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"335902\",\"rrn\":\"335902\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"78803473****8047\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"335902\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"335902\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE33590233590220240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161631\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":2004300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":545300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":614800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":714721700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":169800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":199800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":60400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":182200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":213300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\"","result":{"duration":175500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":142300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":133400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":220093900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:34.285 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2816\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"590349aBcD\"},\"transaction\":{\"approvalNum\":335902,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":335902,\"rrn\":335902,\"dateTime\":\"20240205161600\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"78803473****8047\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":335902,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":335902},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:34.502 response time in milliseconds: 217\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 781\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:32 GMT\n2 < x-amzn-RequestId: 946e5a5d-4332-44a5-aa09-6ca7e6a557e2\n2 < x-amz-apigw-id: Srl3qGEBoAMEEnw=\n2 < X-Amzn-Trace-Id: Root=1-65c15030-490993ef430e49ce2df16578\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: Mb5EQ1KuLQQLxT-W6HRgPMEys7SqHtYjaDILuemw-YYbBpm74p40Kw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"590349aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE33590233590220240205161602\",\"approvalNum\":\"335902\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"335902\",\"rrn\":\"335902\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"78803473****8047\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"335902\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"335902\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE33590233590220240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161632\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1096500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":662900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":688500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":6738500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:33.217 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":248300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1185300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1505500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":647500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":430800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":291500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":325100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1142300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1087100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":290000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":232300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8314300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":4010700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":670800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":515100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":61,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":330100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":63400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":120000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":62800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":270100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":1132200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\"","result":{"duration":802500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":741900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":90700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":370644600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:33.253 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"182771aBcD\"},\"transaction\":{\"approvalNum\":352359,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":352359,\"rrn\":352359,\"dateTime\":\"20240205161600\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"14521171****6566\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":352359,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":352359},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:33.620 response time in milliseconds: 367\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:31 GMT\n1 < x-amzn-RequestId: a85e2c52-12b2-4378-977b-9ecb608aed6b\n1 < x-amz-apigw-id: Srl3hE0NoAMEDqQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1502f-7e6ff08f5fc74fe12ce0ddbc\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: o3cFzQF3OzktxHWWsWbMKgXMO57_-1PNnhim9ct827IeP9ojExnMPw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"182771aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE35235935235920240205161600\",\"approvalNum\":\"352359\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"352359\",\"rrn\":\"352359\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"14521171****6566\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"352359\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"352359\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE35235935235920240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161631\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":160000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":941900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":3444000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":636200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":709291000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":195400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":1383900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":114800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":3688200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":1327200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\"","result":{"duration":704200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":513400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":101000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":392737300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:34.349 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"182771aBcD\"},\"transaction\":{\"approvalNum\":352359,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":352359,\"rrn\":352359,\"dateTime\":\"20240205161600\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"14521171****6566\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":352359,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":352359},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:34.738 response time in milliseconds: 389\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:33 GMT\n2 < x-amzn-RequestId: a761ec67-0b81-4e4f-b77e-bf78715db2b1\n2 < x-amz-apigw-id: Srl3sHuzIAMEFqQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15030-620c4e215be5fa745f1c02a1\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: ocXLCW_j-KzxBqRbd968PIstuzP5aUyV_oFSJWZkdKSo7pbWEt79ew==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"182771aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE35235935235920240205161602\",\"approvalNum\":\"352359\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"352359\",\"rrn\":\"352359\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"14521171****6566\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"352359\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"352359\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE35235935235920240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161633\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":985300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":641900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":1282500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":15021400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:33.335 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":353000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":533400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":971300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":514100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":322700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":342600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":274600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1135300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1059000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":282400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":255000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6121800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":785000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":495600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":400000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":62,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":331900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":98400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":67500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":266800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":948900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\"","result":{"duration":830500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":654800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":87800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":239385100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:33.372 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"192296aBcD\"},\"transaction\":{\"approvalNum\":867948,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":867948,\"rrn\":867948,\"dateTime\":\"20240205161600\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"43609088****2712\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":867948,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":867948},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:33.607 response time in milliseconds: 235\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:31 GMT\n1 < x-amzn-RequestId: db954dcf-e552-427b-978e-5ffcfc2a0184\n1 < x-amz-apigw-id: Srl3hHuJIAMEfEQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1502f-7f0194433766cadb76a0ffee\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: PgSt2CHxsKuJ3FhEs2xSIHj-MYzmXXNT65RUQe_v-8Or3iEYI9TN1g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"192296aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE86794886794820240205161600\",\"approvalNum\":\"867948\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"867948\",\"rrn\":\"867948\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"43609088****2712\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"867948\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"867948\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE86794886794820240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161631\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":919600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":806100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":362500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":710939900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":158500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":977900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":111000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":960400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":665000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\"","result":{"duration":547900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":568100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":73600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":363330400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:34.329 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2803\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"192296aBcD\"},\"transaction\":{\"approvalNum\":867948,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":867948,\"rrn\":867948,\"dateTime\":\"20240205161600\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"43609088****2712\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":867948,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":867948},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:34.690 response time in milliseconds: 359\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:32 GMT\n2 < x-amzn-RequestId: 607db241-c0c4-4e08-9d13-b5d8631fdcfc\n2 < x-amz-apigw-id: Srl3sFxCIAMECUQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15030-2c2fc42d7c462cfa6611cafe\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: ss7DKx5PycBi2-AhNH1rA-SDC9VP2sKcbC2V2WeBT1H2CbD91SewEQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"192296aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE86794886794820240205161602\",\"approvalNum\":\"867948\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"867948\",\"rrn\":\"867948\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"43609088****2712\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"867948\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"867948\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE86794886794820240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161632\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1139100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":930400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":782900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":15139400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:33.392 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":301000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":738000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1181100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":468600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":542900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":509300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":792500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":3650500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2512100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":520600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":606700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":11263300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1209700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1217000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":821500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":63,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":727900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":143100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":867200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":89300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":393500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":2114000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\"","result":{"duration":1440000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":1573900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":163600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":209958600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:33.455 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"498898aBcD\"},\"transaction\":{\"approvalNum\":717085,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":717085,\"rrn\":717085,\"dateTime\":\"20240205161600\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"81231121****1286\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":717085,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":717085},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:33.657 response time in milliseconds: 202\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:31 GMT\n1 < x-amzn-RequestId: f71c358a-5cdd-41ad-8279-37e44a9c75c7\n1 < x-amz-apigw-id: Srl3hFjPIAMEuoQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1502f-6aceece261eea1fa467846c2\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: xbphSBRGqooR2ZQwRrksfGI1BgHZcO9oaTKCGdPHmN__qsFCQ77bzw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"498898aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE71708571708520240205161600\",\"approvalNum\":\"717085\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"717085\",\"rrn\":\"717085\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"81231121****1286\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"717085\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"717085\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE71708571708520240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161631\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":847500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":453300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":175100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":708251300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":235400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":982000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":126200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":972500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":667500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\"","result":{"duration":575000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":546300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":80000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":338976700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:34.376 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"498898aBcD\"},\"transaction\":{\"approvalNum\":717085,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":717085,\"rrn\":717085,\"dateTime\":\"20240205161600\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"81231121****1286\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":717085,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":717085},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:34.712 response time in milliseconds: 336\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:32 GMT\n2 < x-amzn-RequestId: 5e8e461b-4a70-4082-9b80-849e610de7b1\n2 < x-amz-apigw-id: Srl3sE_RIAMEhOg=\n2 < X-Amzn-Trace-Id: Root=1-65c15030-1a2366de0df4e36c672de210\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: igU58WgPuAH3WQpxPf_0z5tq6WmhAmCSKnvZ6aSeElEuguRiN4VMuw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"498898aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE71708571708520240205161602\",\"approvalNum\":\"717085\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"717085\",\"rrn\":\"717085\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"81231121****1286\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"717085\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"717085\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE71708571708520240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161632\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":10082900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":2720700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":858300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":5013100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:34.513 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":298400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1070000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1206800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":379700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":203600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":189000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":234900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1644400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1444700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":298000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":239500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":50582800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1740400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":985200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":801000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":64,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":800800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":100000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":328200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":67000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":662100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":1740100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\"","result":{"duration":796200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":532300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":122900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":370287000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:34.591 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"448923aBcD\"},\"transaction\":{\"approvalNum\":181922,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":181922,\"rrn\":181922,\"dateTime\":\"20240205161600\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"15979823****8065\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":181922,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":181922},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:34.959 response time in milliseconds: 367\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:33 GMT\n1 < x-amzn-RequestId: d1b1c093-42bb-4d14-b051-d2dae758d22b\n1 < x-amz-apigw-id: Srl3uFt6oAMEfyg=\n1 < X-Amzn-Trace-Id: Root=1-65c15031-7134a8a16173cc8e242e6d2c\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: d0cPuVgWN0i0S9HSdM2b92WM79OBvRNbFDAdeO4ieWknCGq99J-o-g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"448923aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE18192218192220240205161600\",\"approvalNum\":\"181922\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"181922\",\"rrn\":\"181922\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"15979823****8065\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"181922\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"181922\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE18192218192220240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161633\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":15600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":750400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1017800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":228200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":710482100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":322000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":255000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":135400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":1824300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":305300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\"","result":{"duration":164700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":142000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":69500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":198723700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:35.678 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2806\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"448923aBcD\"},\"transaction\":{\"approvalNum\":181922,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":181922,\"rrn\":181922,\"dateTime\":\"20240205161600\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"15979823****8065\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":181922,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":181922},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:35.873 response time in milliseconds: 195\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 771\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:34 GMT\n2 < x-amzn-RequestId: d5534110-1070-49eb-8d6d-1254154c8eac\n2 < x-amz-apigw-id: Srl34EndIAMESuQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15032-79c3394822c074bc061ba579\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: fLnbxuIIWr_moS2xmYoHPtd7vLFU-bQbgsA1iL1sOVUTk41oxno5eA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"448923aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE18192218192220240205161602\",\"approvalNum\":\"181922\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"181922\",\"rrn\":\"181922\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"15979823****8065\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"181922\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"181922\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE18192218192220240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161634\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":533200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":325400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":130300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":78067600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:34.702 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":549000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":966500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1339900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":457600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":375500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":300000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":239800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2037400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2865100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":369000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":263400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9451100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1412500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":893300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":675100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":65,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":881900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":61000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":106600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":53600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":713100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":541000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\"","result":{"duration":450200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":441000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":230595800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:34.811 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"59863aBcD\"},\"transaction\":{\"approvalNum\":566073,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":566073,\"rrn\":566073,\"dateTime\":\"20240205161600\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"88982466****2479\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":566073,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":566073},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:35.039 response time in milliseconds: 228\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:33 GMT\n1 < x-amzn-RequestId: fb4c6530-45b7-4f3c-be05-f6757882cd2f\n1 < x-amz-apigw-id: Srl3vEe6IAMEH9A=\n1 < X-Amzn-Trace-Id: Root=1-65c15031-187a8cb032f18ed519c98d24\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: AbOxjjnskAQlMhJXOe_mcvTCBmlt660rGJde7nMeZyigRfhweUAijQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"59863aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE56607356607320240205161600\",\"approvalNum\":\"566073\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"566073\",\"rrn\":\"566073\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"88982466****2479\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"566073\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"566073\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE56607356607320240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161633\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":703200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":829500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":193700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":706607500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":122100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":228900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":55400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":199500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":157400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\"","result":{"duration":113200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":95700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":192423500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:35.751 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"59863aBcD\"},\"transaction\":{\"approvalNum\":566073,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":566073,\"rrn\":566073,\"dateTime\":\"20240205161600\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"88982466****2479\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":566073,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":566073},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:35.942 response time in milliseconds: 191\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 770\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:34 GMT\n2 < x-amzn-RequestId: c87b89fd-6322-42fc-85c0-3cae405c6482\n2 < x-amz-apigw-id: Srl34Ez_IAMENJQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15032-1a0b6f4d1ffefaf5782de178\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: _fJIQNfIP6YFZxSVDqvrCfemPgb07Gw9R9ezilHdsTwx5cpEvPjGyw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"59863aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE56607356607320240205161602\",\"approvalNum\":\"566073\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"566073\",\"rrn\":\"566073\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"88982466****2479\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"566073\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"566073\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE56607356607320240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161634\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":468300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":333400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":139000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":17325900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:34.734 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":218200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":3421900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1222500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":564800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":412400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":260200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":215600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1469100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1080600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":347900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":225200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8521300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2505300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1007100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":1574600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":66,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1112900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":90400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":174200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":62900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":780600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":552200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\"","result":{"duration":636000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":472400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":80000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":338524800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:34.783 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"20821aBcD\"},\"transaction\":{\"approvalNum\":486732,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":486732,\"rrn\":486732,\"dateTime\":\"20240205161600\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"59516812****9552\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":486732,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":486732},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:35.119 response time in milliseconds: 335\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:33 GMT\n1 < x-amzn-RequestId: 09b7a3c2-e639-465b-b2ce-9efeec0f20c3\n1 < x-amz-apigw-id: Srl3wFUQoAMEL1Q=\n1 < X-Amzn-Trace-Id: Root=1-65c15031-4b4d29ec51e8a98d64eb36d2\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c044357f15da715d4a1fab016bbf0008.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: YdwyFIDLvRIMHUUcDUDdj0e9ScFfJiNjk9OR9FwAKwDave20tXEkeA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"20821aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE48673248673220240205161600\",\"approvalNum\":\"486732\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"486732\",\"rrn\":\"486732\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"59516812****9552\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"486732\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"486732\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE48673248673220240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161633\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1018000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1006700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":234300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":702038900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":133100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":156100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":78600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":264500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":195400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\"","result":{"duration":101800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":75200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":218215200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:35.827 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2808\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"20821aBcD\"},\"transaction\":{\"approvalNum\":486732,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":486732,\"rrn\":486732,\"dateTime\":\"20240205161600\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"59516812****9552\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":486732,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":486732},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:36.043 response time in milliseconds: 216\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:34 GMT\n2 < x-amzn-RequestId: e3233ff3-d96f-46ac-93b4-a49ef80ca256\n2 < x-amz-apigw-id: Srl35ElWoAMEH9A=\n2 < X-Amzn-Trace-Id: Root=1-65c15032-5cc59e100bda45ec75f2d381\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: B2uC7flYaak2MN9-AUav8UB3ExaPCDFXub1JCMR9eb7kQMqf-4Q2GQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"20821aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE48673248673220240205161602\",\"approvalNum\":\"486732\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"486732\",\"rrn\":\"486732\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"59516812****9552\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"486732\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"486732\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE48673248673220240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161634\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":14500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":691700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":307700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":155200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3977300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:34.749 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":175800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":2585200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1341500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":327300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":852800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":266500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":250000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1274600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1059500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":318800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":420800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7424500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1044100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":654900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":3955700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":67,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":1123200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":84400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":153400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":1763000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":495100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\"","result":{"duration":495700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":456300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":67600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":386997400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:34.784 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"347006aBcD\"},\"transaction\":{\"approvalNum\":533625,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":533625,\"rrn\":533625,\"dateTime\":\"20240205161600\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"95616546****1271\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":533625,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":533625},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:35.169 response time in milliseconds: 384\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:33 GMT\n1 < x-amzn-RequestId: 4dc2244c-e827-49a7-951c-0f0e8ee2c318\n1 < x-amz-apigw-id: Srl3wH88oAMEiXg=\n1 < X-Amzn-Trace-Id: Root=1-65c15031-4bd686d23285502f70639b3d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: SFE7KKoUuBB4F4-oyb5Wy05KgpzpgcAYeWThHPm_dAKZQ3jrOuvU6Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"347006aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE53362553362520240205161600\",\"approvalNum\":\"533625\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"533625\",\"rrn\":\"533625\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"95616546****1271\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"533625\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"533625\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE53362553362520240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161633\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":674900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1055400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":205500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":715429900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":74000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":125600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":453600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":239400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\"","result":{"duration":136500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":137700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":47200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":231698500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:35.890 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2803\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"347006aBcD\"},\"transaction\":{\"approvalNum\":533625,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":533625,\"rrn\":533625,\"dateTime\":\"20240205161600\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"95616546****1271\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":533625,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":533625},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:36.119 response time in milliseconds: 229\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:34 GMT\n2 < x-amzn-RequestId: a6f83e18-54d9-4811-8a4d-475a753f780b\n2 < x-amz-apigw-id: Srl36FxhoAMEuoQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15032-11812414042c8c276609ed1b\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: ZtxGBHVmtP8Hj9hRRR51T4wDmouqbRIYlhaJRHIp0K7EgddyFer29A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"347006aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE53362553362520240205161602\",\"approvalNum\":\"533625\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"533625\",\"rrn\":\"533625\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"95616546****1271\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"533625\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"533625\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE53362553362520240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161634\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":506200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":249500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":415300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2517500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:35.878 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":184000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":335600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":649000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":345600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":250100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":183000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":169700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":746400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":714500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":213800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":171800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5324100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":517300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":316400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":230600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":68,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":198100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":41600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":32400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":151800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":808500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\"","result":{"duration":609200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":422900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":61500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":319565000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:35.896 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"999218aBcD\"},\"transaction\":{\"approvalNum\":906014,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":906014,\"rrn\":906014,\"dateTime\":\"20240205161600\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"85269366****8172\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":906014,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":906014},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:36.214 response time in milliseconds: 317\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:34 GMT\n1 < x-amzn-RequestId: 962e795e-e010-400c-98a5-48a500ff2c7d\n1 < x-amz-apigw-id: Srl37HbEoAMEb8A=\n1 < X-Amzn-Trace-Id: Root=1-65c15032-7f77c5386dc01d4529a2a6a0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: ToogfFbwnjtP69QDJ2zxFOysY6a9hrMmLrzBWHQIYyrSg-EUQ_EzQQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"999218aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE90601490601420240205161600\",\"approvalNum\":\"906014\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"906014\",\"rrn\":\"906014\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"85269366****8172\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"906014\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"906014\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE90601490601420240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161634\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1046900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":292700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":166500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":710343100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":206600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":163700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":64900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":194800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":123600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\"","result":{"duration":86000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":78500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":38800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":345678200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:36.929 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"999218aBcD\"},\"transaction\":{\"approvalNum\":906014,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":906014,\"rrn\":906014,\"dateTime\":\"20240205161600\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"85269366****8172\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":906014,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":906014},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:37.273 response time in milliseconds: 343\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 769\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:35 GMT\n2 < x-amzn-RequestId: cf475110-69ae-4da3-a5bc-e6284677c436\n2 < x-amz-apigw-id: Srl4GF1DIAMEv3Q=\n2 < X-Amzn-Trace-Id: Root=1-65c15033-4122745252ce0ff51bcd063a\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 5Di6S6etkfHL86V3LApomxjIIiXq-rgm4T8G924Tr5EJ1pdb3dN_Zw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"999218aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE90601490601420240205161602\",\"approvalNum\":\"906014\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"906014\",\"rrn\":\"906014\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"85269366****8172\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"906014\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"906014\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE90601490601420240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161635\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":885700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":464700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":645000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4557000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:35.947 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":180600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":445100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":645400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":297100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":163600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":128100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":143900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":697200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":614300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":238800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":342300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4207200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":516700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":313300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":245400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":69,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":189300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":62000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":145800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\"","result":{"duration":813100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\"","result":{"duration":541500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":383800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":60700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":188184800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:35.965 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"167348aBcD\"},\"transaction\":{\"approvalNum\":842494,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":842494,\"rrn\":842494,\"dateTime\":\"20240205161600\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"90631949****1641\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":842494,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":842494},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:36.152 response time in milliseconds: 187\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:34 GMT\n1 < x-amzn-RequestId: d35bd3af-6ab9-43b3-8817-0749f4a4a6dd\n1 < x-amz-apigw-id: Srl36H3qoAMEFqQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15032-0ed90bfc5dda887972980fb2\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 7_M20eZlnpirKbUr1Ki-W4J6AZIA079dtmPPB7IPUW6AjOk660r24g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"167348aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE84249484249420240205161600\",\"approvalNum\":\"842494\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"842494\",\"rrn\":\"842494\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"90631949****1641\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"842494\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"842494\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE84249484249420240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161634\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":515500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":264300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":145800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":710439700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":329100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":252100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":1138400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":2133800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\"","result":{"duration":544400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\"","result":{"duration":166000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":225900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":164200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":385235200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:36.873 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"167348aBcD\"},\"transaction\":{\"approvalNum\":842494,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":842494,\"rrn\":842494,\"dateTime\":\"20240205161600\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"90631949****1641\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":842494,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":842494},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:37.254 response time in milliseconds: 381\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 770\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:35 GMT\n2 < x-amzn-RequestId: c9ef09d5-b5b6-491a-886e-6e174d748051\n2 < x-amz-apigw-id: Srl4FF7LIAMEfyg=\n2 < X-Amzn-Trace-Id: Root=1-65c15033-378cea471baf5b105e308bc3\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: aYr4dkVz5T_TcmfIK_mDuuVqdBwKDoyUTl12LbimC965hsKZCgT5Ww==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"167348aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE84249484249420240205161602\",\"approvalNum\":\"842494\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"842494\",\"rrn\":\"842494\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"90631949****1641\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"842494\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"842494\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE84249484249420240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161635\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1091000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":624900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":703800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2843500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:36.050 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":154100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":303500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":681800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":652400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":361200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":191700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":167300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":788700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1213600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":195700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":416300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4420900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":690400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":365800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":265700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":70,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":276500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":38600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":205100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\"","result":{"duration":1037200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\"","result":{"duration":585500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":462200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":62200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":216846100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:36.070 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"508833aBcD\"},\"transaction\":{\"approvalNum\":494103,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":494103,\"rrn\":494103,\"dateTime\":\"20240205161600\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"42094631****5741\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":494103,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":494103},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:36.285 response time in milliseconds: 215\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:34 GMT\n1 < x-amzn-RequestId: c5d36b11-7e80-46e6-a7a1-26de796a40f7\n1 < x-amz-apigw-id: Srl38E7xoAMErxQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15032-56e019a84c1e052659a399e6\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Yz3ISbASpZiV-az_irVLo9Hi70KC9zAXcOQ-XNUMOWRyxg1c2i993w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"508833aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE49410349410320240205161600\",\"approvalNum\":\"494103\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"494103\",\"rrn\":\"494103\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"42094631****5741\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"494103\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"494103\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE49410349410320240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161634\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":100900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":450100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":245500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":528400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":701458100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":244400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":183400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":59200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":232000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\"","result":{"duration":172400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\"","result":{"duration":130100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":94300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":217166200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:36.992 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2801\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"508833aBcD\"},\"transaction\":{\"approvalNum\":494103,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":494103,\"rrn\":494103,\"dateTime\":\"20240205161600\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"42094631****5741\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":494103,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":494103},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:37.207 response time in milliseconds: 215\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:35 GMT\n2 < x-amzn-RequestId: d4d2966d-ee5c-4088-a7ca-2f596ee43553\n2 < x-amz-apigw-id: Srl4FGKnoAMETXA=\n2 < X-Amzn-Trace-Id: Root=1-65c15033-6a23bba4626859b22aa0452a\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 d413fb750cb8c5d3a6bce4d80dedeb9a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: G6l8NwuRof3bp8eTbk_HwtjvZUaIw-hkgGej2G8c08jBmBTsoGFAlQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"508833aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE49410349410320240205161602\",\"approvalNum\":\"494103\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"494103\",\"rrn\":\"494103\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"42094631****5741\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"494103\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"494103\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE49410349410320240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161635\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":11200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1026300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":500900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":599300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3469500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:36.125 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":201700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":836900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1720900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":785900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":241800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":180400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":159200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1678600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":967100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":221300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":183200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5393500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":573300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":338100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":368200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":71,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":244000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":41200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":34800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":189000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\"","result":{"duration":803700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\"","result":{"duration":697400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":548200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":83300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":351865100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:36.149 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"866794aBcD\"},\"transaction\":{\"approvalNum\":304606,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":304606,\"rrn\":304606,\"dateTime\":\"20240205161600\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"79485134****6299\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":304606,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":304606},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:36.499 response time in milliseconds: 350\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:34 GMT\n1 < x-amzn-RequestId: 5460f603-53b1-48c5-8e7e-fd66a34a5796\n1 < x-amz-apigw-id: Srl3-Ge6oAMEUzw=\n1 < X-Amzn-Trace-Id: Root=1-65c15032-37633440535b7725739c12ba\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 2iTpsH7YgcqyAeFPuZfq3RMNabEqohZy_Owxjp7K4jlIjPP4xSgsTw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"866794aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE30460630460620240205161600\",\"approvalNum\":\"304606\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"304606\",\"rrn\":\"304606\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"79485134****6299\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"304606\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"304606\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE30460630460620240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161634\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":12700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":483200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":2697700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":231800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":702758700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":137700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":3088800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":56200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":640600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\"","result":{"duration":992400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\"","result":{"duration":927300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":495600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":77300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":195495100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:37.217 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2806\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"866794aBcD\"},\"transaction\":{\"approvalNum\":304606,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":304606,\"rrn\":304606,\"dateTime\":\"20240205161600\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"79485134****6299\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":304606,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":304606},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:37.407 response time in milliseconds: 190\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 771\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:35 GMT\n2 < x-amzn-RequestId: 0a780afd-486b-4643-8d0f-7663232512c3\n2 < x-amz-apigw-id: Srl4HHEEIAMEIlg=\n2 < X-Amzn-Trace-Id: Root=1-65c15033-296d29575c6f6f5742011740\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 7ZS6Ca00V0Y-Wl4eFuzGeSJU3PjVfiP_snEObJoMtmMPa8DFdZ37UA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"866794aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE30460630460620240205161602\",\"approvalNum\":\"304606\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"304606\",\"rrn\":\"304606\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"79485134****6299\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"304606\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"304606\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE30460630460620240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161635\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":669000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":526000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":443700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4310900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:37.217 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":173000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":1056600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1187800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":361000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":178800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":168900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":210500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1334100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1313000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":304600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":178700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":11282000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":1916500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1206300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":515500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":72,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":574700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":41800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":263800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":568100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\"","result":{"duration":534900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\"","result":{"duration":518100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":505400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":68600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":247228900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:37.249 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"353916aBcD\"},\"transaction\":{\"approvalNum\":156681,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":156681,\"rrn\":156681,\"dateTime\":\"20240205161600\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"27324761****7363\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":156681,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":156681},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:37.495 response time in milliseconds: 245\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 778\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:35 GMT\n1 < x-amzn-RequestId: c87d6da7-9854-498e-85ec-75249260aedc\n1 < x-amz-apigw-id: Srl4IFCmIAMEIbA=\n1 < X-Amzn-Trace-Id: Root=1-65c15033-21c0e3ae7795337938adef37\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: J9xE1roDCddAI1Sf0iBrCBM3y6lvQFEVbYP5SUnlz66TeoVOMz2_Iw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"353916aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE15668115668120240205161600\",\"approvalNum\":\"156681\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"156681\",\"rrn\":\"156681\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"27324761****7363\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"156681\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"156681\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE15668115668120240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161635\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":718000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":1738900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":156600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":715796800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":103500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":123000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":879000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\"","result":{"duration":119100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\"","result":{"duration":75300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":72600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":191758800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:38.216 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2813\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"353916aBcD\"},\"transaction\":{\"approvalNum\":156681,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":156681,\"rrn\":156681,\"dateTime\":\"20240205161600\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"27324761****7363\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":156681,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":156681},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:38.407 response time in milliseconds: 190\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 778\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:36 GMT\n2 < x-amzn-RequestId: 4b800414-9abc-4531-babc-3e67f45fdc55\n2 < x-amz-apigw-id: Srl4RHoHIAMEb8A=\n2 < X-Amzn-Trace-Id: Root=1-65c15034-4faea9f32ee6fb716d25928e\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: gDcFyHB5u70m4y-ZqfhSkaiBjX_Kkr0nAWPrw9kj9OzBat_htLG00w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"353916aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE15668115668120240205161602\",\"approvalNum\":\"156681\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"156681\",\"rrn\":\"156681\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"27324761****7363\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"156681\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"156681\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE15668115668120240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161636\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":187700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":125700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":93300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":11816400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:37.265 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":354500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":913300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1260000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":349700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":220300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":154900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":175600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":2011400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1955200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":290700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":131300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":18383400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":889600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1164900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":474500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":73,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":564000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":528700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":499300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\"","result":{"duration":389700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\"","result":{"duration":361900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":352300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":49800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":193923700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:37.314 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"336003aBcD\"},\"transaction\":{\"approvalNum\":780143,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":780143,\"rrn\":780143,\"dateTime\":\"20240205161600\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"62772973****5057\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":780143,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":780143},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:37.505 response time in milliseconds: 191\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:35 GMT\n1 < x-amzn-RequestId: f3b039d3-fbcc-4499-92d3-d675941eecc6\n1 < x-amz-apigw-id: Srl4IE9NIAMEjuA=\n1 < X-Amzn-Trace-Id: Root=1-65c15033-3128790b533c566610e5b9a5\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: lA-V4kBrjPEcFIHX1DVpOcx1MWof66alqsKDOKwmDVX4ghojcdNLWg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"336003aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE78014378014320240205161600\",\"approvalNum\":\"780143\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"780143\",\"rrn\":\"780143\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"62772973****5057\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"780143\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"780143\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE78014378014320240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161635\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":473400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":705800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":141300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":706767000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":103300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":34000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":868300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\"","result":{"duration":136900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\"","result":{"duration":109700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":100800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":184104700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:38.216 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2810\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"336003aBcD\"},\"transaction\":{\"approvalNum\":780143,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":780143,\"rrn\":780143,\"dateTime\":\"20240205161600\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"62772973****5057\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":780143,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":780143},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:38.399 response time in milliseconds: 183\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 775\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:36 GMT\n2 < x-amzn-RequestId: 0cd4d851-e13c-4567-aa69-3a177ed3d893\n2 < x-amz-apigw-id: Srl4RFW3IAMEsSg=\n2 < X-Amzn-Trace-Id: Root=1-65c15034-58421d906ab480c631b92926\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: BrJXvWP426KPxCqvL7-OFM3__HjUkitzvi604mtFKiuXJIVIAnAmmQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"336003aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE78014378014320240205161602\",\"approvalNum\":\"780143\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"780143\",\"rrn\":\"780143\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"62772973****5057\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"780143\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"780143\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE78014378014320240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161636\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":237700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":149700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":76000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":8373800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:37.281 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":161000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":991100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1036400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":463100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":220800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":196100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":159500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1601800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1330400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":176500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":157100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9551000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":550600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":406000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":394700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":74,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":469000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":260300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":470800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":387000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\"","result":{"duration":375500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":382500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":387928500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:37.314 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"4800aBcD\"},\"transaction\":{\"approvalNum\":743586,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":743586,\"rrn\":743586,\"dateTime\":\"20240205161600\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"65673003****8120\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":743586,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":743586},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:37.699 response time in milliseconds: 385\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:35 GMT\n1 < x-amzn-RequestId: 02595430-9615-4fcd-baaf-b7eb5a797915\n1 < x-amz-apigw-id: Srl4JE3CIAMEMcA=\n1 < X-Amzn-Trace-Id: Root=1-65c15033-421cefe87f0abab5107a6cca\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: QEVm7_q10wKjZatAfeGKLK34n6JxUjwchDTEgU2UAIMpHAMpqDtWxA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"4800aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE74358674358620240205161600\",\"approvalNum\":\"743586\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"743586\",\"rrn\":\"743586\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"65673003****8120\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"743586\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"743586\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE74358674358620240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161635\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":554000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":705400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":158700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":715955100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":172000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":107300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":706600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":130100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\"","result":{"duration":82500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":72400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":349342900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:38.420 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"4800aBcD\"},\"transaction\":{\"approvalNum\":743586,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":743586,\"rrn\":743586,\"dateTime\":\"20240205161600\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"65673003****8120\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":743586,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":743586},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:38.767 response time in milliseconds: 347\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:37 GMT\n2 < x-amzn-RequestId: 31918d25-4791-4331-a0df-1549dc7ff7ca\n2 < x-amz-apigw-id: Srl4VFr4IAMEKVQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15035-79918828078011aa5ced8334\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: hVWnLP07toLPnhPDnmTXhdspn-T1O8Rk_oTFzmY9nFcZJt0753CKWA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"4800aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE74358674358620240205161602\",\"approvalNum\":\"743586\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"743586\",\"rrn\":\"743586\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"65673003****8120\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"743586\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"743586\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE74358674358620240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161637\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":12300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":607600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":381200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":115000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2630800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:37.414 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":158500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":594200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":869300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":225100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":157000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":186100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":158100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1026600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":977200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":168400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":214100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7619300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":849200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":717700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":407000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":75,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":475100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":375900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":311900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\"","result":{"duration":256600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":250800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":240207800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:37.437 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"796045aBcD\"},\"transaction\":{\"approvalNum\":179830,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":179830,\"rrn\":179830,\"dateTime\":\"20240205161600\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"96286860****1633\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":179830,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":179830},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:37.675 response time in milliseconds: 238\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:35 GMT\n1 < x-amzn-RequestId: 534bc555-3e92-4f14-bdef-8d46b9650d15\n1 < x-amz-apigw-id: Srl4JFgyIAMErvA=\n1 < X-Amzn-Trace-Id: Root=1-65c15033-11d228db28ed6db63c5c48d8\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: lQQf_HiORagsJVF18RjA8221LvRglWkvEdyIKZXZB-oZrSdW0Bj_VA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"796045aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE17983017983020240205161600\",\"approvalNum\":\"179830\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"179830\",\"rrn\":\"179830\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"96286860****1633\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"179830\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"179830\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE17983017983020240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161635\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1236300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":682200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":132400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":709045200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":111100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":139400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":70400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":204500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":119900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\"","result":{"duration":59200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":18600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":231762400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:38.389 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2807\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"796045aBcD\"},\"transaction\":{\"approvalNum\":179830,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":179830,\"rrn\":179830,\"dateTime\":\"20240205161600\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"96286860****1633\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":179830,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":179830},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:38.619 response time in milliseconds: 230\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 772\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:36 GMT\n2 < x-amzn-RequestId: f8a14226-f4b4-4062-ae5d-25afad38cf84\n2 < x-amz-apigw-id: Srl4TFo9IAMEaMg=\n2 < X-Amzn-Trace-Id: Root=1-65c15034-7d8709d409dbfe364ae6476c\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: jf50iwP0yh-3CrkM0GT24RwIN7DDQe6HC9V4-_i-QvqqpshL5VKZFA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"796045aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE17983017983020240205161602\",\"approvalNum\":\"179830\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"179830\",\"rrn\":\"179830\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"96286860****1633\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"179830\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"179830\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE17983017983020240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161636\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":302600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":152800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":99100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3392800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:38.402 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":132500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":260500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":424200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":162600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":91300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":79400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":90600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":438600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":449400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":122500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":83400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":2679000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":203300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":232500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":167400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":76,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":113600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":79600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":698400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\"","result":{"duration":509300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":351000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":30200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":298018300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:38.416 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2814\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"332857aBcD\"},\"transaction\":{\"approvalNum\":672493,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":672493,\"rrn\":672493,\"dateTime\":\"20240205161600\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"31491922****2761\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":672493,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":672493},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:38.712 response time in milliseconds: 296\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 779\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:36 GMT\n1 < x-amzn-RequestId: 12ce97cb-acdf-4681-aabf-4b79a14254d4\n1 < x-amz-apigw-id: Srl4TEzfIAMEopg=\n1 < X-Amzn-Trace-Id: Root=1-65c15034-075079f2004694722091e2df\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: dZbRPdDD5MsHed0snugSl38EN9j2gCevQ7x5Gv65RrT195qjZCKIFQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"332857aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE67249367249320240205161600\",\"approvalNum\":\"672493\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"672493\",\"rrn\":\"672493\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"31491922****2761\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"672493\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"672493\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE67249367249320240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161636\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":510100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":354600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":126600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":711323700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":112400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":82100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":35700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":256300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":124700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\"","result":{"duration":256400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":173900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":146500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":372535800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:39.429 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2814\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"332857aBcD\"},\"transaction\":{\"approvalNum\":672493,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":672493,\"rrn\":672493,\"dateTime\":\"20240205161600\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"31491922****2761\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":672493,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":672493},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:39.798 response time in milliseconds: 369\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 779\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:38 GMT\n2 < x-amzn-RequestId: a82020be-96ca-49fb-984b-1df109fa3b1d\n2 < x-amz-apigw-id: Srl4fEuIIAMEpCQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15036-1a4d171d03a9c004673ac599\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: FZUlRMdGMG6nEYql_pfrsubsyh8X533ik-2d7V_0VorNS7WtVS99bA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"332857aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE67249367249320240205161602\",\"approvalNum\":\"672493\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"672493\",\"rrn\":\"672493\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"31491922****2761\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"672493\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"672493\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE67249367249320240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161638\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1211400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":395900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":172300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1574000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:38.410 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":94100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":242400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":373500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":200100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":107300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":100900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":92900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":495100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":439400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":108300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":96100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4459400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":416100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":270800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":220700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":77,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":327800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":40500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":42700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":150700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":680800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\"","result":{"duration":446900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":332100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":215703300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:38.425 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"93939aBcD\"},\"transaction\":{\"approvalNum\":327621,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":327621,\"rrn\":327621,\"dateTime\":\"20240205161600\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"19047332****6606\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":327621,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":327621},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:38.639 response time in milliseconds: 214\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:36 GMT\n1 < x-amzn-RequestId: c0fb412f-1cee-43c1-af89-0b9df7146d00\n1 < x-amz-apigw-id: Srl4TEMWoAMEnpg=\n1 < X-Amzn-Trace-Id: Root=1-65c15034-45fe49934297c5ca7040a893\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Z2s8hISLseHmJOPZoDdJXHfZdvT0P4NkLdwO3tQZorC9HF3XSW1i4w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"93939aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE32762132762120240205161600\",\"approvalNum\":\"327621\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"327621\",\"rrn\":\"327621\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"19047332****6606\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"327621\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"327621\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE32762132762120240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161636\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":6700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":259700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":185400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":121600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":710010200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":128600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":89800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":35200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":123800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":66900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\"","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":123300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":329629100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:39.352 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2801\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"93939aBcD\"},\"transaction\":{\"approvalNum\":327621,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":327621,\"rrn\":327621,\"dateTime\":\"20240205161600\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"19047332****6606\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":327621,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":327621},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:39.680 response time in milliseconds: 328\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:37 GMT\n2 < x-amzn-RequestId: 8981bdc9-268b-4887-af5f-1fe94932d06e\n2 < x-amz-apigw-id: Srl4eFc3IAMEdTQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15035-4d53a7a469e59dd959e32bff\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: fSg4Bo8-Ck56dJBMy2xnZukkTXghQffkA0tRyT7W9rq0MwG1lq2WFA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"93939aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE32762132762120240205161602\",\"approvalNum\":\"327621\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"327621\",\"rrn\":\"327621\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"19047332****6606\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"327621\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"327621\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE32762132762120240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161637\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":313500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":140800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":108700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2244600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:38.623 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":123500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":278100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":531400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":258700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":143900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":121100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":101300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":612100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":718800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":116900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":105700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4904000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":548000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":1131600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":689200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":78,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":629000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":72200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":161200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":855900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\"","result":{"duration":468300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":366900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":250901900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:38.641 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2816\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"701894aBcD\"},\"transaction\":{\"approvalNum\":895358,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":895358,\"rrn\":895358,\"dateTime\":\"20240205161600\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"38691333****5481\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":895358,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":895358},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:38.891 response time in milliseconds: 249\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:37 GMT\n1 < x-amzn-RequestId: e2705f9e-8896-48c1-9111-eb21ebd155d9\n1 < x-amz-apigw-id: Srl4WEwOoAMEkWg=\n1 < X-Amzn-Trace-Id: Root=1-65c15035-45d0b8ef48c74cd5380a0d70\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: A4LFqW0tZDimoIqZdVOujhdOSkl1EuwrpGYwH6D_sreLBhANY4czTA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"701894aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE89535889535820240205161600\",\"approvalNum\":\"895358\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"895358\",\"rrn\":\"895358\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"38691333****5481\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"895358\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"895358\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE89535889535820240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161637\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":301900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":191600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":100500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":703932800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":112300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":88900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":150600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":78000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\"","result":{"duration":70100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":28800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":339997700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:39.597 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2816\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"701894aBcD\"},\"transaction\":{\"approvalNum\":895358,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":895358,\"rrn\":895358,\"dateTime\":\"20240205161600\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"38691333****5481\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":895358,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":895358},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:39.935 response time in milliseconds: 338\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 781\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:38 GMT\n2 < x-amzn-RequestId: 2ba10b82-2d11-4b98-a6fa-47cb26551c08\n2 < x-amz-apigw-id: Srl4gGgdoAMEcMg=\n2 < X-Amzn-Trace-Id: Root=1-65c15036-32e8fdeb0bf579b72aeac25e\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: N7X_6RhQN7n9lmaJZPucWezgyKJVBpUY_kv5gPXLm2jm6SUwo309Yw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"701894aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE89535889535820240205161602\",\"approvalNum\":\"895358\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"895358\",\"rrn\":\"895358\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"38691333****5481\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"895358\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"895358\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE89535889535820240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161638\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":1408600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":820100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":537900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4147400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:38.773 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":198000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":243800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":522200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":227700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":105800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":195200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":115800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":840700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":489200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":133700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":114500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3949300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":267200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":279900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":185500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":79,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":167800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":28600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":27400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":153500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":713600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\"","result":{"duration":388300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":228100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":321245500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:38.790 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"754633aBcD\"},\"transaction\":{\"approvalNum\":877169,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":877169,\"rrn\":877169,\"dateTime\":\"20240205161600\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"51885092****7454\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":877169,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":877169},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:39.109 response time in milliseconds: 319\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:37 GMT\n1 < x-amzn-RequestId: 2a52ce6b-bf65-4f91-99e9-487bfd4f640f\n1 < x-amz-apigw-id: Srl4YE2tIAMEH9A=\n1 < X-Amzn-Trace-Id: Root=1-65c15035-02da787754f3b6b10df152a0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: F_F5icyuJuJk6gghqzhwObz34Ph0RS1eCBH-wHV_bj7UVo6daf7ztA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"754633aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE87716987716920240205161600\",\"approvalNum\":\"877169\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"877169\",\"rrn\":\"877169\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"51885092****7454\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"877169\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"877169\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE87716987716920240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161637\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":276300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":97900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":76300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":701549700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":93300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":463800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":496700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":315500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\"","result":{"duration":304400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":273200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":256275800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:39.816 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2808\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"754633aBcD\"},\"transaction\":{\"approvalNum\":877169,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":877169,\"rrn\":877169,\"dateTime\":\"20240205161600\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"51885092****7454\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":877169,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":877169},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:40.069 response time in milliseconds: 253\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:38 GMT\n2 < x-amzn-RequestId: 86fea481-001e-40e7-9e55-679e412a9ef5\n2 < x-amz-apigw-id: Srl4hH-xoAMEEXA=\n2 < X-Amzn-Trace-Id: Root=1-65c15036-5fb8ca1525c9ec8b2bfc3c9e\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: q6OD7Dl6a3q_gOrlnS5kxOLwT7Qi-GCitlBqzrlDCwpehLsPH_SgqA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"754633aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE87716987716920240205161602\",\"approvalNum\":\"877169\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"877169\",\"rrn\":\"877169\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"51885092****7454\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"877169\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"877169\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE87716987716920240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161638\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":6900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":372000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":226100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":276700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1956700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:39.684 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":98400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":190600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":345600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":208000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":272100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":116400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":119700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":557900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":499900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":111900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":93200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3642900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":289100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":180200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":152100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":80,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":199100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":48000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":31200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":123100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":758900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\"","result":{"duration":1468700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":596700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":69700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":369435900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:39.700 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"317042aBcD\"},\"transaction\":{\"approvalNum\":757724,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":757724,\"rrn\":757724,\"dateTime\":\"20240205161600\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"83012126****5949\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":757724,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":757724},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:40.067 response time in milliseconds: 367\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:38 GMT\n1 < x-amzn-RequestId: d32d8338-1b92-4e56-806f-d0559592c78d\n1 < x-amz-apigw-id: Srl4hE5eoAMEg3A=\n1 < X-Amzn-Trace-Id: Root=1-65c15036-0dabfc1b7ef6d86127e284c0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: BQ-tLNWEJZpUdC69FqWPnfkD79Rc8K4ckglgg0gSwlzR1Uoy1PXlhw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"317042aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE75772475772420240205161600\",\"approvalNum\":\"757724\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"757724\",\"rrn\":\"757724\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"83012126****5949\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"757724\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"757724\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE75772475772420240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161638\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":560800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":265500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":216100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":703974100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":115100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":418600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":801100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":595100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\"","result":{"duration":188400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":127700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":45200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":362224000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:40.777 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2808\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"317042aBcD\"},\"transaction\":{\"approvalNum\":757724,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":757724,\"rrn\":757724,\"dateTime\":\"20240205161600\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"83012126****5949\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":757724,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":757724},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:41.137 response time in milliseconds: 360\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:39 GMT\n2 < x-amzn-RequestId: 33b2eb8c-c01c-4276-b4b7-b8b56865f4f2\n2 < x-amz-apigw-id: Srl4sGDvoAMEJXw=\n2 < X-Amzn-Trace-Id: Root=1-65c15037-1a193f39132a9cbf2be5eed1\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: FY1pzebgoRoAmJoDYiEcXs-jITnR9fOJmRy7NbCmOlEAOina_1HJyQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"317042aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE75772475772420240205161602\",\"approvalNum\":\"757724\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"757724\",\"rrn\":\"757724\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"83012126****5949\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"757724\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"757724\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE75772475772420240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161639\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":35800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":673800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":402800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":119400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1782800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:39.805 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":72800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":179000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":295100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":3663100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":152700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":104400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":153300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1480700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":750300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":144000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":98200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6781100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":645500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":372600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":230000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":81,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":306200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":106200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":240900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":189500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\"","result":{"duration":180200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":179100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":196602900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:39.825 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"883151aBcD\"},\"transaction\":{\"approvalNum\":421914,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":421914,\"rrn\":421914,\"dateTime\":\"20240205161600\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"52588515****3572\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":421914,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":421914},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:40.020 response time in milliseconds: 195\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:38 GMT\n1 < x-amzn-RequestId: 407bf1b4-fe76-4f08-8ad9-7ecf1bd320d3\n1 < x-amz-apigw-id: Srl4hH7ZoAMEXcw=\n1 < X-Amzn-Trace-Id: Root=1-65c15036-7f2edfd02cf0894743703f15\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: kjmIaGTBjUVCLE4nstRbGV2nLGdFzrY34ezatUNLgECGLburM0vXng==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"883151aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE42191442191420240205161600\",\"approvalNum\":\"421914\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"421914\",\"rrn\":\"421914\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"52588515****3572\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"421914\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"421914\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE42191442191420240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161638\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":592300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":327500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":313200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":704216000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":112900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":122900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":642300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":102300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\"","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":39300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":182697000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:40.730 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2811\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"883151aBcD\"},\"transaction\":{\"approvalNum\":421914,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":421914,\"rrn\":421914,\"dateTime\":\"20240205161600\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"52588515****3572\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":421914,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":421914},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:40.910 response time in milliseconds: 180\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 776\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:39 GMT\n2 < x-amzn-RequestId: 01f98b7a-f0ea-44ad-9c61-e36e856246e1\n2 < x-amz-apigw-id: Srl4qGZ2IAMEEaQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15037-6f4302a559e4ed59757bc2a0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: oHh8tz6WY_78JsnUGzZmuLNF8y6fzlVPJB6Sy1EWXrrVGC7zCQDLUQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"883151aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE42191442191420240205161602\",\"approvalNum\":\"421914\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"421914\",\"rrn\":\"421914\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"52588515****3572\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"421914\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"421914\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE42191442191420240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161639\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":383900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":364700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":90500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4371000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:39.944 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":223200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":874800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":1152300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":333600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":195000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":116700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":109100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1118800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":838300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":111900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":92900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5704000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":607200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":283300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":205700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":82,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":390300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":99700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":439900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":666900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\"","result":{"duration":215400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":264900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":48600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":323100800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:39.967 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"58619aBcD\"},\"transaction\":{\"approvalNum\":343439,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":343439,\"rrn\":343439,\"dateTime\":\"20240205161600\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"27455667****1559\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":343439,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":343439},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:40.287 response time in milliseconds: 320\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:38 GMT\n1 < x-amzn-RequestId: d510da4d-1a1d-4d01-a7fa-17f3c84b3eb3\n1 < x-amz-apigw-id: Srl4kEQLoAMEFqQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15036-7b56e8215907300b54a3cb82\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 1L2oh9BIEcPoLi977Cl5_J9eiBWfyn5XRD82bQShhP1sJriPcF67RQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"58619aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE34343934343920240205161600\",\"approvalNum\":\"343439\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"343439\",\"rrn\":\"343439\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"27455667****1559\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"343439\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"343439\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE34343934343920240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161638\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":8800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":274200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":630300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":91500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":703349700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":154300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":141800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":79400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":708200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":75300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\"","result":{"duration":37300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":56400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":19500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":348504600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:40.995 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2801\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"58619aBcD\"},\"transaction\":{\"approvalNum\":343439,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":343439,\"rrn\":343439,\"dateTime\":\"20240205161600\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"27455667****1559\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":343439,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":343439},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:41.341 response time in milliseconds: 346\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:39 GMT\n2 < x-amzn-RequestId: 454ceb34-f9e7-49b1-a6fe-0953449c79ce\n2 < x-amz-apigw-id: Srl4uEC9oAMEpDQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15037-0c375209615b4b0f43bfa166\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 9DJwcYjioRihNjUS5wC3Bk7YWuMLOD1mlfcPxWY8_nKNjxImnyCWXQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"58619aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE34343934343920240205161602\",\"approvalNum\":\"343439\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"343439\",\"rrn\":\"343439\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"27455667****1559\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"343439\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"343439\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE34343934343920240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161639\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":361700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":174900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":104400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4958100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:40.076 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":133400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":711600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":709300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":218000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":135200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":75500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":77800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":744700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":682600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":96500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":116500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6831200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":662300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":375100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":323600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":83,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":870200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":96500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":105700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":743700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":338900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\"","result":{"duration":264400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":279300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":34100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":194562700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:40.101 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"447206aBcD\"},\"transaction\":{\"approvalNum\":546797,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":546797,\"rrn\":546797,\"dateTime\":\"20240205161600\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"63051826****2918\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":546797,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":546797},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:40.293 response time in milliseconds: 192\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:38 GMT\n1 < x-amzn-RequestId: e4b9b500-8104-4941-a483-057562b3992a\n1 < x-amz-apigw-id: Srl4kFGhIAMEMcA=\n1 < X-Amzn-Trace-Id: Root=1-65c15036-0cddbc2a518026ca00b55488\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c044357f15da715d4a1fab016bbf0008.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Qazj_Zz-B9F2jYROI3u3Gsv91SCgb3cEc-tYaAlYxgRyq5cHQSqCrA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"447206aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE54679754679720240205161600\",\"approvalNum\":\"546797\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"546797\",\"rrn\":\"546797\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"63051826****2918\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"546797\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"546797\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE54679754679720240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161638\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":8400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":187500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":346900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":70900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":714035200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":135900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":283600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":62400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":897600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":314700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\"","result":{"duration":93200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":71000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":67300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":231177200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:41.012 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2801\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"447206aBcD\"},\"transaction\":{\"approvalNum\":546797,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":546797,\"rrn\":546797,\"dateTime\":\"20240205161600\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"63051826****2918\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":546797,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":546797},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:41.241 response time in milliseconds: 229\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:39 GMT\n2 < x-amzn-RequestId: 7dae1412-d2f3-4b86-aeb1-7731fbf6a847\n2 < x-amz-apigw-id: Srl4tGmQoAMEZMg=\n2 < X-Amzn-Trace-Id: Root=1-65c15037-20c888f717f77aea532ff9aa\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: W6GmlX6ZXm8oMk48pZ0OdP727S2vIKX9Ro0CobH878MozstMAO3xaQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"447206aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE54679754679720240205161602\",\"approvalNum\":\"546797\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"546797\",\"rrn\":\"546797\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"63051826****2918\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"546797\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"546797\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE54679754679720240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161639\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":351800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":882400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":298700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2437800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:40.916 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":61900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":498900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":521400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":144400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":86500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":78000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":378500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":337100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":79400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":80300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":2781600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":166600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":89800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":103400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":84,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":106700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":24400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":90500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":463600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\"","result":{"duration":227600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":156800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":17500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":180217300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:40.929 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"172513aBcD\"},\"transaction\":{\"approvalNum\":627587,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":627587,\"rrn\":627587,\"dateTime\":\"20240205161600\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"30589289****4908\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":627587,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":627587},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:41.107 response time in milliseconds: 178\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:39 GMT\n1 < x-amzn-RequestId: 9151db29-f22f-4c45-b7b2-4d78e114c89e\n1 < x-amz-apigw-id: Srl4sEgeIAMEjVA=\n1 < X-Amzn-Trace-Id: Root=1-65c15037-7425c749602a03ad18ad92be\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d413fb750cb8c5d3a6bce4d80dedeb9a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: gQ4qPi8MN6NFvRiJTsNvKF3iqQa3iG8ISZ6KvIrz0Af0ZTv5gpdsqw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"172513aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE62758762758720240205161600\",\"approvalNum\":\"627587\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"627587\",\"rrn\":\"627587\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"30589289****4908\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"627587\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"627587\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE62758762758720240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161639\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":330400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":131600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":89500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":715165100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":163000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":141300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":61400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":269000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":210400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\"","result":{"duration":167700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":115500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":176921800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:41.827 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2803\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"172513aBcD\"},\"transaction\":{\"approvalNum\":627587,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":627587,\"rrn\":627587,\"dateTime\":\"20240205161600\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"30589289****4908\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":627587,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":627587},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:42.002 response time in milliseconds: 174\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:40 GMT\n2 < x-amzn-RequestId: 1a66ffbb-5d60-4a42-ade2-3e054886572c\n2 < x-amz-apigw-id: Srl41GQ0IAMEv3Q=\n2 < X-Amzn-Trace-Id: Root=1-65c15038-22a801e819b69397704ea191\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: bsAZsOkcRlTzBp6_y9QTc4_l2dFgeQkcXcS39gOnfYErBjzHNXH0PQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"172513aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE62758762758720240205161602\",\"approvalNum\":\"627587\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"627587\",\"rrn\":\"627587\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"30589289****4908\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"627587\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"627587\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE62758762758720240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161640\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":8600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":221600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":84100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2735100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:41.143 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":145300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":732700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":825900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":958700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":157400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":98300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":101600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1675100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":2821800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":126300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":68600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6314500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":601900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":357900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":264100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":85,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":464600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":47700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":396800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":348400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\"","result":{"duration":226800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":251700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":50300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":188437600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:41.166 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"834645aBcD\"},\"transaction\":{\"approvalNum\":278532,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":278532,\"rrn\":278532,\"dateTime\":\"20240205161600\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"26986616****6267\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":278532,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":278532},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:41.353 response time in milliseconds: 187\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:39 GMT\n1 < x-amzn-RequestId: 0d9a3ca3-a529-4a0a-90c0-18896c450132\n1 < x-amz-apigw-id: Srl4uG76oAMEtVw=\n1 < X-Amzn-Trace-Id: Root=1-65c15037-1f0a2bb143cb89b96d21ec5f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: LIrSZgJj6iihFokn1t6w-3mTLDHQ_ngRcQ-eIJ883BYW2Y3idJB0ng==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"834645aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE27853227853220240205161600\",\"approvalNum\":\"278532\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"278532\",\"rrn\":\"278532\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"26986616****6267\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"278532\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"278532\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE27853227853220240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161639\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":222100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":144900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":94200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":714022300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":118600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":113800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":38400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":181800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":220500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\"","result":{"duration":79500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":58200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":27700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":334896900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:42.072 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2812\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"834645aBcD\"},\"transaction\":{\"approvalNum\":278532,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":278532,\"rrn\":278532,\"dateTime\":\"20240205161600\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"26986616****6267\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":278532,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":278532},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:42.403 response time in milliseconds: 331\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 777\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:40 GMT\n2 < x-amzn-RequestId: 974bce8f-6827-4f84-99e6-ff0e38005e3a\n2 < x-amz-apigw-id: Srl45FSTIAMEo5A=\n2 < X-Amzn-Trace-Id: Root=1-65c15038-3bec104944976ef056253c4f\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: SoduXZ1RBh42QTjtw-_7DMYRvaTWaijIYsruELpfn7NVBJ4QkzFkww==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"834645aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE27853227853220240205161602\",\"approvalNum\":\"278532\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"278532\",\"rrn\":\"278532\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"26986616****6267\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"278532\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"278532\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE27853227853220240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161640\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":339800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":128100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":88800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":14051500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:41.247 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":227800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":415600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":897900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":342500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":150200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":101200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":124300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":687200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":681400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":409500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":108000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":8782400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":460100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":244800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":153100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":86,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":163700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":116100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":629800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\"","result":{"duration":361400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":259500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":42900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":319858200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:41.280 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2798\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"908985aBcD\"},\"transaction\":{\"approvalNum\":410569,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":410569,\"rrn\":410569,\"dateTime\":\"20240205161600\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"46134988****2168\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":410569,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":410569},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:41.597 response time in milliseconds: 317\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 763\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:39 GMT\n1 < x-amzn-RequestId: 6f833a1c-4a5f-42ba-817d-3fa1f13ec05c\n1 < x-amz-apigw-id: Srl4xF9EoAMET0Q=\n1 < X-Amzn-Trace-Id: Root=1-65c15037-5a030def1529a0583a867525\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: SxuUPKz_AksT9YiVrcKTP1qwMIz_0Ud2pB7nDhpZ0rePP_Rtaq-Hzg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"908985aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41056941056920240205161600\",\"approvalNum\":\"410569\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"410569\",\"rrn\":\"410569\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"46134988****2168\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"410569\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"410569\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41056941056920240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161639\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":26100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":368300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":200400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":111900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":701756900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":157800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":141400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":39200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":123100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":54200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\"","result":{"duration":40600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":20800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":215906700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:42.304 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2798\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"908985aBcD\"},\"transaction\":{\"approvalNum\":410569,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":410569,\"rrn\":410569,\"dateTime\":\"20240205161600\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"46134988****2168\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":410569,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":410569},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:42.517 response time in milliseconds: 213\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 763\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:40 GMT\n2 < x-amzn-RequestId: b5c29416-ca3d-4ea5-859a-b088b6a08bfd\n2 < x-amz-apigw-id: Srl46FqNIAMEfyw=\n2 < X-Amzn-Trace-Id: Root=1-65c15038-5b51ac7435db82691e749cd0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: QOUhov4VOq0ewlTK6tyotEO_lH8_I9b3eogb8DzF4Jj75Y0kblVLOA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"908985aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE41056941056920240205161602\",\"approvalNum\":\"410569\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"410569\",\"rrn\":\"410569\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"46134988****2168\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"410569\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"410569\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE41056941056920240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161640\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":10000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":221800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":78500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3292500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:16:41.346 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":163000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":270000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":633100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":597700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":186400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":143100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":88200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":585500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":406900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":94000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":94300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3848200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":344000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":140100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":102800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":87,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":128000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":97700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":527100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\"","result":{"duration":284100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":373500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx","result":{"duration":50000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"method post","result":{"duration":315632500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":31,"doc_string":{"content_type":"","value":"16:16:41.362 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"460283aBcD\"},\"transaction\":{\"approvalNum\":685229,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":685229,\"rrn\":685229,\"dateTime\":\"20240205161600\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"56847924****5563\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":685229,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":685229},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:41.676 response time in milliseconds: 313\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:16:39 GMT\n1 < x-amzn-RequestId: cec63d78-b816-42f7-858b-ecc2670b7bef\n1 < x-amz-apigw-id: Srl4xFnpoAMEfzA=\n1 < X-Amzn-Trace-Id: Root=1-65c15037-729120461ec7224570757c1d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: cpeGPjmpJhH9jniYT3K-8HwlIHX1TBxY273EXG5eBI4mOIHo7lHhNw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"460283aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE68522968522920240205161600\",\"approvalNum\":\"685229\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"685229\",\"rrn\":\"685229\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"56847924****5563\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"685229\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"685229\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE68522968522920240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161639\"}]}\n\n","line":31}},{"name":"status 200","result":{"duration":11000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":32},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":308900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":33},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":148300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":34},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":109200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"eval sleep(700)","result":{"duration":701616700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url url","result":{"duration":359700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":37},{"name":"path pathUrl","result":{"duration":703000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":38},{"name":"header x-api-key = apiKey","result":{"duration":759500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":39},{"name":"request bodyTrx.payload[0].transaction.status = '02'","result":{"duration":478100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":165000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\"","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":45800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"method post","result":{"duration":216497000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":45,"doc_string":{"content_type":"","value":"16:16:42.383 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3Nzg2LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1ODYsImlhdCI6MTcwNzE2Nzc4NiwidmVyc2lvbiI6MiwianRpIjoiMzdkNWNiYTMtNzFiNC00NWJlLWE5MWEtZjM2ZDZiYzBmMzc5IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.AmawiB_DjjMsQMqOT2QdXFD7LjESXZD1Fqs1z9jb5Z_VyCLMC-yPyuMbKM657Q9m4YSSGg1Gd6IjLaQhIDafs6D3LCFHy58C7GtlWNLlZ98zcmbRkCrLdzvqpP--XG48VaxjEheC37Bi9UPIiLz-HnOGZPr6O0-WcNWRHmHpR8X_COkla0cq6DH1UQNWHYsDk0b3g_dnkd1s2Y9kNpW-IRVHeluyZ3v2zQQQwd9CshcFFcpA_pyxCyWzu4SBaCmmkIY3x_K6OER6i6OXSoVvEpZltUuE2kNIg5jxHqxpVRl6U8atDaOawBP7ewxsb-yb7qbedPkotdeCb-7oAE4hPg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2803\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"460283aBcD\"},\"transaction\":{\"approvalNum\":685229,\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":685229,\"rrn\":685229,\"dateTime\":\"20240205161600\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"56847924****5563\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":685229,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":685229},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:42.597 response time in milliseconds: 214\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:16:40 GMT\n2 < x-amzn-RequestId: 3db1fbc4-ae68-4005-9b25-d44e0852495f\n2 < x-amz-apigw-id: Srl47FNIIAMEqhw=\n2 < X-Amzn-Trace-Id: Root=1-65c15038-75c9837030d47d694cac0871\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: iK8ETMZaS7oPtLXI6izi8e7leOZCAbGRoZm-u6Z0k6c1A5VLSDjd4w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"460283aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE68522968522920240205161602\",\"approvalNum\":\"685229\",\"responseCode\":\"12\",\"status\":\"02\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"685229\",\"rrn\":\"685229\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"56847924****5563\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"685229\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"685229\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE68522968522920240205161602\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161640\"}]}\n\n","line":45}},{"name":"status 200","result":{"duration":8700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":46},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":211400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"match response.resultObject[0].transaction.status == '02'","result":{"duration":94100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":59400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":49}],"tags":[]}],"name":"CORRandADQUI\/TransaccionalADQUI.feature","description":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","id":"ejecutar-endpoint-para-crear-una-transaccion-aprobada-con-firma-y-validando-distintos-datos-de-respuesta","keyword":"Feature","uri":"CORRandADQUI\/TransaccionalADQUI.feature"}]