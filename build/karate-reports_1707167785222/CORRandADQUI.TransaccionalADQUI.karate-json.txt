{"failedCount":0,"prefixedPath":"classpath:CORRandADQUI\/TransaccionalADQUI.feature","packageQualifiedName":"CORRandADQUI.TransaccionalADQUI","loopIndex":-1,"relativePath":"CORRandADQUI\/TransaccionalADQUI.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":60362800,"millis":60.3628,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:54.092 karate.env system property was: dev-adqui \n16:15:55.827 this thread waited 1722 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n"},{"result":{"nanos":969400,"millis":0.9694,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":22039400,"millis":22.0394,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":153443800,"millis":153.4438,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":28291800,"millis":28.2918,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":1212000,"millis":1.212,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1532900,"millis":1.5329,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":1348100,"millis":1.3481,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":9841400,"millis":9.8414,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":4431300,"millis":4.4313,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":6552400,"millis":6.5524,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1235100,"millis":1.2351,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":1009477000,"millis":1009.477,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":2800200,"millis":2.8002,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":16720500,"millis":16.7205,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":2355200,"millis":2.3552,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1588800,"millis":1.5888,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":338300,"millis":0.3383,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":1367500,"millis":1.3675,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":180100,"millis":0.1801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":2875400,"millis":2.8754,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1903800,"millis":1.9038,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":6214500,"millis":6.2145,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\""}},{"result":{"nanos":915300,"millis":0.9153,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\""}},{"result":{"nanos":118300,"millis":0.1183,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":450842300,"millis":450.8423,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:57.204 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2800\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"215768aBcD\"},\"transaction\":{\"approvalNum\":635939,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":635939,\"rrn\":635939,\"dateTime\":\"20240205161500\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"39993663****3607\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":635939,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":635939},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:57.648 response time in milliseconds: 443\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 765\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:55 GMT\n1 < x-amzn-RequestId: 51020aa1-aa9e-4e7a-afb5-7a4168056eba\n1 < x-amz-apigw-id: Srlx5Hg4oAMELPA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500b-7fb6570b7a67a2ea1f31bd85\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: kshs1b41ouj7G_JMugBvDbWVraE41i2sxzeGJnz4Oq9dfpyV7FbjDA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"215768aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE63593963593920240205161500\",\"approvalNum\":\"635939\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"635939\",\"rrn\":\"635939\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"39993663****3607\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"635939\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"635939\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE63593963593920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161555\"}]}\n\n"},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":17643800,"millis":17.6438,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1971600,"millis":1.9716,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":8454100,"millis":8.4541,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":52,"description":"","durationMillis":1817.0464,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167754047,"refId":"[1.1:52]","endTime":1707167757680,"exampleData":{"accountType":"AH","franchise":"AMEX","transactionType":"VENTA"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59941200,"millis":59.9412,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:55.824 << lock released, cached callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n","callResults":[{"prefixedPath":"classpath:helper\/CrearTokenDEVADQUI.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2024-02-05 04:16:01 p.Â m.","durationMillis":1613.7683,"callArg":{"pathUrl":"\/transactional\/api\/vouchers\/transactions","apiToken":"https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token","url":"https:\/\/api.redebanvd.net","apiKey":"tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g","tokenAuthorization":"Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA=="},"failedCount":0,"packageQualifiedName":"helper.CrearTokenDEVADQUI","relativePath":"helper\/CrearTokenDEVADQUI.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1643300,"millis":1.6433,"status":"passed"},"step":{"line":4,"prefix":"Given","index":0,"text":"url apiToken"},"stepLog":"16:15:54.091 karate.env system property was: dev-adqui \n16:15:54.106 >> lock acquired, begin callSingle: classpath:helper\/CrearTokenDEVADQUI.feature\n"},{"result":{"nanos":1657700,"millis":1.6577,"status":"passed"},"step":{"line":5,"prefix":"And","index":1,"text":"header Content-Type = 'application\/x-www-form-urlencoded'"}},{"result":{"nanos":459200,"millis":0.4592,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"header Authorization = tokenAuthorization"}},{"result":{"nanos":1018600,"millis":1.0186,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"request 'grant_type=client_credentials&Scope=consumers%2Ffabrica'"}},{"result":{"nanos":1598433100,"millis":1598.4331,"status":"passed"},"step":{"line":8,"prefix":"When","index":4,"text":"method post"},"stepLog":"16:15:54.907 request:\n1 > POST https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/oauth2\/token\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Authorization: Basic M2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2U6MWQ4cjQyNDNicjMwYm1kcjB2ajJkMjYydTJwZWU5NjY5ZmdrNXQxZ2M3ZTZ1YWc0bTd0ZA==\n1 > Content-Length: 55\n1 > Host: voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=client_credentials&Scope=consumers%2Ffabrica\n\n16:15:55.730 response time in milliseconds: 809\n1 < 200\n1 < Date: Mon, 05 Feb 2024 21:15:53 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Content-Security-Policy-Report-Only: script-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; style-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; img-src https:\/\/d3oia8etllorh5.cloudfront.net https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; report-uri https:\/\/voucherdigitalclouddev.auth.us-east-1.amazoncognito.com\/cspreport\n1 < x-amz-cognito-request-id: 7df6dd39-0012-438b-be13-5fbacfcb92fc\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n1 < Server: Server\n1 < Set-Cookie: XSRF-TOKEN=f9f642ca-7287-47d8-9948-d155809b78bc; Domain=voucherdigitalclouddev.auth.us-east-1.amazoncognito.com; Secure\n{\"access_token\":\"eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\",\"expires_in\":1800,\"token_type\":\"Bearer\"}\n\n"},{"result":{"nanos":323400,"millis":0.3234,"status":"passed"},"step":{"line":9,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":10233000,"millis":10.233,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"def access_token = response.access_token"}}],"executorName":"pool-1-thread-2","line":3,"name":"crear token","description":"","durationMillis":1613.7683,"startTime":1707167754180,"failed":false,"refId":"[1:3]","endTime":1707167755820,"exampleIndex":-1}],"name":"Ejecutar Endpoint para crear el token que se usara para crear las transacciones","passedCount":1}]},{"result":{"nanos":885500,"millis":0.8855,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":20652400,"millis":20.6524,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":155184600,"millis":155.1846,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":17924100,"millis":17.9241,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":2999500,"millis":2.9995,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1761400,"millis":1.7614,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":1093100,"millis":1.0931,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":22284400,"millis":22.2844,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":4479200,"millis":4.4792,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":736200,"millis":0.7362,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1217800,"millis":1.2178,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":1014715700,"millis":1014.7157,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":3128100,"millis":3.1281,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1723300,"millis":1.7233,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":2739200,"millis":2.7392,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":2781000,"millis":2.781,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":226600,"millis":0.2266,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":2088800,"millis":2.0888,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":253100,"millis":0.2531,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":6287500,"millis":6.2875,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1286000,"millis":1.286,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":1223900,"millis":1.2239,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\""}},{"result":{"nanos":912100,"millis":0.9121,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\""}},{"result":{"nanos":215200,"millis":0.2152,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":514527200,"millis":514.5272,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:57.193 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"663284aBcD\"},\"transaction\":{\"approvalNum\":472383,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":472383,\"rrn\":472383,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"77586344****6585\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":472383,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":472383},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:57.699 response time in milliseconds: 505\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 770\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:15:55 GMT\n2 < x-amzn-RequestId: 48f5dc2c-32a3-466e-a620-4680c528eb64\n2 < x-amz-apigw-id: Srlx5H83IAMEJgw=\n2 < X-Amzn-Trace-Id: Root=1-65c1500b-08049e652a686f4c79d4ef4b\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: cjq0GpG72Qa8p-a53nJ5n3Q3owhqG1Pw1nLV88M4DC_AgZqlVNkWkA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"663284aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE47238347238320240205161500\",\"approvalNum\":\"472383\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"472383\",\"rrn\":\"472383\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"77586344****6585\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"472383\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"472383\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE47238347238320240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161555\"}]}\n\n"},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1073600,"millis":1.0736,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1220000,"millis":1.22,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":909600,"millis":0.9096,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":53,"description":"","durationMillis":1844.4856,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167753948,"refId":"[1.2:53]","endTime":1707167757704,"exampleData":{"accountType":"CC","franchise":"BCO_SUP","transactionType":"LEALTAD"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59940600,"millis":59.9406,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:54.092 karate.env system property was: dev-adqui \n16:15:55.825 this thread waited 1717 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n"},{"result":{"nanos":1760200,"millis":1.7602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":22999200,"millis":22.9992,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":163546800,"millis":163.5468,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":15581000,"millis":15.581,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":4606700,"millis":4.6067,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":4516300,"millis":4.5163,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":948500,"millis":0.9485,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":60918200,"millis":60.9182,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":17414100,"millis":17.4141,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":1205600,"millis":1.2056,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":871100,"millis":0.8711,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":945549600,"millis":945.5496,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":30855300,"millis":30.8553,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":5153600,"millis":5.1536,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":12288200,"millis":12.2882,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1358300,"millis":1.3583,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":278700,"millis":0.2787,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":728500,"millis":0.7285,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":147300,"millis":0.1473,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":1090200,"millis":1.0902,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1015700,"millis":1.0157,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":3246600,"millis":3.2466,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\""}},{"result":{"nanos":891800,"millis":0.8918,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\""}},{"result":{"nanos":422900,"millis":0.4229,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":459900700,"millis":459.9007,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:57.223 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2816\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"572657aBcD\"},\"transaction\":{\"approvalNum\":729765,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":729765,\"rrn\":729765,\"dateTime\":\"20240205161500\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"65179553****4897\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":729765,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":729765},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:57.678 response time in milliseconds: 453\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:55 GMT\n1 < x-amzn-RequestId: 71b2ee8e-b100-4dcd-a787-c035e05de3cc\n1 < x-amz-apigw-id: Srlx5GPioAMEZUA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500b-502eb0e752212c390d3e4038\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: qGgnGDnJaHEi-CFLjpq102a4KWyRYtLSa-UqdoudVvRDhBoE63niVg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"572657aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE72976572976520240205161500\",\"approvalNum\":\"729765\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"729765\",\"rrn\":\"729765\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"65179553****4897\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"729765\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"729765\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE72976572976520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161555\"}]}\n\n"},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1659100,"millis":1.6591,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1104300,"millis":1.1043,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":978900,"millis":0.9789,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":54,"description":"","durationMillis":1820.9946,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167754044,"refId":"[1.3:54]","endTime":1707167757684,"exampleData":{"accountType":"CR","franchise":"DINERSCLUB","transactionType":"PUNTOS COLOMBIA"},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59087800,"millis":59.0878,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:54.091 karate.env system property was: dev-adqui \n16:15:55.827 this thread waited 1720 milliseconds for callSingle lock: classpath:helper\/CrearTokenDEVADQUI.feature\n"},{"result":{"nanos":2358800,"millis":2.3588,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":23093300,"millis":23.0933,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":162974200,"millis":162.9742,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":5842400,"millis":5.8424,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":2551400,"millis":2.5514,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":6415200,"millis":6.4152,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":874000,"millis":0.874,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":13651300,"millis":13.6513,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":11515100,"millis":11.5151,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":1620000,"millis":1.62,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":927300,"millis":0.9273,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":1022400900,"millis":1022.4009,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":17953200,"millis":17.9532,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":2565200,"millis":2.5652,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":13498200,"millis":13.4982,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1052000,"millis":1.052,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":238300,"millis":0.2383,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":461000,"millis":0.461,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":160100,"millis":0.1601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":799700,"millis":0.7997,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":838100,"millis":0.8381,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\""}},{"result":{"nanos":979700,"millis":0.9797,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\""}},{"result":{"nanos":848900,"millis":0.8489,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\""}},{"result":{"nanos":151500,"millis":0.1515,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":474820200,"millis":474.8202,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:57.230 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"981045aBcD\"},\"transaction\":{\"approvalNum\":481175,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":481175,\"rrn\":481175,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"22637397****6445\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":481175,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":481175},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:57.691 response time in milliseconds: 461\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:55 GMT\n1 < x-amzn-RequestId: 27d86912-d963-44d8-9022-fcafdfe493cb\n1 < x-amz-apigw-id: Srlx5E6PoAMEkWg=\n1 < X-Amzn-Trace-Id: Root=1-65c1500b-5ee7209e346e95f0229fe5e0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Iyo-KD4W1vDzzyC0N4c0OfLX_8kTv_PaXcahuaPThifmE9qoAh8oJg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"981045aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE48117548117520240205161500\",\"approvalNum\":\"481175\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"481175\",\"rrn\":\"481175\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"22637397****6445\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"481175\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"481175\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE48117548117520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161555\"}]}\n\n"},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1426200,"millis":1.4262,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":996200,"millis":0.9962,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":1269300,"millis":1.2693,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":55,"description":"","durationMillis":1831.3867,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167754014,"refId":"[1.4:55]","endTime":1707167757697,"exampleData":{"accountType":"LT","franchise":"MAESTRO","transactionType":"LEALTADPLUS"},"exampleIndex":3},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18562000,"millis":18.562,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:57.694 karate.env system property was: dev-adqui \n"},{"result":{"nanos":465600,"millis":0.4656,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1366100,"millis":1.3661,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1425700,"millis":1.4257,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":862600,"millis":0.8626,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":793900,"millis":0.7939,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":643200,"millis":0.6432,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":564300,"millis":0.5643,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1676000,"millis":1.676,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":2145100,"millis":2.1451,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":994300,"millis":0.9943,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1403200,"millis":1.4032,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":9159500,"millis":9.1595,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1251900,"millis":1.2519,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":790400,"millis":0.7904,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":699500,"millis":0.6995,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":476900,"millis":0.4769,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":121300,"millis":0.1213,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":149400,"millis":0.1494,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":111600,"millis":0.1116,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":592700,"millis":0.5927,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1069500,"millis":1.0695,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\""}},{"result":{"nanos":935700,"millis":0.9357,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\""}},{"result":{"nanos":844700,"millis":0.8447,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\""}},{"result":{"nanos":123000,"millis":0.123,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":229269600,"millis":229.2696,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:57.750 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"178992aBcD\"},\"transaction\":{\"approvalNum\":270749,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":270749,\"rrn\":270749,\"dateTime\":\"20240205161500\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"67405971****4753\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":270749,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":270749},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:57.975 response time in milliseconds: 225\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:56 GMT\n1 < x-amzn-RequestId: f3488f9a-942a-4e7e-ad64-beb99ee4a1b6\n1 < x-amz-apigw-id: Srlx9HXoIAMEVFw=\n1 < X-Amzn-Trace-Id: Root=1-65c1500c-21dfa4181198b30a0c0deffe\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 029192accfd6bfc8c2572988b78b92e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: DxLb9Yz4ZkpPCHyMkJyzXdNtn5k25ZeXg6rO9ulR5VhVKBeLDOF3OA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"178992aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE27074927074920240205161500\",\"approvalNum\":\"270749\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"270749\",\"rrn\":\"270749\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"67405971****4753\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"270749\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"270749\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE27074927074920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161556\"}]}\n\n"},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":981100,"millis":0.9811,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":676900,"millis":0.6769,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":296700,"millis":0.2967,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":56,"description":"","durationMillis":278.4721,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167757689,"refId":"[1.5:56]","endTime":1707167757979,"exampleData":{"accountType":"CM","franchise":"CREDENCIAL","transactionType":"T. PRIVADA"},"exampleIndex":4},{"sectionIndex":0,"stepResults":[{"result":{"nanos":12707400,"millis":12.7074,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:57.715 karate.env system property was: dev-adqui \n"},{"result":{"nanos":712500,"millis":0.7125,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":20164900,"millis":20.1649,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":2031600,"millis":2.0316,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":6115600,"millis":6.1156,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":768800,"millis":0.7688,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":893500,"millis":0.8935,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":24060800,"millis":24.0608,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":15276500,"millis":15.2765,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1859300,"millis":1.8593,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":555100,"millis":0.5551,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":7022200,"millis":7.0222,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":17358500,"millis":17.3585,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":3986700,"millis":3.9867,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":2119700,"millis":2.1197,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":930200,"millis":0.9302,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":530000,"millis":0.53,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":127200,"millis":0.1272,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":180700,"millis":0.1807,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":128000,"millis":0.128,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":370600,"millis":0.3706,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":6388600,"millis":6.3886,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\""}},{"result":{"nanos":1666300,"millis":1.6663,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\""}},{"result":{"nanos":1229400,"millis":1.2294,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\""}},{"result":{"nanos":130600,"millis":0.1306,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":382457100,"millis":382.4571,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:57.864 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"493748aBcD\"},\"transaction\":{\"approvalNum\":601935,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":601935,\"rrn\":601935,\"dateTime\":\"20240205161500\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"63119264****9438\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":601935,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":601935},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:58.240 response time in milliseconds: 376\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:56 GMT\n1 < x-amzn-RequestId: 5ddf182c-fb06-4aaf-b7a3-1037c472bd96\n1 < x-amz-apigw-id: Srlx_F3aoAMEHyg=\n1 < X-Amzn-Trace-Id: Root=1-65c1500c-5d243f035b979bc51fe2bc71\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: ghzVdZEVptNpBiVv_3f9DgTiZratdihwP7xFLMPSX8KWQ3CMiba7BQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"493748aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE60193560193520240205161500\",\"approvalNum\":\"601935\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"601935\",\"rrn\":\"601935\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"63119264****9438\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"601935\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"601935\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE60193560193520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161556\"}]}\n\n"},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":6197600,"millis":6.1976,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":952800,"millis":0.9528,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":453700,"millis":0.4537,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":57,"description":"","durationMillis":517.4005,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167757710,"refId":"[1.6:57]","endTime":1707167758252,"exampleData":{"accountType":"CU","franchise":"MASTERCARD","transactionType":"TOTAL BONOS"},"exampleIndex":5},{"sectionIndex":0,"stepResults":[{"result":{"nanos":166527300,"millis":166.5273,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:57.707 karate.env system property was: dev-adqui \n"},{"result":{"nanos":525700,"millis":0.5257,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":2634200,"millis":2.6342,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1390400,"millis":1.3904,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":896700,"millis":0.8967,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":1866500,"millis":1.8665,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1847400,"millis":1.8474,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":942100,"millis":0.9421,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1810000,"millis":1.81,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1622100,"millis":1.6221,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":442800,"millis":0.4428,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":492800,"millis":0.4928,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":223384800,"millis":223.3848,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1476400,"millis":1.4764,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":5610800,"millis":5.6108,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1699200,"millis":1.6992,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":594000,"millis":0.594,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":108300,"millis":0.1083,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":135800,"millis":0.1358,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":164600,"millis":0.1646,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":464400,"millis":0.4644,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":66955800,"millis":66.9558,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\""}},{"result":{"nanos":1665000,"millis":1.665,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\""}},{"result":{"nanos":81718200,"millis":81.7182,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\""}},{"result":{"nanos":167700,"millis":0.1677,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":446695600,"millis":446.6956,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:58.282 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2818\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"278174aBcD\"},\"transaction\":{\"approvalNum\":939678,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":939678,\"rrn\":939678,\"dateTime\":\"20240205161500\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"13939282****1511\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":939678,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":939678},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:58.724 response time in milliseconds: 442\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 783\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:56 GMT\n1 < x-amzn-RequestId: 6ae33d26-d1d8-4894-89fb-3548e92b74ec\n1 < x-amz-apigw-id: SrlyEHF9oAMEpFQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500c-2adc9e193a57d0fe1ab22ae8\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Zorj-XVycFUWKsafZudchDlw2oxBP3ubl2At0B_vjPOJOMKWrP4aTQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"278174aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE93967893967820240205161500\",\"approvalNum\":\"939678\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"939678\",\"rrn\":\"939678\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"13939282****1511\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"939678\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"939678\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE93967893967820240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161556\"}]}\n\n"},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":818300,"millis":0.8183,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":653300,"millis":0.6533,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":222000,"millis":0.222,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":58,"description":"","durationMillis":1013.5513,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167757704,"refId":"[1.7:58]","endTime":1707167758727,"exampleData":{"accountType":"BE","franchise":"VISA DEBIT","transactionType":"BONOS RECARGABLES"},"exampleIndex":6},{"sectionIndex":0,"stepResults":[{"result":{"nanos":170840000,"millis":170.84,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:57.715 karate.env system property was: dev-adqui \n"},{"result":{"nanos":380600,"millis":0.3806,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1391600,"millis":1.3916,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":2158700,"millis":2.1587,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":519500,"millis":0.5195,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":473800,"millis":0.4738,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":488000,"millis":0.488,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":483300,"millis":0.4833,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1503200,"millis":1.5032,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":2061900,"millis":2.0619,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":1499300,"millis":1.4993,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":703500,"millis":0.7035,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":11793700,"millis":11.7937,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1202200,"millis":1.2022,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":783000,"millis":0.783,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":647000,"millis":0.647,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":450800,"millis":0.4508,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":123600,"millis":0.1236,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":149300,"millis":0.1493,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":125100,"millis":0.1251,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":349700,"millis":0.3497,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1817200,"millis":1.8172,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\""}},{"result":{"nanos":1795900,"millis":1.7959,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\""}},{"result":{"nanos":1517500,"millis":1.5175,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\""}},{"result":{"nanos":147900,"millis":0.1479,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":234073900,"millis":234.0739,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:57.926 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"482931aBcD\"},\"transaction\":{\"approvalNum\":816177,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":816177,\"rrn\":816177,\"dateTime\":\"20240205161500\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"46755433****9713\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":816177,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":816177},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:58.156 response time in milliseconds: 230\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:56 GMT\n1 < x-amzn-RequestId: 160ec3b0-7858-42f4-b38c-db5f5254b30e\n1 < x-amz-apigw-id: Srlx-FBhIAMEvPg=\n1 < X-Amzn-Trace-Id: Root=1-65c1500c-49e5109316e9756627614aff\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: r2K7hYSRKWq_j3uJWSqc2Y8D01-H-I5NqrRnf7-McQ_1ao7PZqUIlQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"482931aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE81617781617720240205161500\",\"approvalNum\":\"816177\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"816177\",\"rrn\":\"816177\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"46755433****9713\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"816177\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"816177\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE81617781617720240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161556\"}]}\n\n"},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1709300,"millis":1.7093,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1598100,"millis":1.5981,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":333400,"millis":0.3334,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":59,"description":"","durationMillis":441.1377,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167757710,"refId":"[1.8:59]","endTime":1707167758162,"exampleData":{"accountType":"RT","franchise":"V.ELECTRON","transactionType":"PCR"},"exampleIndex":7},{"sectionIndex":0,"stepResults":[{"result":{"nanos":7713300,"millis":7.7133,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:57.987 karate.env system property was: dev-adqui \n"},{"result":{"nanos":404200,"millis":0.4042,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":636000,"millis":0.636,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1375500,"millis":1.3755,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":9890800,"millis":9.8908,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":1218800,"millis":1.2188,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":487100,"millis":0.4871,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":387000,"millis":0.387,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1603100,"millis":1.6031,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1637000,"millis":1.637,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":462300,"millis":0.4623,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":458600,"millis":0.4586,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":14860400,"millis":14.8604,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1945000,"millis":1.945,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1230400,"millis":1.2304,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":788200,"millis":0.7882,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":503600,"millis":0.5036,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":93700,"millis":0.0937,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":137700,"millis":0.1377,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":79500,"millis":0.0795,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":482100,"millis":0.4821,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":2763400,"millis":2.7634,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\""}},{"result":{"nanos":1434500,"millis":1.4345,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\""}},{"result":{"nanos":999100,"millis":0.9991,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\""}},{"result":{"nanos":113400,"millis":0.1134,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":242624200,"millis":242.6242,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:58.046 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2816\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"432368aBcD\"},\"transaction\":{\"approvalNum\":781522,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":781522,\"rrn\":781522,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"99098212****9168\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":781522,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":781522},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:58.286 response time in milliseconds: 238\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:56 GMT\n1 < x-amzn-RequestId: 53122265-1fc8-4bf4-adeb-34d2f07195c7\n1 < x-amz-apigw-id: SrlyAEzDoAMErkw=\n1 < X-Amzn-Trace-Id: Root=1-65c1500c-6595bf9d1993861b563fe7b1\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Q-HNZaMwoZ3ZRn_-ARXD348GsHYnt47Yue-Au12StgeFxm9zYlgwQQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"432368aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE78152278152220240205161500\",\"approvalNum\":\"781522\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"781522\",\"rrn\":\"781522\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"99098212****9168\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"781522\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"781522\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE78152278152220240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161556\"}]}\n\n"},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":778900,"millis":0.7789,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1422100,"millis":1.4221,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":245100,"millis":0.2451,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":60,"description":"","durationMillis":296.7915,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167757986,"refId":"[1.9:60]","endTime":1707167758289,"exampleData":{"accountType":"RG","franchise":"CREDITO P","transactionType":"RECARGA EFECTIVO"},"exampleIndex":8},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4234700,"millis":4.2347,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:58.167 karate.env system property was: dev-adqui \n"},{"result":{"nanos":822400,"millis":0.8224,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":627900,"millis":0.6279,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1433900,"millis":1.4339,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":1439900,"millis":1.4399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":568800,"millis":0.5688,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":503100,"millis":0.5031,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":484800,"millis":0.4848,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":2259500,"millis":2.2595,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1820600,"millis":1.8206,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":585000,"millis":0.585,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":696600,"millis":0.6966,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":8452900,"millis":8.4529,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1312700,"millis":1.3127,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":817700,"millis":0.8177,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":623700,"millis":0.6237,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":1410400,"millis":1.4104,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":99900,"millis":0.0999,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":153900,"millis":0.1539,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":92800,"millis":0.0928,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":313300,"millis":0.3133,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1413100,"millis":1.4131,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\""}},{"result":{"nanos":1743200,"millis":1.7432,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\""}},{"result":{"nanos":1352600,"millis":1.3526,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\""}},{"result":{"nanos":507100,"millis":0.5071,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":398098800,"millis":398.0988,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:58.209 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"119001aBcD\"},\"transaction\":{\"approvalNum\":202489,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":202489,\"rrn\":202489,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"93741116****3039\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":202489,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":202489},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:58.603 response time in milliseconds: 393\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:56 GMT\n1 < x-amzn-RequestId: 2d638e89-6403-4e3d-91e2-05d628786455\n1 < x-amz-apigw-id: SrlyDESCoAMECxQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500c-1b6d12347f49ab60523e63dd\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: lS6aFTcNtkh0f0ReKMxvm5izwne4dGSkG1NhVHwDuUWdocpQ91-YQA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"119001aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE20248920248920240205161500\",\"approvalNum\":\"202489\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"202489\",\"rrn\":\"202489\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"93741116****3039\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"202489\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"202489\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE20248920248920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161556\"}]}\n\n"},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":839300,"millis":0.8393,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":481700,"millis":0.4817,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":239100,"millis":0.2391,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":61,"description":"","durationMillis":433.4997,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167758167,"refId":"[1.10:61]","endTime":1707167758606,"exampleData":{"accountType":"DS","franchise":"T. ALKOSTO","transactionType":"RECARGAS"},"exampleIndex":9},{"sectionIndex":0,"stepResults":[{"result":{"nanos":3364000,"millis":3.364,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:58.259 karate.env system property was: dev-adqui \n"},{"result":{"nanos":240500,"millis":0.2405,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":476500,"millis":0.4765,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1053000,"millis":1.053,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":659400,"millis":0.6594,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":412500,"millis":0.4125,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":369600,"millis":0.3696,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":558500,"millis":0.5585,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":2397000,"millis":2.397,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1918100,"millis":1.9181,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":516900,"millis":0.5169,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":361800,"millis":0.3618,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":22033900,"millis":22.0339,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1430500,"millis":1.4305,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":713100,"millis":0.7131,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":617800,"millis":0.6178,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":737400,"millis":0.7374,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":129200,"millis":0.1292,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":189500,"millis":0.1895,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":130800,"millis":0.1308,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":399300,"millis":0.3993,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":4206000,"millis":4.206,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\""}},{"result":{"nanos":1841300,"millis":1.8413,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\""}},{"result":{"nanos":932500,"millis":0.9325,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\""}},{"result":{"nanos":77700,"millis":0.0777,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":381054900,"millis":381.0549,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:58.314 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"228119aBcD\"},\"transaction\":{\"approvalNum\":945814,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":945814,\"rrn\":945814,\"dateTime\":\"20240205161500\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"29437737****1608\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":945814,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":945814},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:58.683 response time in milliseconds: 369\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:56 GMT\n1 < x-amzn-RequestId: f3883c5e-cb36-4f22-a025-0f1c5a86ad7c\n1 < x-amz-apigw-id: SrlyEGHxoAMEe-g=\n1 < X-Amzn-Trace-Id: Root=1-65c1500c-5904f7155552ec4f02e5536d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: c-fgbjtk6zs_dabzdRco1FkFFSDN_VvDLnLLUCOkHtdjMosRbFo7WA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"228119aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE94581494581420240205161500\",\"approvalNum\":\"945814\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"945814\",\"rrn\":\"945814\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"29437737****1608\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"945814\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"945814\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE94581494581420240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161556\"}]}\n\n"},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1913300,"millis":1.9133,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":500600,"millis":0.5006,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":221000,"millis":0.221,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":62,"description":"","durationMillis":429.4757,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167758258,"refId":"[1.11:62]","endTime":1707167758692,"exampleData":{"accountType":"BC","franchise":"TUYA","transactionType":"EFECTIVO"},"exampleIndex":10},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4423600,"millis":4.4236,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:58.294 karate.env system property was: dev-adqui \n"},{"result":{"nanos":429500,"millis":0.4295,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":577000,"millis":0.577,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1175400,"millis":1.1754,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":1589800,"millis":1.5898,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":400900,"millis":0.4009,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":525800,"millis":0.5258,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":350000,"millis":0.35,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1382800,"millis":1.3828,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1375400,"millis":1.3754,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":359600,"millis":0.3596,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":319000,"millis":0.319,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":5583000,"millis":5.583,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1081700,"millis":1.0817,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":740400,"millis":0.7404,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":544400,"millis":0.5444,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":412300,"millis":0.4123,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":103100,"millis":0.1031,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":107600,"millis":0.1076,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":241900,"millis":0.2419,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":2445200,"millis":2.4452,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\""}},{"result":{"nanos":1160100,"millis":1.1601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\""}},{"result":{"nanos":1263000,"millis":1.263,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\""}},{"result":{"nanos":171800,"millis":0.1718,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":210353100,"millis":210.3531,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:58.327 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"469300aBcD\"},\"transaction\":{\"approvalNum\":909416,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":909416,\"rrn\":909416,\"dateTime\":\"20240205161500\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"94927277****6407\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":909416,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":909416},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:58.535 response time in milliseconds: 208\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:56 GMT\n1 < x-amzn-RequestId: d64875e7-1a16-4a93-8803-769591b6d45f\n1 < x-amz-apigw-id: SrlyCG2xIAMEC7g=\n1 < X-Amzn-Trace-Id: Root=1-65c1500c-423b7e41675c48c25a3c30bc\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 aeb457e87760dc433cf50cdb15399112.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 5GlUhNekjabzHcSywQ5mf2hJ057eqswRiaqlVSHwNXQUV2wMBMvKfw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"469300aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE90941690941620240205161500\",\"approvalNum\":\"909416\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"909416\",\"rrn\":\"909416\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"94927277****6407\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"909416\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"909416\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE90941690941620240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161556\"}]}\n\n"},{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1085900,"millis":1.0859,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1152600,"millis":1.1526,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":257800,"millis":0.2578,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":63,"description":"","durationMillis":239.6998,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167758294,"refId":"[1.12:63]","endTime":1707167758538,"exampleData":{"accountType":"BD","franchise":"PRIVADACR","transactionType":"IMPUESTOS"},"exampleIndex":11},{"sectionIndex":0,"stepResults":[{"result":{"nanos":8515400,"millis":8.5154,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:58.543 karate.env system property was: dev-adqui \n"},{"result":{"nanos":615200,"millis":0.6152,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":534000,"millis":0.534,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1406200,"millis":1.4062,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":679100,"millis":0.6791,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":500500,"millis":0.5005,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":428800,"millis":0.4288,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":335900,"millis":0.3359,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1259200,"millis":1.2592,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1385900,"millis":1.3859,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":419500,"millis":0.4195,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":383000,"millis":0.383,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":9211000,"millis":9.211,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1150800,"millis":1.1508,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":725200,"millis":0.7252,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":595100,"millis":0.5951,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":403300,"millis":0.4033,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":77900,"millis":0.0779,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":162100,"millis":0.1621,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":80200,"millis":0.0802,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":289200,"millis":0.2892,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1245900,"millis":1.2459,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\""}},{"result":{"nanos":996600,"millis":0.9966,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\""}},{"result":{"nanos":827700,"millis":0.8277,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\""}},{"result":{"nanos":95400,"millis":0.0954,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":212289200,"millis":212.2892,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:58.582 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"719363aBcD\"},\"transaction\":{\"approvalNum\":407670,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":407670,\"rrn\":407670,\"dateTime\":\"20240205161500\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"48143561****2797\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":407670,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":407670},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:58.784 response time in milliseconds: 201\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:57 GMT\n1 < x-amzn-RequestId: 2f678036-bab8-42cd-8d58-c54219976a7a\n1 < x-amz-apigw-id: SrlyFF14oAMEDSg=\n1 < X-Amzn-Trace-Id: Root=1-65c1500d-1ebb64202581b2a97f0ae37d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Y-bcIqhDxo0fh-kKQ0Ic5ijqhKT7t4QhtpHmixAtDBhyKlB4C40_Cg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"719363aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE40767040767020240205161500\",\"approvalNum\":\"407670\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"407670\",\"rrn\":\"407670\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"48143561****2797\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"407670\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"407670\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE40767040767020240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161557\"}]}\n\n"},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1366600,"millis":1.3666,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":980200,"millis":0.9802,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":972900,"millis":0.9729,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":64,"description":"","durationMillis":247.9587,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167758543,"refId":"[1.13:64]","endTime":1707167758795,"exampleData":{"accountType":"SP","franchise":"CREDENVISA","transactionType":"WIZEO"},"exampleIndex":12},{"sectionIndex":0,"stepResults":[{"result":{"nanos":13287900,"millis":13.2879,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:58.611 karate.env system property was: dev-adqui \n"},{"result":{"nanos":365200,"millis":0.3652,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":525300,"millis":0.5253,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1231600,"millis":1.2316,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":626600,"millis":0.6266,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":422800,"millis":0.4228,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":351600,"millis":0.3516,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":340700,"millis":0.3407,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1228300,"millis":1.2283,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1090400,"millis":1.0904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":374300,"millis":0.3743,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":446300,"millis":0.4463,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":52142300,"millis":52.1423,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1982700,"millis":1.9827,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":647900,"millis":0.6479,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":492500,"millis":0.4925,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":617800,"millis":0.6178,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":88800,"millis":0.0888,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":129600,"millis":0.1296,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":595900,"millis":0.5959,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":313200,"millis":0.3132,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1408000,"millis":1.408,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":916100,"millis":0.9161,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\""}},{"result":{"nanos":761000,"millis":0.761,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\""}},{"result":{"nanos":91700,"millis":0.0917,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":268673700,"millis":268.6737,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:58.698 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"348716aBcD\"},\"transaction\":{\"approvalNum\":371271,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":371271,\"rrn\":371271,\"dateTime\":\"20240205161500\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"40818310****5825\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":371271,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":371271},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:58.964 response time in milliseconds: 266\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:57 GMT\n1 < x-amzn-RequestId: 5eaa4cf2-5229-4cd5-979a-972113db2237\n1 < x-amz-apigw-id: SrlyGEaBIAMErOA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500d-3d78f1012747aad670fca779\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 064907318388ddb71d9d0db586a17f3a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: afWxwZU_1VcIm3Y13dARzIwkiPsSaFmJNdcXhLH7N1jekJMiPHfKEQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"348716aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE37127137127120240205161500\",\"approvalNum\":\"371271\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"371271\",\"rrn\":\"371271\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"40818310****5825\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"371271\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"371271\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE37127137127120240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161557\"}]}\n\n"},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1219100,"millis":1.2191,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1081100,"millis":1.0811,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":1017600,"millis":1.0176,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":65,"description":"","durationMillis":352.4905,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167758611,"refId":"[1.14:65]","endTime":1707167758968,"exampleData":{"accountType":"00","franchise":"COLSUBISIDIO","transactionType":"OPS"},"exampleIndex":13},{"sectionIndex":0,"stepResults":[{"result":{"nanos":70403700,"millis":70.4037,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:58.700 karate.env system property was: dev-adqui \n"},{"result":{"nanos":222500,"millis":0.2225,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":315800,"millis":0.3158,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":748000,"millis":0.748,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":397400,"millis":0.3974,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":819000,"millis":0.819,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":391100,"millis":0.3911,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":334200,"millis":0.3342,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1172900,"millis":1.1729,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":982300,"millis":0.9823,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":10968400,"millis":10.9684,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":394600,"millis":0.3946,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":18872800,"millis":18.8728,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1001900,"millis":1.0019,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":861900,"millis":0.8619,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":639700,"millis":0.6397,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":603600,"millis":0.6036,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":780300,"millis":0.7803,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":1060100,"millis":1.0601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":504200,"millis":0.5042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":623900,"millis":0.6239,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1752000,"millis":1.752,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\""}},{"result":{"nanos":1178300,"millis":1.1783,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\""}},{"result":{"nanos":842100,"millis":0.8421,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\""}},{"result":{"nanos":93300,"millis":0.0933,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":384734400,"millis":384.7344,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:58.829 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"274347aBcD\"},\"transaction\":{\"approvalNum\":638930,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":638930,\"rrn\":638930,\"dateTime\":\"20240205161500\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"34105933****7826\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":638930,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":638930},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:59.209 response time in milliseconds: 380\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:57 GMT\n1 < x-amzn-RequestId: 58f60d1a-db75-4b51-b29d-ebb8f665c6a5\n1 < x-amz-apigw-id: SrlyJEtQoAMEKDQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500d-0c755b957f7eb5f24069322d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c044357f15da715d4a1fab016bbf0008.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: uarDjtSsxAGXssu3mULoK28gb9hP-IwU12qn_-LgepzrPnVH3_mN_g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"274347aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE63893063893020240205161500\",\"approvalNum\":\"638930\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"638930\",\"rrn\":\"638930\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"34105933****7826\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"638930\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"638930\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE63893063893020240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161557\"}]}\n\n"},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1192200,"millis":1.1922,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":812800,"millis":0.8128,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":941500,"millis":0.9415,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":66,"description":"","durationMillis":503.6579,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167758699,"refId":"[1.15:66]","endTime":1707167759213,"exampleData":{"accountType":"LT","franchise":"CAJA C.F.","transactionType":"LIFEMILES"},"exampleIndex":14},{"sectionIndex":0,"stepResults":[{"result":{"nanos":8018100,"millis":8.0181,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:58.733 karate.env system property was: dev-adqui \n"},{"result":{"nanos":491100,"millis":0.4911,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":657800,"millis":0.6578,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":3202500,"millis":3.2025,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":951300,"millis":0.9513,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":500900,"millis":0.5009,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":282300,"millis":0.2823,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":272100,"millis":0.2721,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1885700,"millis":1.8857,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":6891200,"millis":6.8912,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":772700,"millis":0.7727,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":532200,"millis":0.5322,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":12998600,"millis":12.9986,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":893900,"millis":0.8939,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":524300,"millis":0.5243,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":537700,"millis":0.5377,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":516000,"millis":0.516,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":923200,"millis":0.9232,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":186500,"millis":0.1865,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":95900,"millis":0.0959,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":307800,"millis":0.3078,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1477600,"millis":1.4776,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\""}},{"result":{"nanos":1143500,"millis":1.1435,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\""}},{"result":{"nanos":1356100,"millis":1.3561,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"QR\""}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":262234100,"millis":262.2341,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:58.793 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"767039aBcD\"},\"transaction\":{\"approvalNum\":236873,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":236873,\"rrn\":236873,\"dateTime\":\"20240205161500\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"74927293****3761\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":236873,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":236873},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:59.042 response time in milliseconds: 249\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:57 GMT\n1 < x-amzn-RequestId: f3c8eec4-dafb-45db-b8bf-38012d9b041c\n1 < x-amz-apigw-id: SrlyHFX5IAMEjuA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500d-3200c68f54f5e2db6f29ad02\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: yP0dHCz3Z19-DebwpBT8se7JaZYm2DxmLd5Hsc5o3alj7n761rRe0A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"767039aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE23687323687320240205161500\",\"approvalNum\":\"236873\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"236873\",\"rrn\":\"236873\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"74927293****3761\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"236873\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"236873\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE23687323687320240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161557\"}]}\n\n"},{"result":{"nanos":582300,"millis":0.5823,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1313800,"millis":1.3138,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1003800,"millis":1.0038,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":1075400,"millis":1.0754,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":67,"description":"","durationMillis":311.6819,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167758732,"refId":"[1.16:67]","endTime":1707167759049,"exampleData":{"accountType":"CM","franchise":"T. PRIVADA","transactionType":"QR"},"exampleIndex":15},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23322400,"millis":23.3224,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:58.805 karate.env system property was: dev-adqui \n"},{"result":{"nanos":245300,"millis":0.2453,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1185500,"millis":1.1855,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":858700,"millis":0.8587,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":507400,"millis":0.5074,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":296400,"millis":0.2964,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":7537400,"millis":7.5374,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":513600,"millis":0.5136,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1116600,"millis":1.1166,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":914700,"millis":0.9147,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":344200,"millis":0.3442,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":467300,"millis":0.4673,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":4911900,"millis":4.9119,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":984700,"millis":0.9847,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":477900,"millis":0.4779,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":535600,"millis":0.5356,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":481200,"millis":0.4812,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":171400,"millis":0.1714,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":391800,"millis":0.3918,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":118400,"millis":0.1184,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":629100,"millis":0.6291,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1510600,"millis":1.5106,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\""}},{"result":{"nanos":903100,"millis":0.9031,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\""}},{"result":{"nanos":767400,"millis":0.7674,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\""}},{"result":{"nanos":140900,"millis":0.1409,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":235045300,"millis":235.0453,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:58.860 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"734127aBcD\"},\"transaction\":{\"approvalNum\":216860,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":216860,\"rrn\":216860,\"dateTime\":\"20240205161500\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"64262381****1750\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":216860,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":216860},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:59.093 response time in milliseconds: 233\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:57 GMT\n1 < x-amzn-RequestId: c5a87c8b-6306-4e95-94fd-6f73d5345f32\n1 < x-amz-apigw-id: SrlyIEa4oAMErOA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500d-6da195fe26891c5848fd82e5\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: N6gTzg57yJhU1j8EJV5BbpZt9uzDmfGk7dcxkRJj2mWR3bDhwzfiDw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"734127aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE21686021686020240205161500\",\"approvalNum\":\"216860\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"216860\",\"rrn\":\"216860\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"64262381****1750\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"216860\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"216860\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE21686021686020240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161557\"}]}\n\n"},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":610800,"millis":0.6108,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":384700,"millis":0.3847,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":784900,"millis":0.7849,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":68,"description":"","durationMillis":286.1979,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167758799,"refId":"[1.17:68]","endTime":1707167759096,"exampleData":{"accountType":"CU","franchise":"T. CREDITO","transactionType":"PSP"},"exampleIndex":16},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5169500,"millis":5.1695,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:58.979 karate.env system property was: dev-adqui \n"},{"result":{"nanos":307800,"millis":0.3078,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":2166000,"millis":2.166,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1721900,"millis":1.7219,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":538100,"millis":0.5381,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":328000,"millis":0.328,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":621500,"millis":0.6215,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":454900,"millis":0.4549,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1106700,"millis":1.1067,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":990800,"millis":0.9908,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":433600,"millis":0.4336,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":432000,"millis":0.432,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":301004600,"millis":301.0046,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":754200,"millis":0.7542,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":473900,"millis":0.4739,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":327900,"millis":0.3279,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":297200,"millis":0.2972,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":73400,"millis":0.0734,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":231100,"millis":0.2311,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1577900,"millis":1.5779,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\""}},{"result":{"nanos":2053400,"millis":2.0534,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\""}},{"result":{"nanos":1002200,"millis":1.0022,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\""}},{"result":{"nanos":215100,"millis":0.2151,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":386226000,"millis":386.226,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:59.309 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"970501aBcD\"},\"transaction\":{\"approvalNum\":761855,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":761855,\"rrn\":761855,\"dateTime\":\"20240205161500\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"29641897****7789\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":761855,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":761855},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:59.690 response time in milliseconds: 381\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:57 GMT\n1 < x-amzn-RequestId: 135df1bd-e9b3-4ca7-bbf1-bb290a914a8f\n1 < x-amz-apigw-id: SrlyOE3RoAMEVSg=\n1 < X-Amzn-Trace-Id: Root=1-65c1500d-49e29c7a593c19ed0f900a88\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: RbNEc3QdoYLj-51gox87hMVSfGxoJpcG2zQ8FfU18_ixRSjhYdMMVg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"970501aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE76185576185520240205161500\",\"approvalNum\":\"761855\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"761855\",\"rrn\":\"761855\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"29641897****7789\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"761855\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"761855\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE76185576185520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161557\"}]}\n\n"},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":535700,"millis":0.5357,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":363200,"millis":0.3632,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":120400,"millis":0.1204,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":69,"description":"","durationMillis":709.675,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167758975,"refId":"[1.18:69]","endTime":1707167759692,"exampleData":{"accountType":"LC","franchise":"T. EXITO","transactionType":"NODATA"},"exampleIndex":17},{"sectionIndex":0,"stepResults":[{"result":{"nanos":9103500,"millis":9.1035,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:59.063 karate.env system property was: dev-adqui \n"},{"result":{"nanos":307700,"millis":0.3077,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1603500,"millis":1.6035,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":977200,"millis":0.9772,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":788500,"millis":0.7885,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":493400,"millis":0.4934,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":269600,"millis":0.2696,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":366900,"millis":0.3669,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1491100,"millis":1.4911,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":9757800,"millis":9.7578,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":782700,"millis":0.7827,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":73523800,"millis":73.5238,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":12085300,"millis":12.0853,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":676600,"millis":0.6766,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":543500,"millis":0.5435,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":436900,"millis":0.4369,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":898100,"millis":0.8981,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":160000,"millis":0.16,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":137600,"millis":0.1376,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":519300,"millis":0.5193,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":10987600,"millis":10.9876,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\""}},{"result":{"nanos":3354700,"millis":3.3547,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\""}},{"result":{"nanos":2468800,"millis":2.4688,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\""}},{"result":{"nanos":109900,"millis":0.1099,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":243757100,"millis":243.7571,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:59.211 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"396025aBcD\"},\"transaction\":{\"approvalNum\":456717,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":456717,\"rrn\":456717,\"dateTime\":\"20240205161500\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"38611822****2880\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":456717,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":456717},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:59.444 response time in milliseconds: 231\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:57 GMT\n1 < x-amzn-RequestId: ba39af10-9577-495a-978d-37a0898d76ac\n1 < x-amz-apigw-id: SrlyLGjgoAMEioQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500d-3bd9171358296bac2d1aca46\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 029192accfd6bfc8c2572988b78b92e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: vkZR3Wk5RIBTVkyN-XOJUKY43j6EjLEwp3bwUfF_h_yqrNqao8Ph5Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"396025aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE45671745671720240205161500\",\"approvalNum\":\"456717\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"456717\",\"rrn\":\"456717\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"38611822****2880\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"456717\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"456717\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE45671745671720240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161557\"}]}\n\n"},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1181000,"millis":1.181,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":861600,"millis":0.8616,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":307000,"millis":0.307,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":70,"description":"","durationMillis":378.0431,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167759058,"refId":"[1.19:70]","endTime":1707167759447,"exampleData":{"accountType":"MD","franchise":"C.M.R","transactionType":"VENTA"},"exampleIndex":18},{"sectionIndex":0,"stepResults":[{"result":{"nanos":8588600,"millis":8.5886,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:59.100 karate.env system property was: dev-adqui \n"},{"result":{"nanos":441700,"millis":0.4417,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":554500,"millis":0.5545,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":802400,"millis":0.8024,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":634300,"millis":0.6343,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":352900,"millis":0.3529,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":285300,"millis":0.2853,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":293000,"millis":0.293,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":934700,"millis":0.9347,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":857200,"millis":0.8572,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":402700,"millis":0.4027,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":585600,"millis":0.5856,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":8175400,"millis":8.1754,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":789100,"millis":0.7891,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":477100,"millis":0.4771,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":429900,"millis":0.4299,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":327900,"millis":0.3279,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":89500,"millis":0.0895,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":778900,"millis":0.7789,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1602900,"millis":1.6029,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\""}},{"result":{"nanos":958400,"millis":0.9584,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\""}},{"result":{"nanos":776400,"millis":0.7764,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\""}},{"result":{"nanos":82600,"millis":0.0826,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":230554500,"millis":230.5545,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:59.137 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"149387aBcD\"},\"transaction\":{\"approvalNum\":290224,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":290224,\"rrn\":290224,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"85478047****3523\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":290224,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":290224},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:59.363 response time in milliseconds: 226\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:57 GMT\n1 < x-amzn-RequestId: 947987e2-4362-4cc7-900d-2458f4ee5bad\n1 < x-amz-apigw-id: SrlyKGpCIAMEEYQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500d-755b06497f7150ee21991a64\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: enYu7tA8EarfLQiO93ng_MoUUW_4PQKMhUPYuw0LVzh78O7kZUJcMQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"149387aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE29022429022420240205161500\",\"approvalNum\":\"290224\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"290224\",\"rrn\":\"290224\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"85478047****3523\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"290224\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"290224\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE29022429022420240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161557\"}]}\n\n"},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":468700,"millis":0.4687,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":251800,"millis":0.2518,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":150100,"millis":0.1501,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":71,"description":"","durationMillis":260.7761,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167759099,"refId":"[1.20:71]","endTime":1707167759365,"exampleData":{"accountType":"AM","franchise":"TARL TCO","transactionType":"LEALTAD"},"exampleIndex":19},{"sectionIndex":0,"stepResults":[{"result":{"nanos":6651600,"millis":6.6516,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:59.230 karate.env system property was: dev-adqui \n"},{"result":{"nanos":415900,"millis":0.4159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":6675800,"millis":6.6758,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":2508600,"millis":2.5086,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":1557700,"millis":1.5577,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":451700,"millis":0.4517,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":345600,"millis":0.3456,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":543700,"millis":0.5437,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":2254600,"millis":2.2546,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1394800,"millis":1.3948,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":382300,"millis":0.3823,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":242600,"millis":0.2426,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":11604800,"millis":11.6048,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":2926800,"millis":2.9268,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":997000,"millis":0.997,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":944300,"millis":0.9443,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":395800,"millis":0.3958,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":721700,"millis":0.7217,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":2018200,"millis":2.0182,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\""}},{"result":{"nanos":1005700,"millis":1.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\""}},{"result":{"nanos":3306200,"millis":3.3062,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\""}},{"result":{"nanos":222000,"millis":0.222,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":248147500,"millis":248.1475,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:59.284 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"514411aBcD\"},\"transaction\":{\"approvalNum\":447899,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":447899,\"rrn\":447899,\"dateTime\":\"20240205161500\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"21527765****9841\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":447899,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":447899},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:59.529 response time in milliseconds: 245\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 778\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:57 GMT\n1 < x-amzn-RequestId: b003706e-1854-4966-8f33-79f37d455ab8\n1 < x-amz-apigw-id: SrlyMEQoIAMEJpA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500d-6594c8701ea14bc50548f438\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: N-2FyDQ07I1GUbMxkPiiIuON_T5N3XFRHdmeU0ntEQ7JyzS7gF2_Kg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"514411aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE44789944789920240205161500\",\"approvalNum\":\"447899\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"447899\",\"rrn\":\"447899\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"21527765****9841\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"447899\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"447899\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE44789944789920240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161557\"}]}\n\n"},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":693100,"millis":0.6931,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":270700,"millis":0.2707,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":154900,"millis":0.1549,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":72,"description":"","durationMillis":297.0276,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167759217,"refId":"[1.21:72]","endTime":1707167759531,"exampleData":{"accountType":"NC","franchise":"PRIVADA","transactionType":"PUNTOS COLOMBIA"},"exampleIndex":20},{"sectionIndex":0,"stepResults":[{"result":{"nanos":3284000,"millis":3.284,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:59.372 karate.env system property was: dev-adqui \n"},{"result":{"nanos":151500,"millis":0.1515,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":410900,"millis":0.4109,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":744200,"millis":0.7442,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":457600,"millis":0.4576,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":245700,"millis":0.2457,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":340600,"millis":0.3406,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":235600,"millis":0.2356,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":988100,"millis":0.9881,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":857300,"millis":0.8573,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":221400,"millis":0.2214,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":249400,"millis":0.2494,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":5324900,"millis":5.3249,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":709000,"millis":0.709,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":331000,"millis":0.331,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":315800,"millis":0.3158,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":520900,"millis":0.5209,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":152900,"millis":0.1529,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":128700,"millis":0.1287,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":237400,"millis":0.2374,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1223400,"millis":1.2234,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\""}},{"result":{"nanos":851700,"millis":0.8517,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\""}},{"result":{"nanos":838100,"millis":0.8381,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\""}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":248754800,"millis":248.7548,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:59.395 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"821934aBcD\"},\"transaction\":{\"approvalNum\":740610,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":740610,\"rrn\":740610,\"dateTime\":\"20240205161500\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"45528048****5408\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":740610,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":740610},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:59.641 response time in milliseconds: 246\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:57 GMT\n1 < x-amzn-RequestId: 91fcd7b5-ebd9-4302-91ca-cfa51ee31247\n1 < x-amz-apigw-id: SrlyNGjsIAMEEaQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500d-028ea79732e9a7b5690cd231\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: -hUZZ7tXj9RZIBtfRXWzNQDZdKu8ZcLNynfNVza4N2Er3TaE4Zdwiw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"821934aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE74061074061020240205161500\",\"approvalNum\":\"740610\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"740610\",\"rrn\":\"740610\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"45528048****5408\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"740610\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"740610\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE74061074061020240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161557\"}]}\n\n"},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":438600,"millis":0.4386,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":306600,"millis":0.3066,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":136600,"millis":0.1366,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":73,"description":"","durationMillis":268.5989,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167759370,"refId":"[1.22:73]","endTime":1707167759643,"exampleData":{"accountType":"-","franchise":"CREDITOPR","transactionType":"LEALTADPLUS"},"exampleIndex":21},{"sectionIndex":0,"stepResults":[{"result":{"nanos":7734900,"millis":7.7349,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:59.461 karate.env system property was: dev-adqui \n"},{"result":{"nanos":240400,"millis":0.2404,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":397300,"millis":0.3973,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":649500,"millis":0.6495,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":326800,"millis":0.3268,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":210900,"millis":0.2109,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":157500,"millis":0.1575,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":153100,"millis":0.1531,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":736300,"millis":0.7363,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":3668500,"millis":3.6685,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":373200,"millis":0.3732,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":223800,"millis":0.2238,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":12315100,"millis":12.3151,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":626500,"millis":0.6265,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":371800,"millis":0.3718,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":340400,"millis":0.3404,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":251400,"millis":0.2514,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":61000,"millis":0.061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":3789500,"millis":3.7895,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1611500,"millis":1.6115,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":2264900,"millis":2.2649,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\""}},{"result":{"nanos":6286900,"millis":6.2869,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\""}},{"result":{"nanos":101000,"millis":0.101,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":413320600,"millis":413.3206,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:59.512 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"685625aBcD\"},\"transaction\":{\"approvalNum\":357575,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":357575,\"rrn\":357575,\"dateTime\":\"20240205161500\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"82048606****5567\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":357575,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":357575},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:59.922 response time in milliseconds: 410\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:58 GMT\n1 < x-amzn-RequestId: 5e7ef044-8900-4b13-a8c6-c0c7c5c9a68a\n1 < x-amz-apigw-id: SrlyQGVUoAMEmQw=\n1 < X-Amzn-Trace-Id: Root=1-65c1500e-0dcd247a08d8635f7acb147d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: _pmUujt4EFSMu0NPMHyVscy5eftXsyhDV8F_k7bK7mA2bcYoQ_Ircg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"685625aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE35757535757520240205161500\",\"approvalNum\":\"357575\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"357575\",\"rrn\":\"357575\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"82048606****5567\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"357575\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"357575\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE35757535757520240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161558\"}]}\n\n"},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":266600,"millis":0.2666,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":221500,"millis":0.2215,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":113400,"millis":0.1134,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":74,"description":"","durationMillis":456.9061,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167759460,"refId":"[1.23:74]","endTime":1707167759923,"exampleData":{"accountType":"AH","franchise":"BONO CODEN","transactionType":"T. PRIVADA"},"exampleIndex":22},{"sectionIndex":0,"stepResults":[{"result":{"nanos":6650700,"millis":6.6507,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:59.541 karate.env system property was: dev-adqui \n"},{"result":{"nanos":235400,"millis":0.2354,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":547700,"millis":0.5477,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":712900,"millis":0.7129,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":320800,"millis":0.3208,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":774900,"millis":0.7749,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":553100,"millis":0.5531,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":203600,"millis":0.2036,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":857200,"millis":0.8572,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":810300,"millis":0.8103,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":285000,"millis":0.285,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":250900,"millis":0.2509,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":357924800,"millis":357.9248,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1454600,"millis":1.4546,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":672300,"millis":0.6723,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1460900,"millis":1.4609,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":339100,"millis":0.3391,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":168600,"millis":0.1686,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":192500,"millis":0.1925,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":116600,"millis":0.1166,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":304500,"millis":0.3045,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1344900,"millis":1.3449,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":695600,"millis":0.6956,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\""}},{"result":{"nanos":984800,"millis":0.9848,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\""}},{"result":{"nanos":1034500,"millis":1.0345,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":241642500,"millis":241.6425,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:59.930 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"246357aBcD\"},\"transaction\":{\"approvalNum\":136837,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":136837,\"rrn\":136837,\"dateTime\":\"20240205161500\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"29144968****3994\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":136837,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":136837},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:00.167 response time in milliseconds: 237\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:58 GMT\n1 < x-amzn-RequestId: c2910542-479d-401d-96eb-68e435e72fb9\n1 < x-amz-apigw-id: SrlySEzWIAMEBiA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500e-6852b717051f6dd70ffc7c0e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: OdbF2nsCdI8i8V5lP5oxKrv_g5oszw3EsBh9Qr1lXqWTU-X2a_te6Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"246357aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE13683713683720240205161500\",\"approvalNum\":\"136837\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"136837\",\"rrn\":\"136837\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"29144968****3994\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"136837\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"136837\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE13683713683720240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161558\"}]}\n\n"},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1065100,"millis":1.0651,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":804700,"millis":0.8047,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":742400,"millis":0.7424,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":75,"description":"","durationMillis":623.1822,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167759541,"refId":"[1.24:75]","endTime":1707167760171,"exampleData":{"accountType":"CC","franchise":"BONOS","transactionType":"TOTAL BONOS"},"exampleIndex":23},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5589600,"millis":5.5896,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:59.647 karate.env system property was: dev-adqui \n"},{"result":{"nanos":305000,"millis":0.305,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":684700,"millis":0.6847,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":734300,"millis":0.7343,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":441900,"millis":0.4419,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":196400,"millis":0.1964,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":144000,"millis":0.144,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":156300,"millis":0.1563,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":754100,"millis":0.7541,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":633600,"millis":0.6336,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":200900,"millis":0.2009,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":254700,"millis":0.2547,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":5010300,"millis":5.0103,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":582900,"millis":0.5829,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":482200,"millis":0.4822,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":304900,"millis":0.3049,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":473400,"millis":0.4734,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":81500,"millis":0.0815,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":143800,"millis":0.1438,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":206900,"millis":0.2069,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":2173000,"millis":2.173,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":1703500,"millis":1.7035,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\""}},{"result":{"nanos":1052100,"millis":1.0521,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\""}},{"result":{"nanos":94500,"millis":0.0945,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":233916900,"millis":233.9169,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:59.679 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2814\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"298408aBcD\"},\"transaction\":{\"approvalNum\":203424,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":203424,\"rrn\":203424,\"dateTime\":\"20240205161500\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"96716787****8834\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":203424,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":203424},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:15:59.906 response time in milliseconds: 227\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 779\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:58 GMT\n1 < x-amzn-RequestId: ca13daa5-721a-44e5-aac1-e07756b76ead\n1 < x-amz-apigw-id: SrlyQELioAMEpDQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500e-236f6f9e3bce3b372c395719\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: rK78JZlZTwN6XsRCa6UHQMbC-DFQFlj561l6iFd5GEqeUocyA_6uDg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"298408aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE20342420342420240205161500\",\"approvalNum\":\"203424\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"203424\",\"rrn\":\"203424\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"96716787****8834\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"203424\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"203424\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE20342420342420240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161558\"}]}\n\n"},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":488200,"millis":0.4882,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":229700,"millis":0.2297,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":194600,"millis":0.1946,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":76,"description":"","durationMillis":257.2973,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167759646,"refId":"[1.25:76]","endTime":1707167759908,"exampleData":{"accountType":"CR","franchise":"SODEXO","transactionType":"BONOS RECARGABLES"},"exampleIndex":24},{"sectionIndex":0,"stepResults":[{"result":{"nanos":2526200,"millis":2.5262,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:59.695 karate.env system property was: dev-adqui \n"},{"result":{"nanos":203400,"millis":0.2034,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":348500,"millis":0.3485,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":599800,"millis":0.5998,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":387100,"millis":0.3871,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":491200,"millis":0.4912,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":384300,"millis":0.3843,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":371900,"millis":0.3719,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1074200,"millis":1.0742,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":823300,"millis":0.8233,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":232800,"millis":0.2328,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":213800,"millis":0.2138,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":4926800,"millis":4.9268,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":553100,"millis":0.5531,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":297900,"millis":0.2979,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":249600,"millis":0.2496,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":228000,"millis":0.228,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":170700,"millis":0.1707,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":934800,"millis":0.9348,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\""}},{"result":{"nanos":729600,"millis":0.7296,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\""}},{"result":{"nanos":564800,"millis":0.5648,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\""}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":393514400,"millis":393.5144,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:59.717 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"325702aBcD\"},\"transaction\":{\"approvalNum\":133000,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":133000,\"rrn\":133000,\"dateTime\":\"20240205161500\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"71725706****2338\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":133000,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":133000},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:00.107 response time in milliseconds: 390\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:58 GMT\n1 < x-amzn-RequestId: b5cba675-1190-4d72-aa94-cd3aa4ae7cfb\n1 < x-amz-apigw-id: SrlySE8zIAMEeKQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500e-5c3ec27225cb1f78564a4c16\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 029192accfd6bfc8c2572988b78b92e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: LkbfuyW-_VmHOKt4XeW-cUQmfFRYDXTTX-fhxJuYMp_TF9AY0Ocyig==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"325702aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE13300013300020240205161500\",\"approvalNum\":\"133000\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"133000\",\"rrn\":\"133000\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"71725706****2338\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"133000\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"133000\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE13300013300020240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161558\"}]}\n\n"},{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":953400,"millis":0.9534,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":635300,"millis":0.6353,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":838200,"millis":0.8382,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":77,"description":"","durationMillis":412.4536,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167759695,"refId":"[1.26:77]","endTime":1707167760110,"exampleData":{"accountType":"LT","franchise":"BIG PASS","transactionType":"PCR"},"exampleIndex":25},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60180400,"millis":60.1804,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:59.912 karate.env system property was: dev-adqui \n"},{"result":{"nanos":179000,"millis":0.179,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":331300,"millis":0.3313,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":672500,"millis":0.6725,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":307200,"millis":0.3072,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":196100,"millis":0.1961,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":149100,"millis":0.1491,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":180200,"millis":0.1802,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":686700,"millis":0.6867,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":632900,"millis":0.6329,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":159500,"millis":0.1595,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":129000,"millis":0.129,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":12493400,"millis":12.4934,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":896900,"millis":0.8969,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":496800,"millis":0.4968,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":349100,"millis":0.3491,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":486300,"millis":0.4863,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":79500,"millis":0.0795,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":62600,"millis":0.0626,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":203500,"millis":0.2035,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1173200,"millis":1.1732,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\""}},{"result":{"nanos":6483400,"millis":6.4834,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\""}},{"result":{"nanos":1728700,"millis":1.7287,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\""}},{"result":{"nanos":166100,"millis":0.1661,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":253789100,"millis":253.7891,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:16:00.006 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2816\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"441485aBcD\"},\"transaction\":{\"approvalNum\":647283,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":647283,\"rrn\":647283,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"20856446****5506\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":647283,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":647283},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:00.256 response time in milliseconds: 250\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:58 GMT\n1 < x-amzn-RequestId: 325da2c1-7e53-4f1b-a38e-525bc66e94ff\n1 < x-amz-apigw-id: SrlyTEWNoAMESGQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500e-2347d4912e31fd5f64829093\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 58ni9v05m6Z15R67lIHb1dN97FLY_8EqSKacePKKFXSezKtIX3saJA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"441485aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE64728364728320240205161500\",\"approvalNum\":\"647283\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"647283\",\"rrn\":\"647283\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"20856446****5506\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"647283\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"647283\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE64728364728320240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161558\"}]}\n\n"},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":950100,"millis":0.9501,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":625800,"millis":0.6258,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":590800,"millis":0.5908,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":78,"description":"","durationMillis":344.4447,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167759912,"refId":"[1.27:78]","endTime":1707167760259,"exampleData":{"accountType":"CM","franchise":"BTERA.OTP","transactionType":"RECARGA EFECTIVO"},"exampleIndex":26},{"sectionIndex":0,"stepResults":[{"result":{"nanos":2750200,"millis":2.7502,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:15:59.927 karate.env system property was: dev-adqui \n"},{"result":{"nanos":207300,"millis":0.2073,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":349300,"millis":0.3493,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":668800,"millis":0.6688,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":321800,"millis":0.3218,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":448000,"millis":0.448,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":202300,"millis":0.2023,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":168600,"millis":0.1686,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":5643600,"millis":5.6436,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1884100,"millis":1.8841,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":431600,"millis":0.4316,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":250400,"millis":0.2504,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":5267300,"millis":5.2673,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":645500,"millis":0.6455,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":328600,"millis":0.3286,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":434700,"millis":0.4347,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":260100,"millis":0.2601,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":168700,"millis":0.1687,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1309200,"millis":1.3092,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\""}},{"result":{"nanos":2151200,"millis":2.1512,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\""}},{"result":{"nanos":1350100,"millis":1.3501,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\""}},{"result":{"nanos":99400,"millis":0.0994,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":283181500,"millis":283.1815,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:15:59.957 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"643044aBcD\"},\"transaction\":{\"approvalNum\":607483,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1615\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":607483,\"rrn\":607483,\"dateTime\":\"20240205161500\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"73762098****9896\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":607483,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":607483},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:00.238 response time in milliseconds: 281\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:58 GMT\n1 < x-amzn-RequestId: 340243ab-f34d-4c8d-b5aa-351b11473467\n1 < x-amz-apigw-id: SrlyTEhdoAMEFqQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500e-3e4ab70a06f934ec7e43431b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Xl_rATFO332lVTx9d25XgntmiqbdmIus6CgHETWys04449MUGru5nw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"643044aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE60748360748320240205161500\",\"approvalNum\":\"607483\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:15:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"607483\",\"rrn\":\"607483\",\"dateTime\":\"2024-02-05T16:15:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"73762098****9896\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"607483\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"607483\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE60748360748320240205161500\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161558\"}]}\n\n"},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":926500,"millis":0.9265,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":1001300,"millis":1.0013,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":778600,"millis":0.7786,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":79,"description":"","durationMillis":311.3864,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167759927,"refId":"[1.28:79]","endTime":1707167760242,"exampleData":{"accountType":"CU","franchise":"PTOSCOLMB","transactionType":"RECARGAS"},"exampleIndex":27},{"sectionIndex":0,"stepResults":[{"result":{"nanos":3555000,"millis":3.555,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:16:00.121 karate.env system property was: dev-adqui \n"},{"result":{"nanos":164100,"millis":0.1641,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":947200,"millis":0.9472,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":678900,"millis":0.6789,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":344800,"millis":0.3448,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":174500,"millis":0.1745,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":155400,"millis":0.1554,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":164300,"millis":0.1643,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":744400,"millis":0.7444,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":646100,"millis":0.6461,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":177200,"millis":0.1772,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":144700,"millis":0.1447,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":32228400,"millis":32.2284,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":713500,"millis":0.7135,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":314700,"millis":0.3147,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":370900,"millis":0.3709,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":242700,"millis":0.2427,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":163800,"millis":0.1638,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":893200,"millis":0.8932,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\""}},{"result":{"nanos":1358500,"millis":1.3585,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\""}},{"result":{"nanos":595900,"millis":0.5959,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\""}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":254867000,"millis":254.867,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:16:00.171 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"905152aBcD\"},\"transaction\":{\"approvalNum\":847490,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":847490,\"rrn\":847490,\"dateTime\":\"20240205161600\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"56749013****2055\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":847490,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":847490},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:00.425 response time in milliseconds: 253\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:58 GMT\n1 < x-amzn-RequestId: bc69b24c-e4f7-4b60-9e63-c4be19b7bfff\n1 < x-amz-apigw-id: SrlyVHcuIAMERLA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500e-4135d2ce11f93f64327edcdf\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: GuQZXd_VH_tjhE2PODeeWVF72gk4ppVj52x958QcfCKjY9EAUia2nA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"905152aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE84749084749020240205161600\",\"approvalNum\":\"847490\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"847490\",\"rrn\":\"847490\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"56749013****2055\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"847490\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"847490\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE84749084749020240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161558\"}]}\n\n"},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":584700,"millis":0.5847,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":400600,"millis":0.4006,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":196500,"millis":0.1965,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":80,"description":"","durationMillis":301.0471,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167760114,"refId":"[1.29:80]","endTime":1707167760427,"exampleData":{"accountType":"BE","franchise":"LIFEMILES","transactionType":"EFECTIVO"},"exampleIndex":28},{"sectionIndex":0,"stepResults":[{"result":{"nanos":3743100,"millis":3.7431,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:16:00.178 karate.env system property was: dev-adqui \n"},{"result":{"nanos":197100,"millis":0.1971,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":3144800,"millis":3.1448,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":946100,"millis":0.9461,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":449400,"millis":0.4494,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":220900,"millis":0.2209,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":196500,"millis":0.1965,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":171500,"millis":0.1715,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":806100,"millis":0.8061,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":691900,"millis":0.6919,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":217900,"millis":0.2179,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":189400,"millis":0.1894,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":6133700,"millis":6.1337,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":539900,"millis":0.5399,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":302000,"millis":0.302,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":238700,"millis":0.2387,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":214800,"millis":0.2148,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":167500,"millis":0.1675,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":897400,"millis":0.8974,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\""}},{"result":{"nanos":1234900,"millis":1.2349,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\""}},{"result":{"nanos":2030800,"millis":2.0308,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\""}},{"result":{"nanos":79400,"millis":0.0794,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":436158200,"millis":436.1582,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:16:00.206 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"329344aBcD\"},\"transaction\":{\"approvalNum\":583759,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":583759,\"rrn\":583759,\"dateTime\":\"20240205161600\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"71085190****8718\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":583759,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":583759},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:00.640 response time in milliseconds: 434\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:58 GMT\n1 < x-amzn-RequestId: 463a1018-ad60-460b-af3b-9ca958238f07\n1 < x-amz-apigw-id: SrlyXGepoAMElcA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500e-23fc07a0315f89ee302d0f91\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d413fb750cb8c5d3a6bce4d80dedeb9a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: EFe6zOdwyLuk44SADOk2UgpbMCwjvxy9A5_DDjRjeMmSPu4cuyYfFQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"329344aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE58375958375920240205161600\",\"approvalNum\":\"583759\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"583759\",\"rrn\":\"583759\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"71085190****8718\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"583759\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"583759\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE58375958375920240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161558\"}]}\n\n"},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":526600,"millis":0.5266,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":481300,"millis":0.4813,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":238600,"millis":0.2386,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":81,"description":"","durationMillis":460.3699,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167760175,"refId":"[1.30:81]","endTime":1707167760642,"exampleData":{"accountType":"RT","franchise":"MASTER DEBI","transactionType":"IMPUESTOS"},"exampleIndex":29},{"sectionIndex":0,"stepResults":[{"result":{"nanos":12657800,"millis":12.6578,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:16:00.249 karate.env system property was: dev-adqui \n"},{"result":{"nanos":207700,"millis":0.2077,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":818900,"millis":0.8189,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":12566300,"millis":12.5663,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":334900,"millis":0.3349,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":215400,"millis":0.2154,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":2350500,"millis":2.3505,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":988100,"millis":0.9881,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1285500,"millis":1.2855,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1982100,"millis":1.9821,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":634400,"millis":0.6344,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":203100,"millis":0.2031,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":25431300,"millis":25.4313,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":700000,"millis":0.7,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1207900,"millis":1.2079,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":570300,"millis":0.5703,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":724400,"millis":0.7244,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":74200,"millis":0.0742,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":200800,"millis":0.2008,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1129700,"millis":1.1297,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\""}},{"result":{"nanos":716500,"millis":0.7165,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\""}},{"result":{"nanos":552700,"millis":0.5527,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\""}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":491546400,"millis":491.5464,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:16:00.327 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"46471aBcD\"},\"transaction\":{\"approvalNum\":669282,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":669282,\"rrn\":669282,\"dateTime\":\"20240205161600\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"76194235****8577\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":669282,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":669282},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:00.816 response time in milliseconds: 489\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:59 GMT\n1 < x-amzn-RequestId: 359fb463-9f4a-4869-adee-d9f95485ab7d\n1 < x-amz-apigw-id: SrlyZGd4IAMEEKA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500f-7602162567fed2be4b5ff831\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: r7AwjpV1tCEhpdZN8eh8Y-ZHnAOLYUM--AnZ_pZhVU-EPWYO_HS3pA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"46471aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE66928266928220240205161600\",\"approvalNum\":\"669282\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"669282\",\"rrn\":\"669282\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"76194235****8577\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"669282\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"669282\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE66928266928220240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161559\"}]}\n\n"},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":1656300,"millis":1.6563,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":472000,"millis":0.472,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":871800,"millis":0.8718,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":82,"description":"","durationMillis":560.2855,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167760246,"refId":"[1.31:82]","endTime":1707167760821,"exampleData":{"accountType":"RG","franchise":"MASTER","transactionType":"WIZEO"},"exampleIndex":30},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5581800,"millis":5.5818,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:16:00.266 karate.env system property was: dev-adqui \n"},{"result":{"nanos":188400,"millis":0.1884,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":920200,"millis":0.9202,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":797300,"millis":0.7973,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":299200,"millis":0.2992,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":175300,"millis":0.1753,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":238100,"millis":0.2381,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":159000,"millis":0.159,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":999200,"millis":0.9992,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":640500,"millis":0.6405,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":170200,"millis":0.1702,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":164100,"millis":0.1641,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":5220300,"millis":5.2203,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":305300,"millis":0.3053,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":248800,"millis":0.2488,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":329600,"millis":0.3296,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":343500,"millis":0.3435,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":77800,"millis":0.0778,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":124600,"millis":0.1246,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":71100,"millis":0.0711,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":942500,"millis":0.9425,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1078900,"millis":1.0789,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\""}},{"result":{"nanos":763000,"millis":0.763,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\""}},{"result":{"nanos":649600,"millis":0.6496,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\""}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":395932500,"millis":395.9325,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:16:00.292 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"865538aBcD\"},\"transaction\":{\"approvalNum\":773429,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":773429,\"rrn\":773429,\"dateTime\":\"20240205161600\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"91961153****8456\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":773429,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":773429},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:00.684 response time in milliseconds: 392\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:58 GMT\n1 < x-amzn-RequestId: 2fd1b26f-280d-430f-a726-9fd81230a4c4\n1 < x-amz-apigw-id: SrlyYGAhoAMENOA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500e-3ea938ce17d128187efb633d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: xLW9JefnIrc-dk0JL3Ss_SRqoZPpkGu8HcL_RcU0-_nZj9MytR1yUg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"865538aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE77342977342920240205161600\",\"approvalNum\":\"773429\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"773429\",\"rrn\":\"773429\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"91961153****8456\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"773429\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"773429\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE77342977342920240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161558\"}]}\n\n"},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":717100,"millis":0.7171,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":303900,"millis":0.3039,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":197400,"millis":0.1974,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":83,"description":"","durationMillis":417.723,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167760263,"refId":"[1.32:83]","endTime":1707167760686,"exampleData":{"accountType":"DS","franchise":"MASTERD","transactionType":"OPS"},"exampleIndex":31},{"sectionIndex":0,"stepResults":[{"result":{"nanos":63242100,"millis":63.2421,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:16:00.431 karate.env system property was: dev-adqui \n"},{"result":{"nanos":178400,"millis":0.1784,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":336500,"millis":0.3365,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1246000,"millis":1.246,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":662700,"millis":0.6627,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":280900,"millis":0.2809,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":185100,"millis":0.1851,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":131900,"millis":0.1319,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":869700,"millis":0.8697,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":864400,"millis":0.8644,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":248800,"millis":0.2488,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":226800,"millis":0.2268,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":13179400,"millis":13.1794,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":514500,"millis":0.5145,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":294500,"millis":0.2945,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":237300,"millis":0.2373,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":233000,"millis":0.233,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":142600,"millis":0.1426,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":211200,"millis":0.2112,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":969400,"millis":0.9694,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\""}},{"result":{"nanos":894300,"millis":0.8943,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\""}},{"result":{"nanos":1947300,"millis":1.9473,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"QR\""}},{"result":{"nanos":314800,"millis":0.3148,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":321395000,"millis":321.395,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:16:00.525 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"77500aBcD\"},\"transaction\":{\"approvalNum\":925696,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":925696,\"rrn\":925696,\"dateTime\":\"20240205161600\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"41978155****8062\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":925696,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":925696},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:00.841 response time in milliseconds: 316\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:59 GMT\n1 < x-amzn-RequestId: 1a386c80-6532-4fda-8065-2b205fd0876f\n1 < x-amz-apigw-id: SrlyZFNXIAMEkWg=\n1 < X-Amzn-Trace-Id: Root=1-65c1500f-7aedc8ed6c1e454713bf23af\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: SDqSVPruq82HD_YrlXOn4EPpga2mnKyCC4Oxi39jEAQV0QotS33I5g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"77500aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE92569692569620240205161600\",\"approvalNum\":\"925696\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"925696\",\"rrn\":\"925696\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"41978155****8062\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"925696\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"925696\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE92569692569620240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161559\"}]}\n\n"},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":511800,"millis":0.5118,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":269300,"millis":0.2693,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":136200,"millis":0.1362,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":84,"description":"","durationMillis":409.8416,"failed":false,"executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167760430,"refId":"[1.33:84]","endTime":1707167760843,"exampleData":{"accountType":"BC","franchise":"MASTER DEB","transactionType":"QR"},"exampleIndex":32},{"sectionIndex":0,"stepResults":[{"result":{"nanos":7338300,"millis":7.3383,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:16:00.647 karate.env system property was: dev-adqui \n"},{"result":{"nanos":208400,"millis":0.2084,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":376300,"millis":0.3763,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":644800,"millis":0.6448,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":315100,"millis":0.3151,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":150700,"millis":0.1507,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":127300,"millis":0.1273,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":143300,"millis":0.1433,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":708500,"millis":0.7085,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":652600,"millis":0.6526,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":176400,"millis":0.1764,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":159800,"millis":0.1598,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":5558700,"millis":5.5587,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":512500,"millis":0.5125,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":290100,"millis":0.2901,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":238500,"millis":0.2385,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":467500,"millis":0.4675,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":76200,"millis":0.0762,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":214100,"millis":0.2141,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1934200,"millis":1.9342,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\""}},{"result":{"nanos":2027800,"millis":2.0278,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\""}},{"result":{"nanos":712900,"millis":0.7129,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\""}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":257507400,"millis":257.5074,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:16:00.674 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"531463aBcD\"},\"transaction\":{\"approvalNum\":783595,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":783595,\"rrn\":783595,\"dateTime\":\"20240205161600\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"41413064****6000\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":783595,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":783595},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:00.929 response time in milliseconds: 255\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:59 GMT\n1 < x-amzn-RequestId: 88f96d63-dfab-4bf9-843b-800c8731eacc\n1 < x-amz-apigw-id: SrlyaFHMIAMELMQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1500f-6a137e39799a694e1bc08961\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: dmMdxQaqjpN0QnAhBa5BMJ_bjFg59TjT8foyQitISfBBVeZ30HR_9Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"531463aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE78359578359520240205161600\",\"approvalNum\":\"783595\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"783595\",\"rrn\":\"783595\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"41413064****6000\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"783595\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"783595\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE78359578359520240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161559\"}]}\n\n"},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":518500,"millis":0.5185,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":318100,"millis":0.3181,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":134500,"millis":0.1345,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":85,"description":"","durationMillis":281.7033,"failed":false,"executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167760646,"refId":"[1.34:85]","endTime":1707167760931,"exampleData":{"accountType":"BD","franchise":"MASTER DEBIT","transactionType":"LIFEMILES"},"exampleIndex":33},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38434600,"millis":38.4346,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:16:00.691 karate.env system property was: dev-adqui \n"},{"result":{"nanos":212400,"millis":0.2124,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":395700,"millis":0.3957,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":975200,"millis":0.9752,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":450700,"millis":0.4507,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":242500,"millis":0.2425,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":199000,"millis":0.199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":181900,"millis":0.1819,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":2971000,"millis":2.971,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1536300,"millis":1.5363,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":1124900,"millis":1.1249,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":227300,"millis":0.2273,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":87709600,"millis":87.7096,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":565500,"millis":0.5655,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":302000,"millis":0.302,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":222200,"millis":0.2222,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":233100,"millis":0.2331,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":64700,"millis":0.0647,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":178300,"millis":0.1783,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1608200,"millis":1.6082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\""}},{"result":{"nanos":1064100,"millis":1.0641,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\""}},{"result":{"nanos":603500,"millis":0.6035,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\""}},{"result":{"nanos":78000,"millis":0.078,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":270791300,"millis":270.7913,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:16:00.837 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2798\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"842911aBcD\"},\"transaction\":{\"approvalNum\":470512,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":470512,\"rrn\":470512,\"dateTime\":\"20240205161600\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"25167314****7744\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":470512,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":470512},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:01.104 response time in milliseconds: 266\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 763\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:59 GMT\n1 < x-amzn-RequestId: 84efd158-a1fc-4b90-80b1-c4a150d8afa8\n1 < x-amz-apigw-id: SrlycGhdoAMEvQA=\n1 < X-Amzn-Trace-Id: Root=1-65c1500f-3a81b5f0058da3ef41f820de\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 064907318388ddb71d9d0db586a17f3a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: cB-uDPZVWAjmw0cRuP07AKlx5ALXSosWSLEeLcb4dkNmvDUjEpvspg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"842911aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE47051247051220240205161600\",\"approvalNum\":\"470512\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"470512\",\"rrn\":\"470512\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"25167314****7744\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"470512\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"470512\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE47051247051220240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161559\"}]}\n\n"},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":387000,"millis":0.387,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":393700,"millis":0.3937,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":374700,"millis":0.3747,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":86,"description":"","durationMillis":411.6309,"failed":false,"executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167760690,"refId":"[1.35:86]","endTime":1707167761105,"exampleData":{"accountType":"SP","franchise":"VISA","transactionType":"PSP"},"exampleIndex":34},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19523800,"millis":19.5238,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')"},"stepLog":"16:16:00.826 karate.env system property was: dev-adqui \n"},{"result":{"nanos":340600,"millis":0.3406,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":822000,"millis":0.822,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":915300,"millis":0.9153,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":1230400,"millis":1.2304,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":275800,"millis":0.2758,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1182100,"millis":1.1821,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].payment.taxBase = NumReceipt"}},{"result":{"nanos":233500,"millis":0.2335,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":5151600,"millis":5.1516,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1012600,"millis":1.0126,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":368400,"millis":0.3684,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":198700,"millis":0.1987,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt"}},{"result":{"nanos":25892900,"millis":25.8929,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":540800,"millis":0.5408,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":13,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":598300,"millis":0.5983,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":14,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":730100,"millis":0.7301,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":15,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":438600,"millis":0.4386,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":136000,"millis":0.136,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":584900,"millis":0.5849,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"request bodyTrx.payload[0].transaction.status = '00'"}},{"result":{"nanos":1049500,"millis":1.0495,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":733200,"millis":0.7332,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\""}},{"result":{"nanos":597000,"millis":0.597,"status":"passed"},"step":{"line":29,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\""}},{"result":{"nanos":101400,"millis":0.1014,"status":"passed"},"step":{"line":30,"prefix":"And","index":8,"text":"request bodyTrx"}},{"result":{"nanos":238506300,"millis":238.5063,"status":"passed"},"step":{"line":31,"prefix":"When","index":9,"text":"method post"},"stepLog":"16:16:00.894 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY3NzUzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNjk1NTMsImlhdCI6MTcwNzE2Nzc1MywidmVyc2lvbiI6MiwianRpIjoiNWMyYjBhOTktYzc5ZC00MDlkLWE2NzUtMzY2M2IxNDRkNDQ0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.SpeHFBRwvnDm_E_rRJji92jqs9o02eLJY8FthPuDYDvTwog5io3rnVAJ9NLYAiahN3lJqQi5NqG3WPmBod8RVzWRDulO2U-laVzAcHtRCK1-6xUYak4Ue-qVyCigwqLSeTXqriyVi4TVpTkjXKDASWwMFx3f8S6RGbNwf86IOs1lCFf5aBgRGWU3OeRPFK-vSerOePPdSbdWAv5MdQWhY1NO0viG-ARpIGhy3RwfpJS7BwDwhcH3HSiflWOxgwYZKksrylUi-D6DjGVa8UrvV0_mgLWDqjtqMKQoGrgZblbFTV7cSOWE6WHwXYbU0NJDBfBAGgywVTdCzGnsovJuWw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":87654323456,\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"414492aBcD\"},\"transaction\":{\"approvalNum\":144820,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1616\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":144820,\"rrn\":144820,\"dateTime\":\"20240205161600\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"15276039****1474\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":144820,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":144820},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":false,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:16:01.130 response time in milliseconds: 235\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:15:59 GMT\n1 < x-amzn-RequestId: 68c060ac-1128-41af-ad8d-47476d482a57\n1 < x-amz-apigw-id: SrlycGOaIAMEcsg=\n1 < X-Amzn-Trace-Id: Root=1-65c1500f-3834be520ad95cd34ef97121\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: pEfK4UiDYSlG52HGllcJ_BItLQADh3rrDNF_hHLmjoZddA_32qXTPw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"87654323456\",\"terminalId\":\"BSSDF8WE\",\"techVersion\":\"V-T35T\",\"atmId\":\"414492aBcD\"},\"transaction\":{\"voucherId\":\"BSSDF8WE14482014482020240205161600\",\"approvalNum\":\"144820\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:16:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"144820\",\"rrn\":\"144820\",\"dateTime\":\"2024-02-05T16:16:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"15276039****1474\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"144820\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"144820\"}}],\"status\":[{\"transactionId\":\"BSSDF8WE14482014482020240205161600\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205161559\"}]}\n\n"},{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"line":32,"prefix":"Then","index":10,"text":"status 200"}},{"result":{"nanos":498200,"millis":0.4982,"status":"passed"},"step":{"line":33,"prefix":"And","index":11,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":254600,"millis":0.2546,"status":"passed"},"step":{"line":34,"prefix":"And","index":12,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":128400,"millis":0.1284,"status":"passed"},"step":{"line":35,"prefix":"And","index":13,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":87,"description":"","durationMillis":302.1754,"failed":false,"executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707167760825,"refId":"[1.36:87]","endTime":1707167761131,"exampleData":{"accountType":"00","franchise":"DINERS","transactionType":"NODATA"},"exampleIndex":35}],"callDepth":0,"name":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","description":"","resultDate":"2024-02-05 04:16:01 p.Â m.","durationMillis":20130.4962,"passedCount":36}