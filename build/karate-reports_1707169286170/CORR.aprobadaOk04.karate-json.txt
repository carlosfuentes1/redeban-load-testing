{"failedCount":18,"prefixedPath":"classpath:CORR\/aprobadaOk04.feature","packageQualifiedName":"CORR.aprobadaOk04","loopIndex":-1,"relativePath":"CORR\/aprobadaOk04.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":6798600,"millis":6.7986,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:15.815 karate.env system property was: dev-corr \n"},{"result":{"nanos":352700,"millis":0.3527,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1137600,"millis":1.1376,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1039500,"millis":1.0395,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":594500,"millis":0.5945,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":2503600,"millis":2.5036,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":1779600,"millis":1.7796,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1440000,"millis":1.44,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1008500,"millis":1.0085,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":7509600,"millis":7.5096,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":731200,"millis":0.7312,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":467300,"millis":0.4673,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":454600,"millis":0.4546,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":311900,"millis":0.3119,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":94900,"millis":0.0949,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":114200,"millis":0.1142,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":189200,"millis":0.1892,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":136800,"millis":0.1368,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":125700,"millis":0.1257,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":127600,"millis":0.1276,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":146900,"millis":0.1469,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":113600,"millis":0.1136,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1119600,"millis":1.1196,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA AHORRO\""}},{"result":{"nanos":176500,"millis":0.1765,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":834600,"millis":0.8346,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":299200,"millis":0.2992,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":77300,"millis":0.0773,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":344454600,"millis":344.4546,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:15.852 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2062\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"124052aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"05\",\"receipt\":947627,\"rrn\":947627,\"dateTime\":\"20240205163900\",\"transactionType\":\"TRANSFERENCIA AHORRO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"17975671****7837\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":947627},\"script\":\"[0X0A][0X1C][0X2C][0X3C]947627[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]TRANSFERENCIA AHORRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 947627[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:16.187 response time in milliseconds: 335\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:14 GMT\n1 < x-amzn-RequestId: 5fd7d8f2-69c4-4952-8ace-eeb27c1e084b\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMbEcqIAMEJhg=\n1 < X-Amzn-Trace-Id: Root=1-65c15582-47c4b936616b81cc6ea707b0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: -zqKCfxVWwTs2mNSh4FcEuJXwxwalf-r4YIGXR0dbDE9O02g3F0ZoA==\n{\"status\":[{\"transactionId\":\"b17ad5a1-d539-4938-b506-e80d32fd19e4\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163914\"}],\"arrayError\":[{\"transactionId\":\"b17ad5a1-d539-4938-b506-e80d32fd19e4\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1502800,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":1.5028,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:16.196 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA AHORRO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":171,"description":"","durationMillis":375.7642,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169155797,"refId":"[1.1:171]","endTime":1707169156196,"exampleData":{"inMode":"05","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"TRANSFERENCIA AHORRO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5035100,"millis":5.0351,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:15.867 karate.env system property was: dev-corr \n"},{"result":{"nanos":321500,"millis":0.3215,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":317700,"millis":0.3177,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":660900,"millis":0.6609,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":568100,"millis":0.5681,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":460500,"millis":0.4605,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":356400,"millis":0.3564,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":960500,"millis":0.9605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":951300,"millis":0.9513,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":4354700,"millis":4.3547,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":721400,"millis":0.7214,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":414400,"millis":0.4144,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":332900,"millis":0.3329,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":226100,"millis":0.2261,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":96000,"millis":0.096,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":157000,"millis":0.157,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":108800,"millis":0.1088,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":106600,"millis":0.1066,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":107200,"millis":0.1072,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":100800,"millis":0.1008,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":96000,"millis":0.096,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1289100,"millis":1.2891,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA CORRIENTE\""}},{"result":{"nanos":856900,"millis":0.8569,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"07\""}},{"result":{"nanos":643700,"millis":0.6437,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":323000,"millis":0.323,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":92700,"millis":0.0927,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":178916600,"millis":178.9166,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:15.892 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2068\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"310570aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"07\",\"receipt\":113780,\"rrn\":113780,\"dateTime\":\"20240205163900\",\"transactionType\":\"TRANSFERENCIA CORRIENTE\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"49124095****2769\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":113780},\"script\":\"[0X0A][0X1C][0X2C][0X3C]113780[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]TRANSFERENCIA CORRIENTE[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 113780[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:16.067 response time in milliseconds: 175\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:14 GMT\n1 < x-amzn-RequestId: 5405d079-2872-4acb-bff0-f87dab95268d\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMaFghoAMEicg=\n1 < X-Amzn-Trace-Id: Root=1-65c15582-5923ef764145247f6a645706\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 0Mf05LY46YRTWXvlWSZ-nTfuWfl-fdiRwH0-TTFN-192S6Nc5EvJNQ==\n{\"status\":[{\"transactionId\":\"fd7d98cd-8f6a-45ae-b3e0-388781cdf93d\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163914\"}],\"arrayError\":[{\"transactionId\":\"fd7d98cd-8f6a-45ae-b3e0-388781cdf93d\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":832700,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":0.8327,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:16.070 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA CORRIENTE\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"07\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":172,"description":"","durationMillis":199.5665,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169155862,"refId":"[1.2:172]","endTime":1707169156070,"exampleData":{"inMode":"07","accountType":"CC","notifiFlag":"true","Type":"1","transaction":"TRANSFERENCIA CORRIENTE","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5035000,"millis":5.035,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:15.866 karate.env system property was: dev-corr \n"},{"result":{"nanos":254100,"millis":0.2541,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":361200,"millis":0.3612,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":693800,"millis":0.6938,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":605800,"millis":0.6058,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":460700,"millis":0.4607,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":333900,"millis":0.3339,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":902500,"millis":0.9025,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":971100,"millis":0.9711,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":13895600,"millis":13.8956,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":650700,"millis":0.6507,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":476800,"millis":0.4768,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":383300,"millis":0.3833,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":259900,"millis":0.2599,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":83600,"millis":0.0836,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":107100,"millis":0.1071,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":162800,"millis":0.1628,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":138500,"millis":0.1385,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":129000,"millis":0.129,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":149600,"millis":0.1496,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":124400,"millis":0.1244,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":133800,"millis":0.1338,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1149100,"millis":1.1491,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA OTRA CTA\""}},{"result":{"nanos":196500,"millis":0.1965,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"02\""}},{"result":{"nanos":139300,"millis":0.1393,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":377000,"millis":0.377,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":78300,"millis":0.0783,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":224894200,"millis":224.8942,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:15.900 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2066\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"525772aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"02\",\"receipt\":619261,\"rrn\":619261,\"dateTime\":\"20240205163900\",\"transactionType\":\"TRANSFERENCIA OTRA CTA\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"33792810****6048\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":619261},\"script\":\"[0X0A][0X1C][0X2C][0X3C]619261[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]TRANSFERENCIA OTRA CTA[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 619261[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:16.122 response time in milliseconds: 222\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:14 GMT\n1 < x-amzn-RequestId: 47df6e81-af7a-4b92-938d-621acc75f80b\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMaFyPoAMEksg=\n1 < X-Amzn-Trace-Id: Root=1-65c15582-583e84195bdee18f146b7864\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 aeb457e87760dc433cf50cdb15399112.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: L5CtZ2Z_q-QCABaf6H9iPc6OXqChJBoGJQBBDkO-u5xHOk77UeC8hw==\n{\"status\":[{\"transactionId\":\"06780cda-248f-49ec-ab2c-32e55c9a0dc4\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163914\"}],\"arrayError\":[{\"transactionId\":\"06780cda-248f-49ec-ab2c-32e55c9a0dc4\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":880100,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":0.8801,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:16.124 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA OTRA CTA\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"02\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":173,"description":"","durationMillis":254.1465,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169155863,"refId":"[1.3:173]","endTime":1707169156124,"exampleData":{"inMode":"02","accountType":"CR","notifiFlag":"true","Type":"1","transaction":"TRANSFERENCIA OTRA CTA","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5718800,"millis":5.7188,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:16.074 karate.env system property was: dev-corr \n"},{"result":{"nanos":297000,"millis":0.297,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":392600,"millis":0.3926,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":652000,"millis":0.652,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":498900,"millis":0.4989,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":363700,"millis":0.3637,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":399100,"millis":0.3991,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":909500,"millis":0.9095,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":798400,"millis":0.7984,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":5357000,"millis":5.357,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":963400,"millis":0.9634,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":434200,"millis":0.4342,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":309500,"millis":0.3095,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":250900,"millis":0.2509,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":89600,"millis":0.0896,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":218200,"millis":0.2182,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":140000,"millis":0.14,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":183100,"millis":0.1831,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":164600,"millis":0.1646,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":121000,"millis":0.121,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":102100,"millis":0.1021,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":977300,"millis":0.9773,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO\""}},{"result":{"nanos":1051100,"millis":1.0511,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"01\""}},{"result":{"nanos":167700,"millis":0.1677,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":300700,"millis":0.3007,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":94000,"millis":0.094,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":211777800,"millis":211.7778,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:16.099 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2034\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"792987aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"01\",\"receipt\":144883,\"rrn\":144883,\"dateTime\":\"20240205163900\",\"transactionType\":\"RETIRO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"90529891****3841\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":144883},\"script\":\"[0X0A][0X1C][0X2C][0X3C]144883[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 144883[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:16.309 response time in milliseconds: 207\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:14 GMT\n1 < x-amzn-RequestId: 3cf36e88-d431-4c43-938d-0324476c32db\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMcFrHoAMEMhQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15582-14c98aa415ad481218e4b697\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: If1X1D15tX9zCzjiMuAKRelZGlWNUprNCGKZ3S9pQDBlh27j-ROo0Q==\n{\"status\":[{\"transactionId\":\"05d5b0cf-06bc-4d1d-a4af-c11916b82758\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163914\"}],\"arrayError\":[{\"transactionId\":\"05d5b0cf-06bc-4d1d-a4af-c11916b82758\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":641600,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":0.6416,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:16.310 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"01\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":174,"description":"","durationMillis":233.5272,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169156074,"refId":"[1.4:174]","endTime":1707169156310,"exampleData":{"inMode":"01","accountType":"00","notifiFlag":"true","Type":"1","transaction":"RETIRO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":3},{"sectionIndex":0,"stepResults":[{"result":{"nanos":80962600,"millis":80.9626,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:16.134 karate.env system property was: dev-corr \n"},{"result":{"nanos":218100,"millis":0.2181,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":386200,"millis":0.3862,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":663500,"millis":0.6635,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":459200,"millis":0.4592,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":379600,"millis":0.3796,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":328200,"millis":0.3282,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1049800,"millis":1.0498,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":792100,"millis":0.7921,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":30558400,"millis":30.5584,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":755700,"millis":0.7557,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":410600,"millis":0.4106,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":476300,"millis":0.4763,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":307600,"millis":0.3076,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":93900,"millis":0.0939,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":80900,"millis":0.0809,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":108600,"millis":0.1086,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":199300,"millis":0.1993,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":278800,"millis":0.2788,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":149100,"millis":0.1491,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":105200,"millis":0.1052,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":91400,"millis":0.0914,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":89500,"millis":0.0895,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1157500,"millis":1.1575,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"AHORRO A LA MANO\""}},{"result":{"nanos":825500,"millis":0.8255,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"03\""}},{"result":{"nanos":585900,"millis":0.5859,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":253000,"millis":0.253,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":326762100,"millis":326.7621,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:16.264 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2054\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"958025aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"03\",\"receipt\":663463,\"rrn\":663463,\"dateTime\":\"20240205163900\",\"transactionType\":\"AHORRO A LA MANO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"85063778****3157\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":663463},\"script\":\"[0X0A][0X1C][0X2C][0X3C]663463[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 663463[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:16.585 response time in milliseconds: 320\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:14 GMT\n1 < x-amzn-RequestId: 53830488-6cae-4ac5-8d25-07eab38bd79d\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMfGwHoAMErHQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15582-6329d4d76820caba0a5a8bfe\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 7pRXG9E6tS0qVxBGgmfxFjvlU6w3YdwOXNdzYLRfeesu8XEBhsnQow==\n{\"status\":[{\"transactionId\":\"fba602c4-2d7c-49eb-9691-86fc89b7fdf6\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163914\"}],\"arrayError\":[{\"transactionId\":\"fba602c4-2d7c-49eb-9691-86fc89b7fdf6\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":612200,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":0.6122,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:16.586 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"AHORRO A LA MANO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"03\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":175,"description":"","durationMillis":449.2682,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169156134,"refId":"[1.5:175]","endTime":1707169156586,"exampleData":{"inMode":"03","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"AHORRO A LA MANO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":4},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14836000,"millis":14.836,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:16.209 karate.env system property was: dev-corr \n"},{"result":{"nanos":557100,"millis":0.5571,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":485700,"millis":0.4857,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":777800,"millis":0.7778,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":642800,"millis":0.6428,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":496900,"millis":0.4969,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":5808000,"millis":5.808,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1202500,"millis":1.2025,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":786800,"millis":0.7868,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":20925300,"millis":20.9253,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":28347300,"millis":28.3473,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":3168800,"millis":3.1688,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":625900,"millis":0.6259,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":537600,"millis":0.5376,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":84500,"millis":0.0845,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":7395800,"millis":7.3958,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":342900,"millis":0.3429,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":3377200,"millis":3.3772,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":523300,"millis":0.5233,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":347500,"millis":0.3475,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":218500,"millis":0.2185,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":125200,"millis":0.1252,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":45328900,"millis":45.3289,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO NEQUI\""}},{"result":{"nanos":1920300,"millis":1.9203,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"80\""}},{"result":{"nanos":1282800,"millis":1.2828,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":308700,"millis":0.3087,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":442718200,"millis":442.7182,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:16.357 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2046\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"322922aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"80\",\"receipt\":692823,\"rrn\":692823,\"dateTime\":\"20240205163900\",\"transactionType\":\"RETIRO NEQUI\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"78223062****6093\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":692823},\"script\":\"[0X0A][0X1C][0X2C][0X3C]692823[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 692823[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:16.797 response time in milliseconds: 439\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: 66deca27-05fd-4f73-83b6-9a406390979e\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMhG4RIAMEYmQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-694552d84b97f7b52d25a449\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: bZe_sSG-nxIhOGrG6Otjk2jhFLwQE8ZKuLmDqrHX-ReUWCDVaWOtCA==\n{\"status\":[{\"transactionId\":\"7800b84d-53a4-4b85-951b-4febfedba1e6\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"7800b84d-53a4-4b85-951b-4febfedba1e6\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":13430500,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":13.4305,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:16.811 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO NEQUI\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"80\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":176,"description":"","durationMillis":596.8161,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169156206,"refId":"[1.6:176]","endTime":1707169156811,"exampleData":{"inMode":"80","accountType":"CC","notifiFlag":"true","Type":"1","transaction":"RETIRO NEQUI","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":5},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14353800,"millis":14.3538,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:16.283 karate.env system property was: dev-corr \n"},{"result":{"nanos":228800,"millis":0.2288,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":419200,"millis":0.4192,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":751300,"millis":0.7513,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":407100,"millis":0.4071,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":217700,"millis":0.2177,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":173000,"millis":0.173,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":838900,"millis":0.8389,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":629100,"millis":0.6291,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":11058300,"millis":11.0583,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":494200,"millis":0.4942,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":362100,"millis":0.3621,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":954500,"millis":0.9545,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":273800,"millis":0.2738,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":262800,"millis":0.2628,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":660700,"millis":0.6607,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":143900,"millis":0.1439,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":187600,"millis":0.1876,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":129500,"millis":0.1295,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":117500,"millis":0.1175,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":122000,"millis":0.122,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":109000,"millis":0.109,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":106700,"millis":0.1067,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1105900,"millis":1.1059,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO PAGOS\""}},{"result":{"nanos":5859100,"millis":5.8591,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"90\""}},{"result":{"nanos":218300,"millis":0.2183,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":192300,"millis":0.1923,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":1708400,"millis":1.7084,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":489477500,"millis":489.4775,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:16.333 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2046\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"625301aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"90\",\"receipt\":165163,\"rrn\":165163,\"dateTime\":\"20240205163900\",\"transactionType\":\"RETIRO PAGOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"63567886****6238\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":165163},\"script\":\"[0X0A][0X1C][0X2C][0X3C]165163[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 165163[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:16.817 response time in milliseconds: 484\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: 0d1f156c-ce0d-4e5e-9e89-7ce07d80f685\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMhHcWIAMECwg=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-20fa436412ae08cc218c5a0a\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Id2yzvLShnMExoh4IBvlba5JHwIt_XsK-F-AOp8SUaod_oxJyyZ0pQ==\n{\"status\":[{\"transactionId\":\"6258eacf-e838-4841-a31e-514cb1cd2057\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"6258eacf-e838-4841-a31e-514cb1cd2057\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":2042000,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":2.042,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:16.822 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO PAGOS\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"90\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":177,"description":"","durationMillis":533.681,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169156282,"refId":"[1.7:177]","endTime":1707169156822,"exampleData":{"inMode":"90","accountType":"CR","notifiFlag":"true","Type":"1","transaction":"RETIRO PAGOS","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":6},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4415000,"millis":4.415,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:16.315 karate.env system property was: dev-corr \n"},{"result":{"nanos":183600,"millis":0.1836,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":302000,"millis":0.302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":660200,"millis":0.6602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":345700,"millis":0.3457,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":285200,"millis":0.2852,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":264800,"millis":0.2648,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":2328800,"millis":2.3288,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1165400,"millis":1.1654,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":7893800,"millis":7.8938,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":571500,"millis":0.5715,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":334600,"millis":0.3346,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":288200,"millis":0.2882,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":272400,"millis":0.2724,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":58500,"millis":0.0585,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":83200,"millis":0.0832,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":137800,"millis":0.1378,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":87400,"millis":0.0874,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":79200,"millis":0.0792,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":74700,"millis":0.0747,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":75300,"millis":0.0753,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1007100,"millis":1.0071,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"DEPOSITO AHORROS\""}},{"result":{"nanos":136600,"millis":0.1366,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"00\""}},{"result":{"nanos":91500,"millis":0.0915,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":175600,"millis":0.1756,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":118800,"millis":0.1188,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":434052600,"millis":434.0526,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:16.340 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2054\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"827804aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"00\",\"receipt\":537986,\"rrn\":537986,\"dateTime\":\"20240205163900\",\"transactionType\":\"DEPOSITO AHORROS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"59423627****5658\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":537986},\"script\":\"[0X0A][0X1C][0X2C][0X3C]537986[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]DEPOSITO AHORROS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 537986[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:16.772 response time in milliseconds: 431\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: 712cdff2-5b1f-444b-b616-74a429b8a0d8\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMhGcqoAMEArw=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-7455f7827b50e1827d5e8ddc\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: PSNNMiwzKvvkr9RQRQsqHovhSmL8JZFmC_th9lWaVO5EIMFEHFzYsg==\n{\"status\":[{\"transactionId\":\"06469818-a2f3-4a4a-ad99-f139ab28f4d2\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"06469818-a2f3-4a4a-ad99-f139ab28f4d2\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1241300,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":1.2413,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:16.774 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"DEPOSITO AHORROS\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":178,"description":"","durationMillis":456.9101,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169156314,"refId":"[1.8:178]","endTime":1707169156774,"exampleData":{"inMode":"00","accountType":"00","notifiFlag":"true","Type":"1","transaction":"DEPOSITO AHORROS","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":7},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4873500,"millis":4.8735,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:16.590 karate.env system property was: dev-corr \n"},{"result":{"nanos":168800,"millis":0.1688,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":375600,"millis":0.3756,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":699000,"millis":0.699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":436700,"millis":0.4367,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":314200,"millis":0.3142,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":186200,"millis":0.1862,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":822700,"millis":0.8227,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":766000,"millis":0.766,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":14792700,"millis":14.7927,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":651800,"millis":0.6518,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":321000,"millis":0.321,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":263800,"millis":0.2638,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":214000,"millis":0.214,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":83900,"millis":0.0839,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":166100,"millis":0.1661,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":143300,"millis":0.1433,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":82900,"millis":0.0829,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":80900,"millis":0.0809,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1017800,"millis":1.0178,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"DEPOSITO CORRIENTE\""}},{"result":{"nanos":1025500,"millis":1.0255,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":151100,"millis":0.1511,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":229200,"millis":0.2292,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":206912800,"millis":206.9128,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:16.623 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2058\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"220339aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"05\",\"receipt\":869872,\"rrn\":869872,\"dateTime\":\"20240205163900\",\"transactionType\":\"DEPOSITO CORRIENTE\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"39892050****4554\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":869872},\"script\":\"[0X0A][0X1C][0X2C][0X3C]869872[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]DEPOSITO CORRIENTE[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 869872[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:16.828 response time in milliseconds: 204\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: 917b9343-53b3-4092-ba8e-3945d242684c\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMhHuvIAMEpVQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-602c7dda7960445425e6ea49\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: fXy-3brm1Wvp1-mhHBwUQxn4tir76GYEC_P-VyYbe8A3JQY_-uSWpQ==\n{\"status\":[{\"transactionId\":\"75a390d1-995c-44c7-93fb-b80f9a8a23ce\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"75a390d1-995c-44c7-93fb-b80f9a8a23ce\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1016800,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":1.0168,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:16.829 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"DEPOSITO CORRIENTE\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":179,"description":"","durationMillis":236.1437,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169156590,"refId":"[1.9:179]","endTime":1707169156829,"exampleData":{"inMode":"05","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"DEPOSITO CORRIENTE","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":8},{"sectionIndex":0,"stepResults":[{"result":{"nanos":179962100,"millis":179.9621,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:16.784 karate.env system property was: dev-corr \n"},{"result":{"nanos":265000,"millis":0.265,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":327600,"millis":0.3276,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":818400,"millis":0.8184,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":399500,"millis":0.3995,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":242300,"millis":0.2423,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":234500,"millis":0.2345,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":804200,"millis":0.8042,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":767500,"millis":0.7675,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":67335000,"millis":67.335,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":616900,"millis":0.6169,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":294300,"millis":0.2943,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":271800,"millis":0.2718,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":389200,"millis":0.3892,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":70100,"millis":0.0701,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":118100,"millis":0.1181,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":184900,"millis":0.1849,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":86200,"millis":0.0862,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":70100,"millis":0.0701,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":76000,"millis":0.076,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":64400,"millis":0.0644,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1003600,"millis":1.0036,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA NEQUI\""}},{"result":{"nanos":107900,"millis":0.1079,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":715300,"millis":0.7153,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":222700,"millis":0.2227,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":226094200,"millis":226.0942,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:17.047 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2048\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"367971aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"05\",\"receipt\":367971,\"rrn\":367971,\"dateTime\":\"20240205163900\",\"transactionType\":\"RECARGA NEQUI\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"11845550****4272\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":367971},\"script\":\"[0X0A][0X1C][0X2C][0X3C]367971[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RECARGA NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 367971[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:17.268 response time in milliseconds: 221\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: 67581f83-050d-43e7-9975-7173a3d47d48\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMmHtGoAMEKFQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-7f40ecdd0c4eb8b83e03de6c\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 064907318388ddb71d9d0db586a17f3a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: HFcOXjZvgqi68w-VMbQlKicVkJAqu_8Ji_g0lQ9pFz7nGFkLfVpPnw==\n{\"status\":[{\"transactionId\":\"9e108313-ba3e-49fe-99cf-11bfe5cbeeee\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"9e108313-ba3e-49fe-99cf-11bfe5cbeeee\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":403400,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":0.4034,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:17.269 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA NEQUI\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":180,"description":"","durationMillis":482.2101,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169156777,"refId":"[1.10:180]","endTime":1707169157269,"exampleData":{"inMode":"05","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"RECARGA NEQUI","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":9},{"sectionIndex":0,"stepResults":[{"result":{"nanos":30229000,"millis":30.229,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:16.839 karate.env system property was: dev-corr \n"},{"result":{"nanos":171500,"millis":0.1715,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":240200,"millis":0.2402,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":573500,"millis":0.5735,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":340600,"millis":0.3406,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":242400,"millis":0.2424,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":174800,"millis":0.1748,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1991600,"millis":1.9916,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":824900,"millis":0.8249,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":42335200,"millis":42.3352,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":554000,"millis":0.554,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":342100,"millis":0.3421,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":249400,"millis":0.2494,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":220700,"millis":0.2207,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":91400,"millis":0.0914,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":162600,"millis":0.1626,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":109100,"millis":0.1091,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":84600,"millis":0.0846,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":79600,"millis":0.0796,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":84700,"millis":0.0847,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":81600,"millis":0.0816,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":903500,"millis":0.9035,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACTURA MANUAL\""}},{"result":{"nanos":743400,"millis":0.7434,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"07\""}},{"result":{"nanos":5460700,"millis":5.4607,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":347000,"millis":0.347,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":71300,"millis":0.0713,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":306808800,"millis":306.8088,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:16.933 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2060\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"328265aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"07\",\"receipt\":878415,\"rrn\":878415,\"dateTime\":\"20240205163900\",\"transactionType\":\"PAGO FACTURA MANUAL\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"32752451****6946\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":878415},\"script\":\"[0X0A][0X1C][0X2C][0X3C]878415[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]PAGO FACTURA MANUAL[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 878415[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:17.238 response time in milliseconds: 305\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: 3526c7a7-1e1a-4b7f-8dc1-bc19108992e0\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMlGJ-IAMEjjw=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-4cc633d63c3162ac2d017048\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: IXHqzgtb_PvBjDi6sGULo7FFIGLuOHhWVkRlEiTvbZ0-F54O-TEIjQ==\n{\"status\":[{\"transactionId\":\"a66e3e74-99aa-4715-8c41-94be74bc0902\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"a66e3e74-99aa-4715-8c41-94be74bc0902\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":10400,"millis":0.0104,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1976900,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":1.9769,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:17.240 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACTURA MANUAL\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"07\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":181,"description":"","durationMillis":395.6292,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169156831,"refId":"[1.11:181]","endTime":1707169157240,"exampleData":{"inMode":"07","accountType":"CC","notifiFlag":"true","Type":"1","transaction":"PAGO FACTURA MANUAL","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":10},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31027600,"millis":31.0276,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:16.837 karate.env system property was: dev-corr \n"},{"result":{"nanos":247000,"millis":0.247,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":307600,"millis":0.3076,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1113000,"millis":1.113,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":5321100,"millis":5.3211,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":230300,"millis":0.2303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":181600,"millis":0.1816,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":693700,"millis":0.6937,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1044100,"millis":1.0441,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":31525400,"millis":31.5254,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":607300,"millis":0.6073,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":1059900,"millis":1.0599,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":324600,"millis":0.3246,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":222400,"millis":0.2224,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":745300,"millis":0.7453,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":158100,"millis":0.1581,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":1080300,"millis":1.0803,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":97400,"millis":0.0974,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":70800,"millis":0.0708,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":82000,"millis":0.082,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":68800,"millis":0.0688,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1237600,"millis":1.2376,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACT. CÓD BARRAS\""}},{"result":{"nanos":162700,"millis":0.1627,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"02\""}},{"result":{"nanos":108600,"millis":0.1086,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":191100,"millis":0.1911,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":327349900,"millis":327.3499,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:16.922 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2066\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"210100aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"02\",\"receipt\":421799,\"rrn\":421799,\"dateTime\":\"20240205163900\",\"transactionType\":\"PAGO FACT. CÓD BARRAS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"93749400****9685\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":421799},\"script\":\"[0X0A][0X1C][0X2C][0X3C]421799[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]PAGO FACT. CÓD BARRAS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 421799[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:17.246 response time in milliseconds: 324\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: 672d0ffe-62b9-43e4-b80b-3564989cf3dd\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMlFzTIAMEtsQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-6e63b5d55d8f6bc64094d607\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: LrAzqNAF6UOpeXOuQ1RPsB73wtjSYrHLm5qJvCKVXkbqG4ohGuuJVA==\n{\"status\":[{\"transactionId\":\"d63c7fc7-fbf1-44c3-97de-5a623faab2ed\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"d63c7fc7-fbf1-44c3-97de-5a623faab2ed\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":550500,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":0.5505,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:17.248 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACT. CÓD BARRAS\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"02\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":182,"description":"","durationMillis":406.0318,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169156835,"refId":"[1.12:182]","endTime":1707169157248,"exampleData":{"inMode":"02","accountType":"CR","notifiFlag":"true","Type":"1","transaction":"PAGO FACT. CÓD BARRAS","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":11},{"sectionIndex":0,"stepResults":[{"result":{"nanos":3332500,"millis":3.3325,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:16.836 karate.env system property was: dev-corr \n"},{"result":{"nanos":159000,"millis":0.159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":265700,"millis":0.2657,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":748900,"millis":0.7489,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":413500,"millis":0.4135,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":319300,"millis":0.3193,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":241400,"millis":0.2414,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":781200,"millis":0.7812,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":786000,"millis":0.786,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":31409200,"millis":31.4092,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":432300,"millis":0.4323,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":883600,"millis":0.8836,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":363000,"millis":0.363,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":224000,"millis":0.224,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":91000,"millis":0.091,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":226800,"millis":0.2268,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":110800,"millis":0.1108,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":96700,"millis":0.0967,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":102700,"millis":0.1027,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":88400,"millis":0.0884,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":89500,"millis":0.0895,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":925500,"millis":0.9255,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACT. TARJ EMPRES\""}},{"result":{"nanos":716300,"millis":0.7163,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"01\""}},{"result":{"nanos":130100,"millis":0.1301,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":476600,"millis":0.4766,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":94400,"millis":0.0944,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":351898100,"millis":351.8981,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:16.886 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2066\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"687291aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"01\",\"receipt\":201829,\"rrn\":201829,\"dateTime\":\"20240205163900\",\"transactionType\":\"PAGO FACT. TARJ EMPRES\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"74498211****2470\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":201829},\"script\":\"[0X0A][0X1C][0X2C][0X3C]201829[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]PAGO FACT. TARJ EMPRES[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 201829[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:17.236 response time in milliseconds: 349\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: ccb1082a-ee7a-4250-add3-62b1a625d4f2\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMlE0uoAMEK0A=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-5faa59544247696b53bf800e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: ptxKvHZcyj5ehPuV0Pch16huy2kFjp4S4AgyhZlP12w7Hm4l7V6UeA==\n{\"status\":[{\"transactionId\":\"e4689fdb-0b79-4258-8450-42d80ad52bd8\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"e4689fdb-0b79-4258-8450-42d80ad52bd8\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":475800,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":0.4758,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:17.237 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACT. TARJ EMPRES\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"01\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":183,"description":"","durationMillis":396.0443,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169156832,"refId":"[1.13:183]","endTime":1707169157237,"exampleData":{"inMode":"01","accountType":"00","notifiFlag":"true","Type":"1","transaction":"PAGO FACT. TARJ EMPRES","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":12},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4536600,"millis":4.5366,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:17.240 karate.env system property was: dev-corr \n"},{"result":{"nanos":208800,"millis":0.2088,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":584200,"millis":0.5842,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":624200,"millis":0.6242,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":332600,"millis":0.3326,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":227100,"millis":0.2271,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":160900,"millis":0.1609,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":777000,"millis":0.777,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1008600,"millis":1.0086,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":5024200,"millis":5.0242,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":515800,"millis":0.5158,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":286900,"millis":0.2869,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":223100,"millis":0.2231,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":192200,"millis":0.1922,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":74900,"millis":0.0749,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":138200,"millis":0.1382,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":74700,"millis":0.0747,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":59000,"millis":0.059,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":973400,"millis":0.9734,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO TARJETA DE CRÉDITO\""}},{"result":{"nanos":975400,"millis":0.9754,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"03\""}},{"result":{"nanos":602000,"millis":0.602,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":244800,"millis":0.2448,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":442990300,"millis":442.9903,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:17.437 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2069\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"54710aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"03\",\"receipt\":114992,\"rrn\":114992,\"dateTime\":\"20240205163900\",\"transactionType\":\"PAGO TARJETA DE CRÉDITO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"18404373****2484\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":114992},\"script\":\"[0X0A][0X1C][0X2C][0X3C]114992[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]PAGO TARJETA DE CRÉDITO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 114992[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:17.703 response time in milliseconds: 266\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: ba1b30fc-1054-4d49-ac34-d0b63f85abf4\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMqEokIAMEb7w=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-05a6f604548310f041e992bb\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 029192accfd6bfc8c2572988b78b92e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: CSopQJzby05L9U7pxsiuHjKpYAexcRsOv27mrCSA0gcCY9mtWW9z7A==\n{\"status\":[{\"transactionId\":\"b6eb52b3-140d-4394-ad57-a00b7eae51b8\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"b6eb52b3-140d-4394-ad57-a00b7eae51b8\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":555200,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":0.5552,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:17.704 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO TARJETA DE CRÉDITO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"03\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":184,"description":"","durationMillis":461.7809,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169157239,"refId":"[1.14:184]","endTime":1707169157704,"exampleData":{"inMode":"03","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"PAGO TARJETA DE CRÉDITO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":13},{"sectionIndex":0,"stepResults":[{"result":{"nanos":6892500,"millis":6.8925,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:17.268 karate.env system property was: dev-corr \n"},{"result":{"nanos":187100,"millis":0.1871,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":309300,"millis":0.3093,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":686300,"millis":0.6863,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":6234200,"millis":6.2342,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":578100,"millis":0.5781,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":239800,"millis":0.2398,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":930200,"millis":0.9302,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":6230900,"millis":6.2309,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":70842200,"millis":70.8422,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":979500,"millis":0.9795,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":836800,"millis":0.8368,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":294800,"millis":0.2948,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":263100,"millis":0.2631,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":87600,"millis":0.0876,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":147900,"millis":0.1479,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":89100,"millis":0.0891,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":4227400,"millis":4.2274,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":1483300,"millis":1.4833,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":242000,"millis":0.242,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":122600,"millis":0.1226,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":42587800,"millis":42.5878,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO CARTERA\""}},{"result":{"nanos":1147100,"millis":1.1471,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"80\""}},{"result":{"nanos":620200,"millis":0.6202,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":256700,"millis":0.2567,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":83700,"millis":0.0837,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":293666000,"millis":293.666,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:17.439 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2046\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"207324aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"80\",\"receipt\":764671,\"rrn\":764671,\"dateTime\":\"20240205163900\",\"transactionType\":\"PAGO CARTERA\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"43675637****4471\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":764671},\"script\":\"[0X0A][0X1C][0X2C][0X3C]764671[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]PAGO CARTERA[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 764671[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:17.711 response time in milliseconds: 271\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: 2074c694-fa46-4d96-9615-62e8bf37f4fb\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMqHdXoAMEA2A=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-7ffe07a11d3f750d07a1a941\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: O_LfvIpvtIpdLpwkHFI96XCZGi_l3pzCeA0gNwxcG73VFM3lTRLLCg==\n{\"status\":[{\"transactionId\":\"4b8d4cdf-a51a-4af6-994f-74fad0d17705\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"4b8d4cdf-a51a-4af6-994f-74fad0d17705\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":3399500,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":3.3995,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:17.724 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO CARTERA\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"80\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":185,"description":"","durationMillis":443.8218,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169157268,"refId":"[1.15:185]","endTime":1707169157724,"exampleData":{"inMode":"80","accountType":"CC","notifiFlag":"true","Type":"1","transaction":"PAGO CARTERA","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":14},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14287100,"millis":14.2871,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:17.273 karate.env system property was: dev-corr \n"},{"result":{"nanos":153500,"millis":0.1535,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":316800,"millis":0.3168,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":941900,"millis":0.9419,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":339900,"millis":0.3399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":503000,"millis":0.503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":361000,"millis":0.361,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":760000,"millis":0.76,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":775300,"millis":0.7753,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":85894500,"millis":85.8945,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1228100,"millis":1.2281,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":664600,"millis":0.6646,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":3796200,"millis":3.7962,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":18604500,"millis":18.6045,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":1116800,"millis":1.1168,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":311000,"millis":0.311,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":112200,"millis":0.1122,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":317800,"millis":0.3178,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":498500,"millis":0.4985,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":198900,"millis":0.1989,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":358300,"millis":0.3583,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":1300700,"millis":1.3007,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":282300,"millis":0.2823,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":209200,"millis":0.2092,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":2261900,"millis":2.2619,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CONSULTA DE SALDO\""}},{"result":{"nanos":630700,"millis":0.6307,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"90\""}},{"result":{"nanos":585200,"millis":0.5852,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":224000,"millis":0.224,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":83200,"millis":0.0832,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":254089400,"millis":254.0894,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:17.437 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2056\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"832326aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"90\",\"receipt\":233337,\"rrn\":233337,\"dateTime\":\"20240205163900\",\"transactionType\":\"CONSULTA DE SALDO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"17274762****6527\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":233337},\"script\":\"[0X0A][0X1C][0X2C][0X3C]233337[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]CONSULTA DE SALDO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 233337[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:17.672 response time in milliseconds: 234\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: 16acb564-4a7a-4a70-a462-323066b2a943\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMqFZSIAMEYVg=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-7015cbfd62c16e7b302b8eee\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Eox_D4SbvUNRfCyvxKot1tAZVOT3DJUI_nL7DZWjKUfFXvDp2FuU_g==\n{\"status\":[{\"transactionId\":\"4b3e3a77-42db-4ba4-b174-4c2055bc60a1\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"4b3e3a77-42db-4ba4-b174-4c2055bc60a1\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":815800,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":0.8158,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:17.674 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CONSULTA DE SALDO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"90\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":186,"description":"","durationMillis":392.0554,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169157272,"refId":"[1.16:186]","endTime":1707169157674,"exampleData":{"inMode":"90","accountType":"CR","notifiFlag":"true","Type":"1","transaction":"CONSULTA DE SALDO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":15},{"sectionIndex":0,"stepResults":[{"result":{"nanos":179438900,"millis":179.4389,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:17.272 karate.env system property was: dev-corr \n"},{"result":{"nanos":236200,"millis":0.2362,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":404700,"millis":0.4047,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":699700,"millis":0.6997,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":437700,"millis":0.4377,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":327400,"millis":0.3274,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":258200,"millis":0.2582,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":750500,"millis":0.7505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":711000,"millis":0.711,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":5152200,"millis":5.1522,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":528300,"millis":0.5283,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":273300,"millis":0.2733,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":224600,"millis":0.2246,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":209500,"millis":0.2095,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":85400,"millis":0.0854,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":87400,"millis":0.0874,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":147000,"millis":0.147,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":109400,"millis":0.1094,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":82500,"millis":0.0825,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":82500,"millis":0.0825,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":74900,"millis":0.0749,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":897900,"millis":0.8979,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CONSULTAR CUPO\""}},{"result":{"nanos":827700,"millis":0.8277,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"00\""}},{"result":{"nanos":132300,"millis":0.1323,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":197500,"millis":0.1975,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":261635000,"millis":261.635,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:17.469 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2050\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"476242aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"00\",\"receipt\":283538,\"rrn\":283538,\"dateTime\":\"20240205163900\",\"transactionType\":\"CONSULTAR CUPO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"89024194****1764\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":283538},\"script\":\"[0X0A][0X1C][0X2C][0X3C]283538[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]CONSULTAR CUPO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 283538[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:17.727 response time in milliseconds: 258\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:15 GMT\n1 < x-amzn-RequestId: a35a2ef3-d370-4ee5-9eda-dd3cf7c8e7d7\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMqHcGIAMEA6Q=\n1 < X-Amzn-Trace-Id: Root=1-65c15583-000e345666aef79d3574afec\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: tSdu1-hsQIwUull2DbzABlkam6jg7VXOVk_uwZFxDIQPcCdWImJAyg==\n{\"status\":[{\"transactionId\":\"66765fa6-691d-4bab-8267-a3ba95b888f9\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163915\"}],\"arrayError\":[{\"transactionId\":\"66765fa6-691d-4bab-8267-a3ba95b888f9\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":909200,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":0.9092,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:17.730 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CONSULTAR CUPO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":187,"description":"","durationMillis":455.1473,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169157272,"refId":"[1.17:187]","endTime":1707169157730,"exampleData":{"inMode":"00","accountType":"00","notifiFlag":"true","Type":"1","transaction":"CONSULTAR CUPO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":16},{"sectionIndex":0,"stepResults":[{"result":{"nanos":13386100,"millis":13.3861,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:17.681 karate.env system property was: dev-corr \n"},{"result":{"nanos":311800,"millis":0.3118,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":359800,"millis":0.3598,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":912400,"millis":0.9124,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":390100,"millis":0.3901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":206900,"millis":0.2069,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":176500,"millis":0.1765,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":758400,"millis":0.7584,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":623600,"millis":0.6236,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":36615500,"millis":36.6155,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":456700,"millis":0.4567,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":361500,"millis":0.3615,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":249600,"millis":0.2496,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":195100,"millis":0.1951,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":44000,"millis":0.044,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":115000,"millis":0.115,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":131500,"millis":0.1315,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":218200,"millis":0.2182,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":98900,"millis":0.0989,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":84300,"millis":0.0843,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":79900,"millis":0.0799,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":76200,"millis":0.0762,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":73100,"millis":0.0731,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1479000,"millis":1.479,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CAMBIO DE CLAVE\""}},{"result":{"nanos":176100,"millis":0.1761,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":769500,"millis":0.7695,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":535200,"millis":0.5352,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":61000,"millis":0.061,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":359859400,"millis":359.8594,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:17.751 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2052\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"171515aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"05\",\"receipt\":576299,\"rrn\":576299,\"dateTime\":\"20240205163900\",\"transactionType\":\"CAMBIO DE CLAVE\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"63284209****6033\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":576299},\"script\":\"[0X0A][0X1C][0X2C][0X3C]576299[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]CAMBIO DE CLAVE[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 576299[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.101 response time in milliseconds: 350\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:16 GMT\n1 < x-amzn-RequestId: 1ca49844-78b3-4445-a2f3-a35c4452a1c1\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMuHdoIAMEiQA=\n1 < X-Amzn-Trace-Id: Root=1-65c15584-3f43aa050c2dced2379cdb62\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: R1hsqDdwPgvaI-2NqpPNaNXy8FIHIH7605bBRIe1ZKrG_7hUshm6Zg==\n{\"status\":[{\"transactionId\":\"7e7511cd-90dd-48b8-90c0-d9a633ea58c5\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163916\"}],\"arrayError\":[{\"transactionId\":\"7e7511cd-90dd-48b8-90c0-d9a633ea58c5\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1601500,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","millis":1.6015,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.104 classpath:CORR\/aprobadaOk04.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CAMBIO DE CLAVE\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '04'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":188,"description":"","durationMillis":420.4668,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk04.feature:37","executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169157681,"refId":"[1.18:188]","endTime":1707169158104,"exampleData":{"inMode":"05","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"CAMBIO DE CLAVE","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":17}],"callDepth":0,"name":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","description":"","resultDate":"2024-02-05 04:39:24 p. m.","durationMillis":7189.0111,"passedCount":0}