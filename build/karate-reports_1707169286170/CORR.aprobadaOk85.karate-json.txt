{"failedCount":18,"prefixedPath":"classpath:CORR\/aprobadaOk85.feature","packageQualifiedName":"CORR.aprobadaOk85","loopIndex":-1,"relativePath":"CORR\/aprobadaOk85.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":31325400,"millis":31.3254,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:17.710 karate.env system property was: dev-corr \n"},{"result":{"nanos":533400,"millis":0.5334,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":323500,"millis":0.3235,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":575800,"millis":0.5758,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":359600,"millis":0.3596,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":199600,"millis":0.1996,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":178100,"millis":0.1781,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":758100,"millis":0.7581,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":714500,"millis":0.7145,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":41838800,"millis":41.8388,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":493200,"millis":0.4932,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":265500,"millis":0.2655,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":212600,"millis":0.2126,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":247500,"millis":0.2475,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":92100,"millis":0.0921,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":151200,"millis":0.1512,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":91200,"millis":0.0912,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":88600,"millis":0.0886,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":81900,"millis":0.0819,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":878800,"millis":0.8788,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA AHORRO\""}},{"result":{"nanos":118900,"millis":0.1189,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":642700,"millis":0.6427,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":212300,"millis":0.2123,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":273798200,"millis":273.7982,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:17.795 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2062\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"362446aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"05\",\"receipt\":419913,\"rrn\":419913,\"dateTime\":\"20240205163900\",\"transactionType\":\"TRANSFERENCIA AHORRO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"53243183****4677\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":419913},\"script\":\"[0X0A][0X1C][0X2C][0X3C]419913[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]TRANSFERENCIA AHORRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 419913[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.065 response time in milliseconds: 270\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:16 GMT\n1 < x-amzn-RequestId: 182ad60f-bf1c-4661-b412-5a3b9fb80e26\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMuGZyIAMEF8w=\n1 < X-Amzn-Trace-Id: Root=1-65c15584-54dceac73512e7f752b6f8df\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 8ulCAZOthMki-3LDQZuNmfWk_-F_QncPArT8U_M4KPABSPw3dEiZ5A==\n{\"status\":[{\"transactionId\":\"bf4a2b5b-106d-4c45-ab96-cb89dec1ad45\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163916\"}],\"arrayError\":[{\"transactionId\":\"bf4a2b5b-106d-4c45-ab96-cb89dec1ad45\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1952200,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":1.9522,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.069 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA AHORRO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":171,"description":"","durationMillis":356.4959,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169157709,"refId":"[1.1:171]","endTime":1707169158069,"exampleData":{"inMode":"05","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"TRANSFERENCIA AHORRO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":128920300,"millis":128.9203,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:17.745 karate.env system property was: dev-corr \n"},{"result":{"nanos":1370200,"millis":1.3702,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":376500,"millis":0.3765,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":514300,"millis":0.5143,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":676500,"millis":0.6765,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":496200,"millis":0.4962,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":347800,"millis":0.3478,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1023300,"millis":1.0233,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":1044700,"millis":1.0447,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":71659900,"millis":71.6599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":5061900,"millis":5.0619,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":3795100,"millis":3.7951,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":651000,"millis":0.651,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":290000,"millis":0.29,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":74800,"millis":0.0748,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":79800,"millis":0.0798,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":143400,"millis":0.1434,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":67200,"millis":0.0672,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":1409100,"millis":1.4091,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":297900,"millis":0.2979,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":193700,"millis":0.1937,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1240100,"millis":1.2401,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA CORRIENTE\""}},{"result":{"nanos":2274600,"millis":2.2746,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"07\""}},{"result":{"nanos":747600,"millis":0.7476,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":278000,"millis":0.278,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":539951200,"millis":539.9512,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:17.979 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2068\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"353048aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"07\",\"receipt\":586856,\"rrn\":586856,\"dateTime\":\"20240205163900\",\"transactionType\":\"TRANSFERENCIA CORRIENTE\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"52689977****2251\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":586856},\"script\":\"[0X0A][0X1C][0X2C][0X3C]586856[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]TRANSFERENCIA CORRIENTE[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 586856[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.515 response time in milliseconds: 535\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:16 GMT\n1 < x-amzn-RequestId: 68cbd44d-ec22-4c0c-98fe-1e2318c2fc1c\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMyFYeoAMEjWg=\n1 < X-Amzn-Trace-Id: Root=1-65c15584-6f652ff6261cf8db6534400d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: YcGMM6tNDGeEMl-HEUrtDf2clVVZu0NHQeZWsZzWXm0aYzrjaFp1zQ==\n{\"status\":[{\"transactionId\":\"1ed9874a-ed6b-4e09-95cc-8c46038acf5f\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163916\"}],\"arrayError\":[{\"transactionId\":\"1ed9874a-ed6b-4e09-95cc-8c46038acf5f\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":433700,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.4337,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.516 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA CORRIENTE\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"07\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":172,"description":"","durationMillis":763.6505,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169157738,"refId":"[1.2:172]","endTime":1707169158516,"exampleData":{"inMode":"07","accountType":"CC","notifiFlag":"true","Type":"1","transaction":"TRANSFERENCIA CORRIENTE","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":37047100,"millis":37.0471,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:17.737 karate.env system property was: dev-corr \n"},{"result":{"nanos":199700,"millis":0.1997,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":865000,"millis":0.865,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":719900,"millis":0.7199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":389600,"millis":0.3896,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":217900,"millis":0.2179,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":249700,"millis":0.2497,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1106100,"millis":1.1061,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":730400,"millis":0.7304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":24263900,"millis":24.2639,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":421000,"millis":0.421,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":252300,"millis":0.2523,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":341100,"millis":0.3411,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":200100,"millis":0.2001,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":139800,"millis":0.1398,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":73800,"millis":0.0738,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":137300,"millis":0.1373,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":84000,"millis":0.084,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":68000,"millis":0.068,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":77200,"millis":0.0772,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1066200,"millis":1.0662,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA OTRA CTA\""}},{"result":{"nanos":795700,"millis":0.7957,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"02\""}},{"result":{"nanos":644400,"millis":0.6444,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":218500,"millis":0.2185,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":395392400,"millis":395.3924,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:17.811 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2065\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"56801aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"02\",\"receipt\":979982,\"rrn\":979982,\"dateTime\":\"20240205163900\",\"transactionType\":\"TRANSFERENCIA OTRA CTA\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"20121551****3170\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":979982},\"script\":\"[0X0A][0X1C][0X2C][0X3C]979982[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]TRANSFERENCIA OTRA CTA[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 979982[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.204 response time in milliseconds: 393\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:16 GMT\n1 < x-amzn-RequestId: 128bdc5b-0e96-4790-aaa3-1d601b748286\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMvGWeIAMEZmw=\n1 < X-Amzn-Trace-Id: Root=1-65c15584-3eac46b5165da6fb477f9f2b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Sm0G8DpPb2__FsgxZINoMSuGl46ZzoIloRi4d0FVrAutQa3QgZn3jw==\n{\"status\":[{\"transactionId\":\"ca131347-4bcd-40c2-b1e2-5a70a0a07b37\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163916\"}],\"arrayError\":[{\"transactionId\":\"ca131347-4bcd-40c2-b1e2-5a70a0a07b37\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":452100,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.4521,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.206 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"TRANSFERENCIA OTRA CTA\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"02\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":173,"description":"","durationMillis":466.4113,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169157733,"refId":"[1.3:173]","endTime":1707169158206,"exampleData":{"inMode":"02","accountType":"CR","notifiFlag":"true","Type":"1","transaction":"TRANSFERENCIA OTRA CTA","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5986800,"millis":5.9868,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:18.076 karate.env system property was: dev-corr \n"},{"result":{"nanos":175100,"millis":0.1751,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":537300,"millis":0.5373,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":642700,"millis":0.6427,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":376100,"millis":0.3761,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":153400,"millis":0.1534,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":178200,"millis":0.1782,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":578500,"millis":0.5785,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":525600,"millis":0.5256,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":7455500,"millis":7.4555,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":559900,"millis":0.5599,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":245100,"millis":0.2451,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":329900,"millis":0.3299,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":266900,"millis":0.2669,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":77100,"millis":0.0771,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":258100,"millis":0.2581,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":93000,"millis":0.093,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":65000,"millis":0.065,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":155200,"millis":0.1552,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":108000,"millis":0.108,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":67800,"millis":0.0678,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO\""}},{"result":{"nanos":934000,"millis":0.934,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"01\""}},{"result":{"nanos":133800,"millis":0.1338,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":157800,"millis":0.1578,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":222497100,"millis":222.4971,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:18.102 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2034\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"518615aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"01\",\"receipt\":405464,\"rrn\":405464,\"dateTime\":\"20240205163900\",\"transactionType\":\"RETIRO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"43276969****8398\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":405464},\"script\":\"[0X0A][0X1C][0X2C][0X3C]405464[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 405464[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.323 response time in milliseconds: 221\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:16 GMT\n1 < x-amzn-RequestId: 3a277d52-e9e5-488f-9989-427bc25e771b\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMwEplIAMEd3A=\n1 < X-Amzn-Trace-Id: Root=1-65c15584-6fae78e15c2ed5d734db5978\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: gvWOUcD2h639L6pPgck_Rn1r5PnxvU8niQoBc6NqdEXnkZZ8rutlwg==\n{\"status\":[{\"transactionId\":\"f5dc1d70-46f8-4381-8553-6da6be46cec6\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163916\"}],\"arrayError\":[{\"transactionId\":\"f5dc1d70-46f8-4381-8553-6da6be46cec6\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":348200,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.3482,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.324 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"01\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":174,"description":"","durationMillis":243.1538,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169158072,"refId":"[1.4:174]","endTime":1707169158324,"exampleData":{"inMode":"01","accountType":"00","notifiFlag":"true","Type":"1","transaction":"RETIRO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":3},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5816800,"millis":5.8168,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:18.121 karate.env system property was: dev-corr \n"},{"result":{"nanos":3162700,"millis":3.1627,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":870400,"millis":0.8704,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":841900,"millis":0.8419,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":2305500,"millis":2.3055,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":310000,"millis":0.31,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":260600,"millis":0.2606,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1099200,"millis":1.0992,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":727200,"millis":0.7272,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":18834100,"millis":18.8341,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":473000,"millis":0.473,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":257400,"millis":0.2574,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":568900,"millis":0.5689,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":563800,"millis":0.5638,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":74700,"millis":0.0747,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":86800,"millis":0.0868,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":146900,"millis":0.1469,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":181900,"millis":0.1819,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":129100,"millis":0.1291,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":77700,"millis":0.0777,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":81900,"millis":0.0819,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":66300,"millis":0.0663,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1023800,"millis":1.0238,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"AHORRO A LA MANO\""}},{"result":{"nanos":660400,"millis":0.6604,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"03\""}},{"result":{"nanos":103400,"millis":0.1034,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":164200,"millis":0.1642,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":272612800,"millis":272.6128,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:18.170 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2053\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"48683aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"03\",\"receipt\":117346,\"rrn\":117346,\"dateTime\":\"20240205163900\",\"transactionType\":\"AHORRO A LA MANO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"33558501****3242\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":117346},\"script\":\"[0X0A][0X1C][0X2C][0X3C]117346[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]AHORRO A LA MANO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 117346[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.440 response time in milliseconds: 270\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:16 GMT\n1 < x-amzn-RequestId: b82c381d-ce30-420f-9d48-5732071d38f6\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpMyF4loAMEKFg=\n1 < X-Amzn-Trace-Id: Root=1-65c15584-32a80a3d68e1309127a6442b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 3iVurnJcIG23P0r1ziH9MRPJCFW-BebvC8gJeKzxymD-GNPqTQMj7Q==\n{\"status\":[{\"transactionId\":\"ac1322d4-8ca7-45ae-8f82-fe4636b7bef7\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163916\"}],\"arrayError\":[{\"transactionId\":\"ac1322d4-8ca7-45ae-8f82-fe4636b7bef7\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":448700,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.4487,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.442 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"AHORRO A LA MANO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"03\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":175,"description":"","durationMillis":312.1299,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169158112,"refId":"[1.5:175]","endTime":1707169158442,"exampleData":{"inMode":"03","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"AHORRO A LA MANO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":4},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52789600,"millis":52.7896,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:18.209 karate.env system property was: dev-corr \n"},{"result":{"nanos":211100,"millis":0.2111,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":368600,"millis":0.3686,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":603700,"millis":0.6037,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":337100,"millis":0.3371,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":242100,"millis":0.2421,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":166700,"millis":0.1667,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":690200,"millis":0.6902,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":593700,"millis":0.5937,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":50486600,"millis":50.4866,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":569100,"millis":0.5691,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":265900,"millis":0.2659,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":1653700,"millis":1.6537,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":279200,"millis":0.2792,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":58500,"millis":0.0585,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":149600,"millis":0.1496,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":91300,"millis":0.0913,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":67000,"millis":0.067,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":325600,"millis":0.3256,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":370200,"millis":0.3702,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":113900,"millis":0.1139,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1156700,"millis":1.1567,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO NEQUI\""}},{"result":{"nanos":657000,"millis":0.657,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"80\""}},{"result":{"nanos":801300,"millis":0.8013,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":376900,"millis":0.3769,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":73800,"millis":0.0738,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":336125800,"millis":336.1258,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:18.328 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2045\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"98274aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"80\",\"receipt\":518373,\"rrn\":518373,\"dateTime\":\"20240205163900\",\"transactionType\":\"RETIRO NEQUI\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"39379485****1666\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":518373},\"script\":\"[0X0A][0X1C][0X2C][0X3C]518373[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 518373[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.662 response time in milliseconds: 333\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:16 GMT\n1 < x-amzn-RequestId: c9d48156-1411-4b74-bdb3-e1e4be992eff\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM0H0loAMEKFQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15584-52d9867205d930f21d1723d6\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 1TEMaj10LFDOTOP398oKMdkfPhvVN6yHYQNiNqh0Rh_MNEzWSNFDvw==\n{\"status\":[{\"transactionId\":\"b4f58516-20de-4d6b-af8f-c4729ac515e9\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163916\"}],\"arrayError\":[{\"transactionId\":\"b4f58516-20de-4d6b-af8f-c4729ac515e9\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":540700,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.5407,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.663 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO NEQUI\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"80\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":176,"description":"","durationMillis":450.3605,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169158209,"refId":"[1.6:176]","endTime":1707169158663,"exampleData":{"inMode":"80","accountType":"CC","notifiFlag":"true","Type":"1","transaction":"RETIRO NEQUI","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":5},{"sectionIndex":0,"stepResults":[{"result":{"nanos":6717100,"millis":6.7171,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:18.329 karate.env system property was: dev-corr \n"},{"result":{"nanos":141800,"millis":0.1418,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":310600,"millis":0.3106,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":529000,"millis":0.529,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":260300,"millis":0.2603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":126000,"millis":0.126,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":119100,"millis":0.1191,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":600400,"millis":0.6004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":501100,"millis":0.5011,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":5133800,"millis":5.1338,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":395500,"millis":0.3955,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":199900,"millis":0.1999,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":186100,"millis":0.1861,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":200600,"millis":0.2006,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":101500,"millis":0.1015,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":120800,"millis":0.1208,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":87300,"millis":0.0873,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":965700,"millis":0.9657,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO PAGOS\""}},{"result":{"nanos":659100,"millis":0.6591,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"90\""}},{"result":{"nanos":132600,"millis":0.1326,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":302400,"millis":0.3024,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":448000,"millis":0.448,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":371756300,"millis":371.7563,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:18.351 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2046\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"789829aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"90\",\"receipt\":882788,\"rrn\":882788,\"dateTime\":\"20240205163900\",\"transactionType\":\"RETIRO PAGOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"74098867****5061\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":882788},\"script\":\"[0X0A][0X1C][0X2C][0X3C]882788[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RETIRO PAGOS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 882788[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.720 response time in milliseconds: 369\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: a93d7a5f-abf8-4a0f-a6fb-c2f5d8343c5b\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM0GvvoAMEqdw=\n1 < X-Amzn-Trace-Id: Root=1-65c15584-665f91d7599e85b33b6f5724\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: tKpLAZDzpqzAfYH0-6oWFlNrS03zW-bF2bpfDQx4PmLJy5nMY3rnEQ==\n{\"status\":[{\"transactionId\":\"c654ed59-3201-4176-bc4b-7ef15165f9aa\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"c654ed59-3201-4176-bc4b-7ef15165f9aa\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":480900,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.4809,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.722 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RETIRO PAGOS\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"90\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":177,"description":"","durationMillis":390.8344,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169158328,"refId":"[1.7:177]","endTime":1707169158722,"exampleData":{"inMode":"90","accountType":"CR","notifiFlag":"true","Type":"1","transaction":"RETIRO PAGOS","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":6},{"sectionIndex":0,"stepResults":[{"result":{"nanos":4526900,"millis":4.5269,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:18.453 karate.env system property was: dev-corr \n"},{"result":{"nanos":291200,"millis":0.2912,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":358100,"millis":0.3581,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1955000,"millis":1.955,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":495100,"millis":0.4951,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":254600,"millis":0.2546,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":350500,"millis":0.3505,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":777600,"millis":0.7776,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":24024000,"millis":24.024,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":6981000,"millis":6.981,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":475900,"millis":0.4759,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":228300,"millis":0.2283,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":192200,"millis":0.1922,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":194700,"millis":0.1947,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":126200,"millis":0.1262,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":61400,"millis":0.0614,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":973100,"millis":0.9731,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"DEPOSITO AHORROS\""}},{"result":{"nanos":676900,"millis":0.6769,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"00\""}},{"result":{"nanos":117000,"millis":0.117,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":169400,"millis":0.1694,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":496022900,"millis":496.0229,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:18.500 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2054\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"512564aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"00\",\"receipt\":375542,\"rrn\":375542,\"dateTime\":\"20240205163900\",\"transactionType\":\"DEPOSITO AHORROS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"60243119****5947\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":375542},\"script\":\"[0X0A][0X1C][0X2C][0X3C]375542[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]DEPOSITO AHORROS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 375542[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.994 response time in milliseconds: 493\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: 0c2f91ea-af1b-415c-97bf-c8447f0c35e9\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM3Gs1IAMEN7Q=\n1 < X-Amzn-Trace-Id: Root=1-65c15585-397f01fc742a40f513d90a25\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 aeb457e87760dc433cf50cdb15399112.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: _WIskeIhd8DVck1GR8C4D13SrdJP2i2krhXI60__XY4h6OWAqiMJGg==\n{\"status\":[{\"transactionId\":\"0a28e7d8-b355-4501-9f8f-69d05852e583\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"0a28e7d8-b355-4501-9f8f-69d05852e583\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1277200,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":1.2772,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.996 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"DEPOSITO AHORROS\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":178,"description":"","durationMillis":541.0042,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169158449,"refId":"[1.8:178]","endTime":1707169158996,"exampleData":{"inMode":"00","accountType":"00","notifiFlag":"true","Type":"1","transaction":"DEPOSITO AHORROS","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":7},{"sectionIndex":0,"stepResults":[{"result":{"nanos":11872400,"millis":11.8724,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:18.520 karate.env system property was: dev-corr \n"},{"result":{"nanos":239400,"millis":0.2394,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":312800,"millis":0.3128,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":509300,"millis":0.5093,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":361500,"millis":0.3615,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":184900,"millis":0.1849,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":179800,"millis":0.1798,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":566300,"millis":0.5663,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":488600,"millis":0.4886,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":7510600,"millis":7.5106,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":473800,"millis":0.4738,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":265400,"millis":0.2654,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":184700,"millis":0.1847,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":247100,"millis":0.2471,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":84100,"millis":0.0841,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":120200,"millis":0.1202,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":71000,"millis":0.071,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":856000,"millis":0.856,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"DEPOSITO CORRIENTE\""}},{"result":{"nanos":104600,"millis":0.1046,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":604800,"millis":0.6048,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":189100,"millis":0.1891,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":371810700,"millis":371.8107,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:18.550 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2058\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"896199aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"05\",\"receipt\":488661,\"rrn\":488661,\"dateTime\":\"20240205163900\",\"transactionType\":\"DEPOSITO CORRIENTE\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"50277231****8767\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":488661},\"script\":\"[0X0A][0X1C][0X2C][0X3C]488661[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]DEPOSITO CORRIENTE[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 488661[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.919 response time in milliseconds: 369\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: c737ae93-1050-4c07-a7bf-cedc87c79fdc\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM2GWvoAMEifg=\n1 < X-Amzn-Trace-Id: Root=1-65c15585-2c66d5f57754dd9152e63fd0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: dwOgr3zznuKPH0bpodLJfUShAFzvBamJzgUcr0k6si1q_PH4lVLDRA==\n{\"status\":[{\"transactionId\":\"07d0aa12-af17-4498-9a80-a2c0c026e0e1\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"07d0aa12-af17-4498-9a80-a2c0c026e0e1\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":807200,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.8072,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.920 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"DEPOSITO CORRIENTE\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":179,"description":"","durationMillis":398.4712,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169158519,"refId":"[1.9:179]","endTime":1707169158920,"exampleData":{"inMode":"05","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"DEPOSITO CORRIENTE","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":8},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5752100,"millis":5.7521,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:18.666 karate.env system property was: dev-corr \n"},{"result":{"nanos":205500,"millis":0.2055,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":339500,"millis":0.3395,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":545800,"millis":0.5458,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":331800,"millis":0.3318,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":158900,"millis":0.1589,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":129400,"millis":0.1294,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":730900,"millis":0.7309,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":706500,"millis":0.7065,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":6848100,"millis":6.8481,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":422100,"millis":0.4221,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":214200,"millis":0.2142,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":165000,"millis":0.165,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":165100,"millis":0.1651,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":75600,"millis":0.0756,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":128200,"millis":0.1282,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":79800,"millis":0.0798,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":72600,"millis":0.0726,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":60500,"millis":0.0605,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":70600,"millis":0.0706,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1001000,"millis":1.001,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA NEQUI\""}},{"result":{"nanos":133800,"millis":0.1338,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":703200,"millis":0.7032,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":167000,"millis":0.167,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":206859300,"millis":206.8593,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:18.690 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2048\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"269819aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"05\",\"receipt\":276221,\"rrn\":276221,\"dateTime\":\"20240205163900\",\"transactionType\":\"RECARGA NEQUI\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"67538321****2662\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":276221},\"script\":\"[0X0A][0X1C][0X2C][0X3C]276221[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]RECARGA NEQUI[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 276221[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:18.893 response time in milliseconds: 203\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: 7796603c-ab2a-4d17-a7d9-2a5ef777c991\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM2H14oAMEKFQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15585-2b81a0540ad054474f2c71f7\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 3KO_pQ5VvLVvXZUFQQLdAtjIEyVuplBuRn58Bq3mYXyQe6b3Q58Yng==\n{\"status\":[{\"transactionId\":\"68753f69-1f86-4d7a-861a-d32a5e0ac484\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"68753f69-1f86-4d7a-861a-d32a5e0ac484\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1093300,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":1.0933,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:18.896 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA NEQUI\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":180,"description":"","durationMillis":227.4024,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169158666,"refId":"[1.10:180]","endTime":1707169158896,"exampleData":{"inMode":"05","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"RECARGA NEQUI","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":9},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20096000,"millis":20.096,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:18.726 karate.env system property was: dev-corr \n"},{"result":{"nanos":145400,"millis":0.1454,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":298700,"millis":0.2987,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":526900,"millis":0.5269,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":293700,"millis":0.2937,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":153900,"millis":0.1539,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":128800,"millis":0.1288,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":15544800,"millis":15.5448,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":898100,"millis":0.8981,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":9099500,"millis":9.0995,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":833300,"millis":0.8333,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":299800,"millis":0.2998,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":223700,"millis":0.2237,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":220600,"millis":0.2206,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":44100,"millis":0.0441,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":84200,"millis":0.0842,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":147700,"millis":0.1477,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":75800,"millis":0.0758,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":48200,"millis":0.0482,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":851500,"millis":0.8515,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACTURA MANUAL\""}},{"result":{"nanos":534700,"millis":0.5347,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"07\""}},{"result":{"nanos":796200,"millis":0.7962,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":293000,"millis":0.293,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":397599800,"millis":397.5998,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:18.782 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2060\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"408477aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"07\",\"receipt\":377419,\"rrn\":377419,\"dateTime\":\"20240205163900\",\"transactionType\":\"PAGO FACTURA MANUAL\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"38877403****9821\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":377419},\"script\":\"[0X0A][0X1C][0X2C][0X3C]377419[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]PAGO FACTURA MANUAL[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 377419[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:19.177 response time in milliseconds: 395\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: 8f37cde6-4767-45e1-bf9e-e7bdd8cf6959\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM5HHwoAMETKA=\n1 < X-Amzn-Trace-Id: Root=1-65c15585-17ff98e716ae5d9d7eee8880\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: tHkPvrzY09QixjgeECUy71YhNU8aNMpTbrYjfyuMK-GfYm6C-5hdPg==\n{\"status\":[{\"transactionId\":\"00f90988-4b98-417e-b450-481210c5a5ff\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"00f90988-4b98-417e-b450-481210c5a5ff\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1053900,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":1.0539,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:19.179 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACTURA MANUAL\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"07\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":181,"description":"","durationMillis":450.6252,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169158726,"refId":"[1.11:181]","endTime":1707169159179,"exampleData":{"inMode":"07","accountType":"CC","notifiFlag":"true","Type":"1","transaction":"PAGO FACTURA MANUAL","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":10},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5619600,"millis":5.6196,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:18.903 karate.env system property was: dev-corr \n"},{"result":{"nanos":161400,"millis":0.1614,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1075300,"millis":1.0753,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1141700,"millis":1.1417,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":343600,"millis":0.3436,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":141500,"millis":0.1415,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":127700,"millis":0.1277,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":662200,"millis":0.6622,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":521000,"millis":0.521,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":4618700,"millis":4.6187,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":400800,"millis":0.4008,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":245200,"millis":0.2452,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":225400,"millis":0.2254,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":188800,"millis":0.1888,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":103200,"millis":0.1032,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":135900,"millis":0.1359,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":131400,"millis":0.1314,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":159100,"millis":0.1591,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":88700,"millis":0.0887,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":76600,"millis":0.0766,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1000200,"millis":1.0002,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACT. CD BARRAS\""}},{"result":{"nanos":147900,"millis":0.1479,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"02\""}},{"result":{"nanos":88800,"millis":0.0888,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":259800,"millis":0.2598,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":250513100,"millis":250.5131,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:18.960 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2066\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"655210aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"02\",\"receipt\":221622,\"rrn\":221622,\"dateTime\":\"20240205163900\",\"transactionType\":\"PAGO FACT. CD BARRAS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"15116043****9801\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":221622},\"script\":\"[0X0A][0X1C][0X2C][0X3C]221622[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]PAGO FACT. CD BARRAS[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 221622[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:19.173 response time in milliseconds: 213\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: e52ef79c-f837-4ba1-89c1-31d2b29f1e37\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM5F7foAMEeSg=\n1 < X-Amzn-Trace-Id: Root=1-65c15585-24ff58f42cec33c53d84f67a\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: UUS9kPBznw4BmP7dudvgdB6c3NadeS-8yz_oEzrjaPf6KDm5Qj408Q==\n{\"status\":[{\"transactionId\":\"511f148b-48fa-4819-ae22-ad0739f487ce\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"511f148b-48fa-4819-ae22-ad0739f487ce\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":501100,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.5011,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:19.174 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACT. CD BARRAS\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"02\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":182,"description":"","durationMillis":268.9402,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169158900,"refId":"[1.12:182]","endTime":1707169159175,"exampleData":{"inMode":"02","accountType":"CR","notifiFlag":"true","Type":"1","transaction":"PAGO FACT. CD BARRAS","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":11},{"sectionIndex":0,"stepResults":[{"result":{"nanos":2592800,"millis":2.5928,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:18.931 karate.env system property was: dev-corr \n"},{"result":{"nanos":163300,"millis":0.1633,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1010100,"millis":1.0101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1182200,"millis":1.1822,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":357200,"millis":0.3572,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":254400,"millis":0.2544,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":161700,"millis":0.1617,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":1046400,"millis":1.0464,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":754900,"millis":0.7549,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":4678400,"millis":4.6784,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":421200,"millis":0.4212,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":435800,"millis":0.4358,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":222300,"millis":0.2223,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":207200,"millis":0.2072,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":71300,"millis":0.0713,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":89700,"millis":0.0897,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":158900,"millis":0.1589,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":139200,"millis":0.1392,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":79900,"millis":0.0799,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":72600,"millis":0.0726,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":2879300,"millis":2.8793,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACT. TARJ EMPRES\""}},{"result":{"nanos":788800,"millis":0.7888,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"01\""}},{"result":{"nanos":479100,"millis":0.4791,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":216000,"millis":0.216,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":72500,"millis":0.0725,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":280703700,"millis":280.7037,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:18.959 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2066\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"128660aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"01\",\"receipt\":507178,\"rrn\":507178,\"dateTime\":\"20240205163900\",\"transactionType\":\"PAGO FACT. TARJ EMPRES\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"37834885****2510\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":507178},\"script\":\"[0X0A][0X1C][0X2C][0X3C]507178[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]PAGO FACT. TARJ EMPRES[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 507178[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:19.232 response time in milliseconds: 273\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: e4226f00-bda3-4f04-8e5f-41d3bcf7c905\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM5HdkIAMEtyw=\n1 < X-Amzn-Trace-Id: Root=1-65c15585-143ca9e96239170b1338193f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eea31a927983f0bce2a203db674ff998.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: bnc2WMcU5iS26VRMQ6yLS4TFQVIKWw8LczvG2jXdIWHtFIUleeoixQ==\n{\"status\":[{\"transactionId\":\"7d4efbfa-8c0b-4749-a6fc-f880dbe649d4\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"7d4efbfa-8c0b-4749-a6fc-f880dbe649d4\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1737400,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":1.7374,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:19.235 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO FACT. TARJ EMPRES\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"01\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":183,"description":"","durationMillis":301.2205,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169158928,"refId":"[1.13:183]","endTime":1707169159235,"exampleData":{"inMode":"01","accountType":"00","notifiFlag":"true","Type":"1","transaction":"PAGO FACT. TARJ EMPRES","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":12},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33542000,"millis":33.542,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:19.016 karate.env system property was: dev-corr \n"},{"result":{"nanos":185100,"millis":0.1851,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":1072800,"millis":1.0728,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1745400,"millis":1.7454,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":312600,"millis":0.3126,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":184700,"millis":0.1847,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":135700,"millis":0.1357,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":624500,"millis":0.6245,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":486000,"millis":0.486,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":5771000,"millis":5.771,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":400000,"millis":0.4,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":264200,"millis":0.2642,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":176000,"millis":0.176,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":183300,"millis":0.1833,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":1556200,"millis":1.5562,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":152400,"millis":0.1524,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":198800,"millis":0.1988,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":80300,"millis":0.0803,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":94700,"millis":0.0947,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":63400,"millis":0.0634,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":5351200,"millis":5.3512,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO TARJETA DE CRDITO\""}},{"result":{"nanos":1035100,"millis":1.0351,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"03\""}},{"result":{"nanos":489600,"millis":0.4896,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":197000,"millis":0.197,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":396828800,"millis":396.8288,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:19.113 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2069\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"72783aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"03\",\"receipt\":534944,\"rrn\":534944,\"dateTime\":\"20240205163900\",\"transactionType\":\"PAGO TARJETA DE CRDITO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"48977765****4078\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":534944},\"script\":\"[0X0A][0X1C][0X2C][0X3C]534944[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]PAGO TARJETA DE CRDITO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 534944[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:19.475 response time in milliseconds: 361\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: 89b304bc-bb86-4a5f-801c-90700ddeb264\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM8G8ooAMEHnA=\n1 < X-Amzn-Trace-Id: Root=1-65c15585-7675615035fd51894d5dcedc\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 98KJFDG4ONkRHCIyh1992X4lhm_v9aUXElKSXYN5mW8RGkRf1Fc0Sg==\n{\"status\":[{\"transactionId\":\"7309f1ea-d775-4dd7-b164-86b1023a6454\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"7309f1ea-d775-4dd7-b164-86b1023a6454\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":582800,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.5828,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:19.476 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO TARJETA DE CRDITO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"03\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":184,"description":"","durationMillis":451.9916,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169159005,"refId":"[1.14:184]","endTime":1707169159476,"exampleData":{"inMode":"03","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"PAGO TARJETA DE CRDITO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":13},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46625300,"millis":46.6253,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:19.180 karate.env system property was: dev-corr \n"},{"result":{"nanos":172800,"millis":0.1728,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":352500,"millis":0.3525,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":645100,"millis":0.6451,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":651800,"millis":0.6518,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":244200,"millis":0.2442,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":153500,"millis":0.1535,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":737300,"millis":0.7373,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":558300,"millis":0.5583,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":57180300,"millis":57.1803,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":326300,"millis":0.3263,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":213200,"millis":0.2132,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":170800,"millis":0.1708,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":252600,"millis":0.2526,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":70300,"millis":0.0703,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":131800,"millis":0.1318,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":79300,"millis":0.0793,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":67700,"millis":0.0677,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":64500,"millis":0.0645,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":837500,"millis":0.8375,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO CARTERA\""}},{"result":{"nanos":587800,"millis":0.5878,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"80\""}},{"result":{"nanos":429400,"millis":0.4294,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":204700,"millis":0.2047,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":281734000,"millis":281.734,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:19.296 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2045\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"68143aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"80\",\"receipt\":311496,\"rrn\":311496,\"dateTime\":\"20240205163900\",\"transactionType\":\"PAGO CARTERA\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"55394894****3234\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":311496},\"script\":\"[0X0A][0X1C][0X2C][0X3C]311496[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]PAGO CARTERA[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 311496[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:19.574 response time in milliseconds: 278\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: 2ebc9dd8-3068-49a0-b192-c55c37b580ca\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM9HbioAMEJIw=\n1 < X-Amzn-Trace-Id: Root=1-65c15585-4c7267103c904f1c341a0396\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: T4b673jMdjMw9VYqPioYnU8E_BbbsH7lodDYemw44dqm6bj-fhpRcA==\n{\"status\":[{\"transactionId\":\"602e7212-8bc1-437c-bce4-9116502cf228\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"602e7212-8bc1-437c-bce4-9116502cf228\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":417000,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.417,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:19.575 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"PAGO CARTERA\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"80\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":185,"description":"","durationMillis":393.2127,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-1","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169159179,"refId":"[1.15:185]","endTime":1707169159575,"exampleData":{"inMode":"80","accountType":"CC","notifiFlag":"true","Type":"1","transaction":"PAGO CARTERA","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":14},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47724600,"millis":47.7246,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:19.185 karate.env system property was: dev-corr \n"},{"result":{"nanos":124200,"millis":0.1242,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":49495300,"millis":49.4953,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":1058700,"millis":1.0587,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":317300,"millis":0.3173,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":127800,"millis":0.1278,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":112800,"millis":0.1128,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":620000,"millis":0.62,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":562600,"millis":0.5626,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":9090800,"millis":9.0908,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":1334800,"millis":1.3348,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":282000,"millis":0.282,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":143200,"millis":0.1432,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":220200,"millis":0.2202,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":89900,"millis":0.0899,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":212900,"millis":0.2129,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":108600,"millis":0.1086,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":409100,"millis":0.4091,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":178400,"millis":0.1784,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":74500,"millis":0.0745,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":863000,"millis":0.863,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CONSULTA DE SALDO\""}},{"result":{"nanos":585500,"millis":0.5855,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"90\""}},{"result":{"nanos":103600,"millis":0.1036,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":214200,"millis":0.2142,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":241536700,"millis":241.5367,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:19.303 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2056\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"374064aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"90\",\"receipt\":303367,\"rrn\":303367,\"dateTime\":\"20240205163900\",\"transactionType\":\"CONSULTA DE SALDO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"99406723****5752\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":303367},\"script\":\"[0X0A][0X1C][0X2C][0X3C]303367[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]CONSULTA DE SALDO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 303367[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:19.542 response time in milliseconds: 239\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: 1a850f0a-403d-4a4a-9278-e45d78920d1b\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM9GRyIAMEsuA=\n1 < X-Amzn-Trace-Id: Root=1-65c15585-59a0d4de1486e5f84debc83f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: u5WdYUup5Oudu_-dzVEIb9RyfjPcH740VQtD1-zhEeCb3xScmFCItA==\n{\"status\":[{\"transactionId\":\"1c1d8a93-0bae-4258-b1f3-2f63b0008fce\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"1c1d8a93-0bae-4258-b1f3-2f63b0008fce\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":480600,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.4806,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:19.544 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CONSULTA DE SALDO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"90\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":186,"description":"","durationMillis":356.3469,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-4","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169159182,"refId":"[1.16:186]","endTime":1707169159544,"exampleData":{"inMode":"90","accountType":"CR","notifiFlag":"true","Type":"1","transaction":"CONSULTA DE SALDO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":15},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17769200,"millis":17.7692,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:19.282 karate.env system property was: dev-corr \n"},{"result":{"nanos":766200,"millis":0.7662,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":364800,"millis":0.3648,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":543100,"millis":0.5431,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":248300,"millis":0.2483,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":203100,"millis":0.2031,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":669900,"millis":0.6699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":3120700,"millis":3.1207,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":869600,"millis":0.8696,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":16647700,"millis":16.6477,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":752600,"millis":0.7526,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":332300,"millis":0.3323,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":272900,"millis":0.2729,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":200600,"millis":0.2006,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":82900,"millis":0.0829,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":226500,"millis":0.2265,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":82800,"millis":0.0828,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":61000,"millis":0.061,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":977400,"millis":0.9774,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CONSULTAR CUPO\""}},{"result":{"nanos":574900,"millis":0.5749,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"00\""}},{"result":{"nanos":101800,"millis":0.1018,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":132600,"millis":0.1326,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":201188900,"millis":201.1889,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:19.346 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2050\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"990792aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"00\",\"receipt\":305515,\"rrn\":305515,\"dateTime\":\"20240205163900\",\"transactionType\":\"CONSULTAR CUPO\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"46035552****6861\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":305515},\"script\":\"[0X0A][0X1C][0X2C][0X3C]305515[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]CONSULTAR CUPO[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 305515[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:19.533 response time in milliseconds: 186\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:17 GMT\n1 < x-amzn-RequestId: ae03eb3d-7452-4cf2-98b8-63fff48120e3\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM8HbXIAMEJIw=\n1 < X-Amzn-Trace-Id: Root=1-65c15585-5bbb3283190f1cb8308d7b5e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Eogy5TfyA320YIBeDf8nE2JFIY3zf0L5pMIMZKwNNEKyeq1z03Q0jw==\n{\"status\":[{\"transactionId\":\"703fa05e-43b5-4f1b-b7e7-d2fa0a6bf9da\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163917\"}],\"arrayError\":[{\"transactionId\":\"703fa05e-43b5-4f1b-b7e7-d2fa0a6bf9da\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":443000,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":0.443,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:19.534 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CONSULTAR CUPO\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":187,"description":"","durationMillis":247.0106,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-3","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169159243,"refId":"[1.17:187]","endTime":1707169159534,"exampleData":{"inMode":"00","accountType":"00","notifiFlag":"true","Type":"1","transaction":"CONSULTAR CUPO","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":16},{"sectionIndex":0,"stepResults":[{"result":{"nanos":12045600,"millis":12.0456,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def bodyTrx = read('classpath:payloads\/NotiTrx.json')"},"stepLog":"16:39:19.481 karate.env system property was: dev-corr \n"},{"result":{"nanos":163500,"millis":0.1635,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def responseTimeRange = { min: 10, max: 15000 }"}},{"result":{"nanos":325500,"millis":0.3255,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helper.DataGenerator')"}},{"result":{"nanos":544400,"millis":0.5444,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def NumReceipt = dataGenerator.getRandomNumReceipt()"}},{"result":{"nanos":268900,"millis":0.2689,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"set bodyTrx.payload[0].transaction.receipt = NumReceipt"}},{"result":{"nanos":360800,"millis":0.3608,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt"}},{"result":{"nanos":206900,"millis":0.2069,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"set bodyTrx.payload[0].transaction.rrn = NumReceipt"}},{"result":{"nanos":696300,"millis":0.6963,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()"}},{"result":{"nanos":501300,"millis":0.5013,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()"}},{"result":{"nanos":5834100,"millis":5.8341,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def dateTimes = karate.call('classpath:helper\/dateTime.js')"}},{"result":{"nanos":369000,"millis":0.369,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date"}},{"result":{"nanos":198600,"millis":0.1986,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":11,"text":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora"}},{"result":{"nanos":149800,"millis":0.1498,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":12,"text":"set bodyTrx.payload[0].transaction.date = dateTimes.dia"}},{"result":{"nanos":188100,"millis":0.1881,"status":"passed"},"step":{"line":19,"prefix":"*","index":0,"text":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}"}},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"url url"}},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"line":21,"prefix":"And","index":2,"text":"path pathUrl"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header x-api-key = apiKey"}},{"result":{"nanos":76100,"millis":0.0761,"status":"passed"},"step":{"line":23,"prefix":"*","index":4,"text":"def status = '00'"}},{"result":{"nanos":138400,"millis":0.1384,"status":"passed"},"step":{"line":24,"prefix":"And","index":5,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":64500,"millis":0.0645,"status":"passed"},"step":{"line":25,"prefix":"And","index":6,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"line":26,"prefix":"And","index":7,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"line":27,"prefix":"And","index":8,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"line":28,"prefix":"And","index":9,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":287900,"millis":0.2879,"status":"passed"},"step":{"line":29,"prefix":"And","index":10,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":1351200,"millis":1.3512,"status":"passed"},"step":{"line":30,"prefix":"And","index":11,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CAMBIO DE CLAVE\""}},{"result":{"nanos":1463200,"millis":1.4632,"status":"passed"},"step":{"line":31,"prefix":"And","index":12,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":139700,"millis":0.1397,"status":"passed"},"step":{"line":32,"prefix":"And","index":13,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":162700,"millis":0.1627,"status":"passed"},"step":{"line":33,"prefix":"And","index":14,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":34,"prefix":"And","index":15,"text":"request bodyTrx"}},{"result":{"nanos":237764100,"millis":237.7641,"status":"passed"},"step":{"line":35,"prefix":"When","index":16,"text":"method post"},"stepLog":"16:39:19.511 request:\n1 > POST https:\/\/apicorr.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJpSWxIZlwvdXU2U2JwMGVLSXRIRVJBRFFhVURLQit1RDVpcUVMVFhRbW92OD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI2dGJza2M0ZWx1aXFkcHVwc2ptcTRyOThsbCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5MTUxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV9wOVR4ZThJNlUiLCJleHAiOjE3MDcxNzA5NTEsImlhdCI6MTcwNzE2OTE1MSwidmVyc2lvbiI6MiwianRpIjoiMjc1YjlkMTctMzdiOC00OGYxLWI3N2YtYjRlYmJhMmIxYzQ4IiwiY2xpZW50X2lkIjoiNnRic2tjNGVsdWlxZHB1cHNqbXE0cjk4bGwifQ.L0aMHHqJQ3bvUEAZ3A8Y4cX5b9y8bQHIDoCwiU2YF06gVY9GWLELRRJ8zf1KkYE9lLc_sm130KkunH-M3hF3Ba35uyE_ElKfhxxSePVe6YEHBJubAUnkxD5bTOSRI0775kFf7ow8yRrXtZKX8A1mdnYZEKJZveLZI8t933IGb6SEhUyNcTCeD3FEOJI9oaztuvChveB0MQhb1k3xpbRxE7jq2MzCxuRepDgG4vR22g4DNNuTzgG_MCyE2aQdESFEZZAKuI1YVo0jlYRq356NZmZ3LyimlERV6qPf-A6yEQVUO-eTR4R1oIctLkMKyLBvPqhF8X7z7Qq4mID45RhpOw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2052\n1 > Host: apicorr.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"correspondentId\":\"93724375834\",\"terminalId\":\"DGSDYFDYE3\",\"techVersion\":\"V-T35ggT\",\"financialCode\":\"0051\",\"atmId\":\"885624aBcD\",\"originMethod\":\"2\"},\"transaction\":{\"approvalNum\":\"x001A\",\"responseCode\":\"00\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1639\",\"authMode\":\"01\",\"inMode\":\"05\",\"receipt\":379644,\"rrn\":379644,\"dateTime\":\"20240205163900\",\"transactionType\":\"CAMBIO DE CLAVE\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"50956301****3760\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"0\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":379644},\"script\":\"[0X0A][0X1C][0X2C][0X3C]379644[0X0A][0X1C][0X2A][0X3A]0051[0X0A][0X1C][0X2A][0X3A]Status=00[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]CAMBIO DE CLAVE[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ 379644[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D560C(12)3E(6)28(6)1A01(4)56(7)10001(10)180C(36){6}(40)FC(70)7E(70)7E(70)3F(70)1F8(70)FC(70)7E(70)3F(70)3F(70)1F8(70)FC(70)FC(70)7E(70)3F(70)3F(70)1F8(70)7C(70)7C(70)3E(70)1F(70)1F(71)F8(70)F8(70)7C(70)3E(70)3E(70)1F(48)4(22)F8(47)7(22)F8(47)78(21)7C(47)7E(21)7C(47)7F(21)3E(47)3FC(20)3E(47)1FF(20)1F(48)FFC(19)1F(48)7FF(20)F8(47)1FFC(19)F8(48)3FF(19)7C(49)FFC(18)7C(49)3FF(18)3E(50)FFE(17)3E(50)3FFC(16)1F(51)FFF(16)1F(51)3FFE(16)F8(51)FFFC(15)F8(51)1FFF8(14)7C(52)3FFF(14)7C(53)FFFE(13)3E(53)1FFFE(12)3E(54)3{4}8(10)1F(55)7{4}C(9)1F(56){5}8(9)F8(55)1{4}E(9)F8(56)1{4}C(8)7C(58)7FFF8(7)7C(59)3FFF(7)7C(60)7FFF(6)3E(60)1FFFE(5)3E(61)3FFF8(4)1F(62)7FFE(4)1F(63)FFF80001F(64)FFF(4)F8(63)1FFC000F8(64)7FF000F8(64)1FFE00F8(65)7FFC07C(66)FFF87C(66)3FFF7C(67){4}C(67)1FFFC(68)3FF8(69)7E(71)E(968)\"},\"notification\":{\"notificationFlag\":\"true\",\"cellphone\":\"317792\",\"notificationType\":\"1\"}}]}\n\n16:39:19.745 response time in milliseconds: 234\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 320\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:39:18 GMT\n1 < x-amzn-RequestId: 1f92465b-d6fb-4b61-a097-a9de54c51dda\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: SrpM_GUQIAMES9w=\n1 < X-Amzn-Trace-Id: Root=1-65c15586-6769e8585b44ec06205962fc\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 58Lr9mq_9CJyuCvmEFo9OFjY8uzF122i8BLqoc6V9pFxP8XG2pMPzQ==\n{\"status\":[{\"transactionId\":\"e2a06c23-54f7-46a2-8707-a01e2787658b\",\"statusCode\":\"02\",\"statusDescription\":\"NOT PROCESSED\",\"dateTime\":\"20240205163918\"}],\"arrayError\":[{\"transactionId\":\"e2a06c23-54f7-46a2-8707-a01e2787658b\",\"errorCode\":\"B400-002\",\"errorDescription\":\"Bad Request - validating swagger file and parsing it\"}]}\n\n"},{"result":{"nanos":11000,"millis":0.011,"status":"passed"},"step":{"line":36,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":1056200,"errorMessage":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","millis":1.0562,"status":"failed"},"step":{"line":37,"prefix":"And","index":18,"text":"match response.status[0].statusDescription == 'PROCESSED'"},"stepLog":"16:39:19.747 classpath:CORR\/aprobadaOk85.feature:37\nAnd match response.status[0].statusDescription == 'PROCESSED'\nmatch failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":19,"text":"match response.resultObject[0].transaction.status == '00'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":20,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":21,"text":"eval sleep(700)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Given","index":22,"text":"url url"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":23,"text":"path pathUrl"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":24,"text":"header x-api-key = apiKey"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"*","index":25,"text":"def status = '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":26,"text":"request bodyTrx.payload[0].commerce.correspondentId = \"93724375834\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"And","index":27,"text":"request bodyTrx.payload[0].commerce.terminalId = \"DGSDYFDYE3\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":28,"text":"request bodyTrx.payload[0].transaction.status = status"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":29,"text":"request bodyTrx.payload[0].commerce.financialCode = \"0051\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":30,"text":"request bodyTrx.payload[0].notification.notificationFlag = \"true\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":31,"text":"request bodyTrx.payload[0].notification.notificationType = \"1\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":32,"text":"request bodyTrx.payload[0].transaction.transactionType = \"CAMBIO DE CLAVE\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":33,"text":"request bodyTrx.payload[0].transaction.inMode = \"05\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":34,"text":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":35,"text":"request bodyTrx.payload[0].script = \"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":36,"text":"request bodyTrx"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":37,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":38,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":39,"text":"match response.status[0].statusDescription == 'PROCESSED'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":40,"text":"match response.resultObject[0].transaction.status == '85'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":41,"text":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max"}}],"line":188,"description":"","durationMillis":264.7303,"failed":true,"error":"match failed: EQUALS\n  $ | not equal (STRING:STRING)\n  'NOT PROCESSED'\n  'PROCESSED'\n\nclasspath:CORR\/aprobadaOk85.feature:37","executorName":"pool-1-thread-2","name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","startTime":1707169159480,"refId":"[1.18:188]","endTime":1707169159747,"exampleData":{"inMode":"05","accountType":"AH","notifiFlag":"true","Type":"1","transaction":"CAMBIO DE CLAVE","financialCode":"0051","script":"\"[0X0A][0X1C][0X2C][0X3C]\" +NumReceipt+ \"[0X0A][0X1C][0X2A][0X3A]\"+financialCode+\"[0X0A][0X1C][0X2A][0X3A]Status=\"+status+\"[0X0A][0X1C][0X2A][0X3A]CRA. 48 - 26-85[0X0A][0X1A][0X2A][0X3A]C.UNICO: 3007013108 [0X1B]TER: NETCOM02[0X0A][0X1A][0X2A][0X1C]RECIBO: 000024[0X1B] RRN: 828446[0X0A][0X1A][0X2A][0X3A]Producto: 1234567890[0X0A][0X1A][0X3C]\"+transaction+\"[0X1B]APRO: HOME76[0X0A][0X1A][0X3C]VALOR      [0X1B][0X2A]    $ \"+NumReceipt+\"[0X0A][0X1C][0X2A][0X3A]TU CORRESPONSAL BANCARIO NO DEBE[0X0A][0X1C]COBRARTE POR HACER ESTA TRANSACCION\""},"exampleIndex":17}],"callDepth":0,"name":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","description":"","resultDate":"2024-02-05 04:39:25 p.m.","durationMillis":6883.9921,"passedCount":0}