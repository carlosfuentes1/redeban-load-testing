[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1947400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:49:58.187 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":115400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":195800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":289900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":140300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":57400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":59700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":108600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":341700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":356700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":81200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":67600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3363400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":635100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":265600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":122900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":56,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":165900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":82600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":39800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":428400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":169800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":123800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":306302000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:49:58.200 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"111149aBcD\"},\"transaction\":{\"approvalNum\":171999,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1649\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":171999,\"rrn\":171999,\"dateTime\":\"20240205164900\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"32782772****3995\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":171999,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":171999},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:49:58.504 response time in milliseconds: 304\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 763\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:49:56 GMT\n1 < x-amzn-RequestId: ae19bf8c-88f0-414e-beae-9bda3b2735b1\n1 < x-amz-apigw-id: SrqwyE-YIAMEcVg=\n1 < X-Amzn-Trace-Id: Root=1-65c15804-1b20d58402b6ec8915ee518f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: s6gWbuKD2n15x_hwE8aBWAV3Ux8my7sYSZGIt73wyntNIHgv5MWLgw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"111149aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV517199917199920240205164900\",\"approvalNum\":\"171999\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:49:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"171999\",\"rrn\":\"171999\",\"dateTime\":\"2024-02-05T16:49:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"32782772****3995\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"171999\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"171999\"}}],\"status\":[{\"transactionId\":\"YTEUSCV517199917199920240205164900\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164956\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":251000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":107000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710621300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":72700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":244700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":32700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":223700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":134600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":97600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":92400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"AMEX\"","result":{"duration":85600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":82000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":20200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":417286800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:49:59.218 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2799\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"111149aBcD\"},\"transaction\":{\"approvalNum\":171999,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1649\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":171999,\"rrn\":171999,\"dateTime\":\"20240205164900\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"32782772****3995\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":171999,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":171999},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:49:59.634 response time in milliseconds: 416\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 763\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:49:57 GMT\n2 < x-amzn-RequestId: d3864f99-c27d-4a44-a8b0-eb3d1d9dab84\n2 < x-amz-apigw-id: Srqw9FzAoAMEZUA=\n2 < X-Amzn-Trace-Id: Root=1-65c15805-627ac24c5729008b25cbaaca\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 2fe3b10bc3da6ef618e3ab1598c2020c.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: sdOMzJmJ7TLWlT7ZAIOnyXMM_ew6EL1r1nDF7Wbah8-qNC3aW7X3OQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"111149aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV517199917199920240205164985\",\"approvalNum\":\"171999\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:49:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"171999\",\"rrn\":\"171999\",\"dateTime\":\"2024-02-05T16:49:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"AMEX\",\"millerNum\":\"54848948948\",\"card\":\"32782772****3995\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"171999\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"171999\"}}],\"status\":[{\"transactionId\":\"YTEUSCV517199917199920240205164985\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164957\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":544700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":263700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":242800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1952300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:49:58.762 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":73400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":172000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":338500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":159700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":4238600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":795200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":90700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5105000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":304600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":181500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":141700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":57,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":233300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":193200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":156200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":114800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":104400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\"","result":{"duration":80900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":95800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":15400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":329367000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:49:58.779 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"486146aBcD\"},\"transaction\":{\"approvalNum\":934533,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1649\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":934533,\"rrn\":934533,\"dateTime\":\"20240205164900\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"43142765****9325\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":934533,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":934533},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:49:59.107 response time in milliseconds: 328\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:49:57 GMT\n1 < x-amzn-RequestId: 64180d2a-2ce1-42d4-b892-4f0612382764\n1 < x-amz-apigw-id: Srqw4F9fIAMETXA=\n1 < X-Amzn-Trace-Id: Root=1-65c15805-24bcd2420389e0e96d52f1a2\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: zX91hWVML1cQMc-YD2WspAvCymP0fQmlM2Vob3nwP0zrf13a5VMgZA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"486146aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV593453393453320240205164900\",\"approvalNum\":\"934533\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:49:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"934533\",\"rrn\":\"934533\",\"dateTime\":\"2024-02-05T16:49:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"43142765****9325\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"934533\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"934533\"}}],\"status\":[{\"transactionId\":\"YTEUSCV593453393453320240205164900\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164957\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":493400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":322500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":245100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710144900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":342400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":418100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":189600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":513700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":213400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":171000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":187400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BCO_SUP\"","result":{"duration":166100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":179700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":481847700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:49:59.823 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"486146aBcD\"},\"transaction\":{\"approvalNum\":934533,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1649\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":934533,\"rrn\":934533,\"dateTime\":\"20240205164900\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"43142765****9325\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":934533,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":934533},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:00.303 response time in milliseconds: 480\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:49:58 GMT\n2 < x-amzn-RequestId: 15b2214e-731b-4f7a-b306-91ad37475db7\n2 < x-amz-apigw-id: SrqxEG1WIAMEiUQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15806-369fa8b9201c4d8b7c727b59\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: PcMPIQ2jqlZRPc7RTyPs1MuPwrVLM21B8oVTeFCFut2r8DbRqXc9fA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"486146aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV593453393453320240205164985\",\"approvalNum\":\"934533\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:49:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"934533\",\"rrn\":\"934533\",\"dateTime\":\"2024-02-05T16:49:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"BCO_SUP\",\"millerNum\":\"54848948948\",\"card\":\"43142765****9325\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"934533\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"934533\"}}],\"status\":[{\"transactionId\":\"YTEUSCV593453393453320240205164985\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164958\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":414100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":161100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":199800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2310300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:49:59.006 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":92900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":346000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":532400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":179900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":110300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":58400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":91500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":383900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":482800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":57200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4744100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":326700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":179200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":136000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":58,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":181600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":53900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":143900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":86100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":83000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":76900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\"","result":{"duration":88100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":81000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":222981400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:49:59.020 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2815\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"398277aBcD\"},\"transaction\":{\"approvalNum\":351058,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1649\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":351058,\"rrn\":351058,\"dateTime\":\"20240205164900\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"43221523****6834\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":351058,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":351058},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:49:59.241 response time in milliseconds: 220\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 779\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:49:57 GMT\n1 < x-amzn-RequestId: 2a0b0d10-046e-44aa-b372-07199e2a10cf\n1 < x-amz-apigw-id: Srqw5HmfIAMESGQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15805-209f68ca36081a736c113d0c\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 d413fb750cb8c5d3a6bce4d80dedeb9a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: FEfPJCjsF5Y1wDXpJtCE4YswYr3WHRqsiIwmrEre0sD3kKZUWHKl0A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"398277aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV535105835105820240205164900\",\"approvalNum\":\"351058\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:49:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"351058\",\"rrn\":\"351058\",\"dateTime\":\"2024-02-05T16:49:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"43221523****6834\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"351058\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"351058\"}}],\"status\":[{\"transactionId\":\"YTEUSCV535105835105820240205164900\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164957\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":268100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":287800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":97600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":750745000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":105200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":679400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":74100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":363100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":178900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":179700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":179900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERSCLUB\"","result":{"duration":164800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":129500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":354064600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:49:59.997 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2815\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"398277aBcD\"},\"transaction\":{\"approvalNum\":351058,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1649\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":351058,\"rrn\":351058,\"dateTime\":\"20240205164900\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"43221523****6834\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":351058,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":351058},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:00.349 response time in milliseconds: 352\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 779\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:49:58 GMT\n2 < x-amzn-RequestId: 9957a556-c9eb-4908-9eb9-f90e48b9efc2\n2 < x-amz-apigw-id: SrqxEEkaoAMEg3A=\n2 < X-Amzn-Trace-Id: Root=1-65c15806-14dbd91f4d583b2313c9b851\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 029192accfd6bfc8c2572988b78b92e6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: uptiF7tvhJ2MvU9ivJ3asc7wykHfm35xNj9MQ4A8Hm3d_-twPygaFw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"398277aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV535105835105820240205164985\",\"approvalNum\":\"351058\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:49:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"351058\",\"rrn\":\"351058\",\"dateTime\":\"2024-02-05T16:49:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"DINERSCLUB\",\"millerNum\":\"54848948948\",\"card\":\"43221523****6834\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"351058\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"351058\"}}],\"status\":[{\"transactionId\":\"YTEUSCV535105835105820240205164985\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164958\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":285000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":2544500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":235800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2195800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:49:59.052 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":69900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":245100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":787500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":296500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":83600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":67500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":539100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":784200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":76700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":10818100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":482800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":176400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":136200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":59,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":252700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":79600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":37700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":184700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":126300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\"","result":{"duration":111700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":108000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":205451100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:49:59.075 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"403697aBcD\"},\"transaction\":{\"approvalNum\":311589,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1649\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":311589,\"rrn\":311589,\"dateTime\":\"20240205164900\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"86863687****9208\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":311589,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":311589},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:49:59.278 response time in milliseconds: 203\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:49:57 GMT\n1 < x-amzn-RequestId: 362f1e1a-3f1b-43e3-82b4-43d4353d073a\n1 < x-amz-apigw-id: Srqw6H47IAMEuOg=\n1 < X-Amzn-Trace-Id: Root=1-65c15805-51925ea06af550be3518f416\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: sSmNCx5Ctfb7e51RHIA0pt7t82aeW1sizVkPQF2Y61hqcSLKhWrRcQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"403697aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV531158931158920240205164900\",\"approvalNum\":\"311589\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:49:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"311589\",\"rrn\":\"311589\",\"dateTime\":\"2024-02-05T16:49:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"86863687****9208\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"311589\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"311589\"}}],\"status\":[{\"transactionId\":\"YTEUSCV531158931158920240205164900\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164957\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":275600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":332800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":68400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":721298700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":75600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":272200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":41900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":291400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":305800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":186600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":183400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MAESTRO\"","result":{"duration":125800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":133700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":309023900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:00.004 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2808\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"403697aBcD\"},\"transaction\":{\"approvalNum\":311589,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1649\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":311589,\"rrn\":311589,\"dateTime\":\"20240205164900\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"86863687****9208\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":311589,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":311589},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:00.312 response time in milliseconds: 308\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 772\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:49:58 GMT\n2 < x-amzn-RequestId: 9cb6c995-9b44-4269-b4e5-6ec432bb98d7\n2 < x-amz-apigw-id: SrqxEFhpoAMEs4w=\n2 < X-Amzn-Trace-Id: Root=1-65c15806-56a0c778468580462fcfebb0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: Fj62tPT4-AgaaBqgY5WWz1KO4U1nZ8jj3JkGOBRp510dPXazs2dz8Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"403697aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV531158931158920240205164985\",\"approvalNum\":\"311589\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:49:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"311589\",\"rrn\":\"311589\",\"dateTime\":\"2024-02-05T16:49:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"MAESTRO\",\"millerNum\":\"54848948948\",\"card\":\"86863687****9208\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"311589\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"311589\"}}],\"status\":[{\"transactionId\":\"YTEUSCV531158931158920240205164985\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164958\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":394400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":268500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":226000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":381796000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:49:59.639 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":147200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":581200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":644700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":281700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":81600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":58700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":588200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":627900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":81600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":91900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6229200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":962000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":370100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":228400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":60,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":304300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":33600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":93000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":225000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":138000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":126700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":123300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\"","result":{"duration":97800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":118800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":200248500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:00.036 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"98469aBcD\"},\"transaction\":{\"approvalNum\":629226,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":629226,\"rrn\":629226,\"dateTime\":\"20240205165000\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"62878732****3766\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":629226,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":629226},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:00.234 response time in milliseconds: 198\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:49:58 GMT\n1 < x-amzn-RequestId: f5abc05f-c69d-4c1c-9179-825bb14ef3ac\n1 < x-amz-apigw-id: SrqxDF7hIAMEuiQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15806-6a986f19565fb9ee1a8ad330\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: CsbC5PR-60m4Lh4O3-3Kq_0ZJjWVgIHygqihe5GTrALe_YBqkJacvg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"98469aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV562922662922620240205165000\",\"approvalNum\":\"629226\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"629226\",\"rrn\":\"629226\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"62878732****3766\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"629226\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"629226\"}}],\"status\":[{\"transactionId\":\"YTEUSCV562922662922620240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164958\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":335000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":216000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":168300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":701494700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":68600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":363700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":55700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":271800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":160200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":131700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":148700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENCIAL\"","result":{"duration":136500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":113200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":23800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":284798900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:00.941 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"98469aBcD\"},\"transaction\":{\"approvalNum\":629226,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":629226,\"rrn\":629226,\"dateTime\":\"20240205165000\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"62878732****3766\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":629226,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":629226},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:01.224 response time in milliseconds: 283\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:49:59 GMT\n2 < x-amzn-RequestId: 261da3ba-1c86-4b2b-b09d-ac50b02c4191\n2 < x-amz-apigw-id: SrqxNFsaIAMEhqQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15807-06381c001eb758f93f48fca3\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: JPzsBEBz9-8ROJmzFutMg4woCAo2eTps8Ig9Mga4mwJh1WNfecknWw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"98469aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV562922662922620240205165085\",\"approvalNum\":\"629226\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"629226\",\"rrn\":\"629226\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"CREDENCIAL\",\"millerNum\":\"54848948948\",\"card\":\"62878732****3766\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"629226\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"629226\"}}],\"status\":[{\"transactionId\":\"YTEUSCV562922662922620240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164959\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":12100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":412800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":159400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":194500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":38531300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:00.308 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":108600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":570300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":656400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":187200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":74000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":62700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":68700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":445700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":504200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":166700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":80700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":10670000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":536200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":238800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":165900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":61,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":248300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":66400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":176300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":103100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":88300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":86300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\"","result":{"duration":88700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":110000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":449998500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:00.365 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"441963aBcD\"},\"transaction\":{\"approvalNum\":926919,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":926919,\"rrn\":926919,\"dateTime\":\"20240205165000\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"61472632****8636\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":926919,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":926919},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:00.813 response time in milliseconds: 448\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:49:59 GMT\n1 < x-amzn-RequestId: 653e2b4c-12e6-4299-bfee-6fecc9d3718c\n1 < x-amz-apigw-id: SrqxJGHcIAMEEYQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15807-1621137b357f8f6e21fb5162\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: vYruZBzfTdAj_xl1OwXt105_hZRaGZe_-tYwJNlYqwMA7NZut58RNw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"441963aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV592691992691920240205165000\",\"approvalNum\":\"926919\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"926919\",\"rrn\":\"926919\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"61472632****8636\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"926919\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"926919\"}}],\"status\":[{\"transactionId\":\"YTEUSCV592691992691920240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164959\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":415900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":230300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":178900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":712260400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":91500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":276500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":296300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":154700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":125400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":102700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERCARD\"","result":{"duration":97300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":101700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":27000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":303802600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:01.531 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2811\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"441963aBcD\"},\"transaction\":{\"approvalNum\":926919,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":926919,\"rrn\":926919,\"dateTime\":\"20240205165000\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"61472632****8636\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":926919,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":926919},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:01.833 response time in milliseconds: 302\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 775\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:00 GMT\n2 < x-amzn-RequestId: 2bed3c2d-0e02-43a7-b531-ceb27b851ec6\n2 < x-amz-apigw-id: SrqxTE04oAMEb1g=\n2 < X-Amzn-Trace-Id: Root=1-65c15808-5b7dc2f87115386c7729e506\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 3PLjYrrwqfsMkqZnTMiwuYdV9lZ9QZTK9WccLQxxRN4LJoJepDRg_A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"441963aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV592691992691920240205165085\",\"approvalNum\":\"926919\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"926919\",\"rrn\":\"926919\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"MASTERCARD\",\"millerNum\":\"54848948948\",\"card\":\"61472632****8636\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"926919\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"926919\"}}],\"status\":[{\"transactionId\":\"YTEUSCV592691992691920240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165000\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":368300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":160400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":177500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":32466000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:00.327 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":96000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":475200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":914000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":4028000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":161500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":78900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":77300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":40306000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":5461800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":601900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":147900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":20769600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":471100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":248900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":181100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":62,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":351300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":38300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":79300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":181800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":116700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":92700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":95900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\"","result":{"duration":83500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":81300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":550036700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:00.443 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2817\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"330410aBcD\"},\"transaction\":{\"approvalNum\":363645,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":363645,\"rrn\":363645,\"dateTime\":\"20240205165000\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"31721208****6617\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":363645,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":363645},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:00.991 response time in milliseconds: 548\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 781\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:49:59 GMT\n1 < x-amzn-RequestId: e8cf434a-a6da-4a2e-a9e6-0eb69bf7dd39\n1 < x-amz-apigw-id: SrqxLEzfIAMES7Q=\n1 < X-Amzn-Trace-Id: Root=1-65c15807-2e6162014d4b7c76378bd2c1\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: jnXgaE2AYu7IRrrnT3jF-kwblaZi306AquDHJEO-pzBDepNGqiYKXA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"330410aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV536364536364520240205165000\",\"approvalNum\":\"363645\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"363645\",\"rrn\":\"363645\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"31721208****6617\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"363645\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"363645\"}}],\"status\":[{\"transactionId\":\"YTEUSCV536364536364520240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164959\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":580700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":486600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":773200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":717141500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":90500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":312600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":971500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":208400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":132700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":205500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA DEBIT\"","result":{"duration":213400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":153500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":346292000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:01.715 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2817\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"330410aBcD\"},\"transaction\":{\"approvalNum\":363645,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":363645,\"rrn\":363645,\"dateTime\":\"20240205165000\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"31721208****6617\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":363645,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":363645},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:02.060 response time in milliseconds: 341\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 781\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:00 GMT\n2 < x-amzn-RequestId: 4a148b7a-6079-48f5-8a4c-81b7e7eec86d\n2 < x-amz-apigw-id: SrqxVHFOIAMEIOA=\n2 < X-Amzn-Trace-Id: Root=1-65c15808-4479e0963ea173863e5db0fa\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: vFSLSZ6TpNo1AzFWzderFV0ggqOdwM1TAQ7R79ExQ4v6c-NlejCB-w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"330410aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV536364536364520240205165085\",\"approvalNum\":\"363645\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"363645\",\"rrn\":\"363645\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"VISA DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"31721208****6617\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"363645\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"363645\"}}],\"status\":[{\"transactionId\":\"YTEUSCV536364536364520240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165000\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":405800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":178200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":199100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":14262600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:00.368 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":155600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":470700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":556900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":187000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":74600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":73300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":64400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":418600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":547900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":71600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":64300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":10997300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":458000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":178900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":139700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":63,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":235400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":205800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":1993300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":113700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":440800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":161500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":108400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":119800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\"","result":{"duration":110000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":100300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":404036600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:00.413 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2803\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"810400aBcD\"},\"transaction\":{\"approvalNum\":390266,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":390266,\"rrn\":390266,\"dateTime\":\"20240205165000\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"30098735****1609\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":390266,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":390266},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:00.813 response time in milliseconds: 400\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 767\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:49:59 GMT\n1 < x-amzn-RequestId: 2fe08925-33ae-4f9b-ba0b-af71e75e77a1\n1 < x-amz-apigw-id: SrqxJFyMoAMEv3Q=\n1 < X-Amzn-Trace-Id: Root=1-65c15807-38eeae324513e35201a7bd82\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 029192accfd6bfc8c2572988b78b92e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 2B0tOWtVxqFc4SiY2QTVhFhRhx5dKxPpkvZok81zBDdvXD-KCmQgMA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"810400aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV539026639026620240205165000\",\"approvalNum\":\"390266\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"390266\",\"rrn\":\"390266\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"30098735****1609\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"390266\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"390266\"}}],\"status\":[{\"transactionId\":\"YTEUSCV539026639026620240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164959\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":8000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":404000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":197000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":350200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":747955000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":85100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":607800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":92100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":15724200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":483000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":208800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":538500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"V.ELECTRON\"","result":{"duration":181000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":429600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":40100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":239753900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:01.586 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2803\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"810400aBcD\"},\"transaction\":{\"approvalNum\":390266,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":390266,\"rrn\":390266,\"dateTime\":\"20240205165000\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"30098735****1609\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":390266,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":390266},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:01.822 response time in milliseconds: 236\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 767\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:00 GMT\n2 < x-amzn-RequestId: fa8db508-f6e1-4c1d-a85a-81c4f004b3a3\n2 < x-amz-apigw-id: SrqxTEL3oAMEHfQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15808-045220c47851baf4184222fe\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 2T3V5-bmB6fQOpDH43OsQnbfZa85rq7Ak8ioD6jNyR2ePl2gpB8vIg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"810400aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV539026639026620240205165085\",\"approvalNum\":\"390266\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"390266\",\"rrn\":\"390266\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"V.ELECTRON\",\"millerNum\":\"54848948948\",\"card\":\"30098735****1609\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"390266\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"390266\"}}],\"status\":[{\"transactionId\":\"YTEUSCV539026639026620240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165000\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":375200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":170700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":201800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":5523400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:01.230 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":135400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":421500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":605000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":205900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":111800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":82800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":74800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":471300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":593000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":82000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":72700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5963500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":471200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":208800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":188200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":64,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":232100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":29900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":66700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":181700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":130300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":104700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":96100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\"","result":{"duration":257400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":208900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":234320500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:01.250 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2815\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"634843aBcD\"},\"transaction\":{\"approvalNum\":464547,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":464547,\"rrn\":464547,\"dateTime\":\"20240205165000\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"62664322****1593\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":464547,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":464547},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:01.482 response time in milliseconds: 232\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 779\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:49:59 GMT\n1 < x-amzn-RequestId: 2bb78231-17df-4bbc-984d-4c859b683241\n1 < x-amz-apigw-id: SrqxQHrUIAMEXcw=\n1 < X-Amzn-Trace-Id: Root=1-65c15807-541126eb5924534368c853cd\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: m3OTUts8Zd4vs-OKdYmGZOzRsoUPe0LYKWOa85oZPwGdZUwrxruAoA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"634843aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV546454746454720240205165000\",\"approvalNum\":\"464547\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"464547\",\"rrn\":\"464547\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"62664322****1593\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"464547\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"464547\"}}],\"status\":[{\"transactionId\":\"YTEUSCV546454746454720240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205164959\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":460300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":194400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":232200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":709295600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":81500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":388500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":294100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":162200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":138800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":115600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITO P\"","result":{"duration":104000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":108300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":184384000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:02.197 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2815\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"634843aBcD\"},\"transaction\":{\"approvalNum\":464547,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":464547,\"rrn\":464547,\"dateTime\":\"20240205165000\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"62664322****1593\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":464547,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":464547},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:02.379 response time in milliseconds: 182\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 779\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:00 GMT\n2 < x-amzn-RequestId: f20da9cc-d968-4061-a249-65b7d00a9c24\n2 < x-amz-apigw-id: SrqxZFnroAMEaMg=\n2 < X-Amzn-Trace-Id: Root=1-65c15808-792a1dab70fc02620b9767f3\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: tQMN8L-dNdm2I_a6Mceusc5ZvWpiOdGFcmRbj2IndNOd-PPwkqKDAw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"634843aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV546454746454720240205165085\",\"approvalNum\":\"464547\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"464547\",\"rrn\":\"464547\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"CREDITO P\",\"millerNum\":\"54848948948\",\"card\":\"62664322****1593\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"464547\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"464547\"}}],\"status\":[{\"transactionId\":\"YTEUSCV546454746454720240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165000\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":433300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":221400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":239500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":6319500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:01.828 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":131900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":12957900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":12529400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":223000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":79200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":65300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":523300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":21145400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":648900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":372100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7405500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":2237600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":517800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":229500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":65,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":306900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":33300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":108700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":199900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":117700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":100200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":91900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\"","result":{"duration":140500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":135600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":286472600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:01.909 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"137485aBcD\"},\"transaction\":{\"approvalNum\":933862,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":933862,\"rrn\":933862,\"dateTime\":\"20240205165000\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"63872784****5499\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":933862,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":933862},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:02.184 response time in milliseconds: 275\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:00 GMT\n1 < x-amzn-RequestId: dc55917e-1bc8-4231-a521-54305993ecba\n1 < x-amz-apigw-id: SrqxXHyEoAMEdfQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15808-0e6b0a4b4bc13bc82ef36fdc\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: qUzOPR08viuiT5j3gqq57WOBvzjmecCDhE6soONkJHI17R-LjGh2yw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"137485aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV593386293386220240205165000\",\"approvalNum\":\"933862\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"933862\",\"rrn\":\"933862\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"63872784****5499\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"933862\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"933862\"}}],\"status\":[{\"transactionId\":\"YTEUSCV593386293386220240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165000\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":486000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":286900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":295200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":705556700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":95900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":339400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":39700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":265300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":132600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":119300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":80500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. ALKOSTO\"","result":{"duration":79200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":93300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":211475700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:02.895 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2808\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"137485aBcD\"},\"transaction\":{\"approvalNum\":933862,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":933862,\"rrn\":933862,\"dateTime\":\"20240205165000\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"63872784****5499\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":933862,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":933862},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:03.104 response time in milliseconds: 209\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 772\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:01 GMT\n2 < x-amzn-RequestId: 3be987d1-759e-4665-8a38-63133737dd10\n2 < x-amz-apigw-id: SrqxgH0kIAMEpDQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15809-34270d5754c5e1157fc37135\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 aeb457e87760dc433cf50cdb15399112.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: VurET-MEgCADhwwhcFnhlhaSO5oREzWt8fbiwXMSWvssAamilZy8_Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"137485aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV593386293386220240205165085\",\"approvalNum\":\"933862\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"933862\",\"rrn\":\"933862\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"T. ALKOSTO\",\"millerNum\":\"54848948948\",\"card\":\"63872784****5499\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"933862\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"933862\"}}],\"status\":[{\"transactionId\":\"YTEUSCV593386293386220240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165001\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":427600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":148700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":176000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3429600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:01.838 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":95900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":412500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":559200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":189500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":76500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":62800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":65300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":556100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":573700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":74300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":66600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5460600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":3114700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":395200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":176700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":66,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":257700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":65400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":171000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":100000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":85000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":80700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\"","result":{"duration":77300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":75900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":520118200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:01.857 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"601258aBcD\"},\"transaction\":{\"approvalNum\":370375,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":370375,\"rrn\":370375,\"dateTime\":\"20240205165000\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"42757874****2513\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":370375,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":370375},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:02.375 response time in milliseconds: 518\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:00 GMT\n1 < x-amzn-RequestId: 5becb655-71f8-4f67-a554-b7b0eb2acc18\n1 < x-amz-apigw-id: SrqxZHn2IAMEb8A=\n1 < X-Amzn-Trace-Id: Root=1-65c15808-6418b93c391dc1b54974ce70\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: sszx5JsLjHCDJLNsMyy6gieoeSaBVN2PrYPL24FWd8wv7GeIVy5VBg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"601258aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV537037537037520240205165000\",\"approvalNum\":\"370375\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"370375\",\"rrn\":\"370375\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"42757874****2513\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"370375\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"370375\"}}],\"status\":[{\"transactionId\":\"YTEUSCV537037537037520240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165000\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":492200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":584400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":218900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":701619300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":64400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":180500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":167700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":75600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":192300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TUYA\"","result":{"duration":70300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":215248400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:03.081 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2802\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"601258aBcD\"},\"transaction\":{\"approvalNum\":370375,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":370375,\"rrn\":370375,\"dateTime\":\"20240205165000\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"42757874****2513\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":370375,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":370375},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:03.294 response time in milliseconds: 213\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:01 GMT\n2 < x-amzn-RequestId: 87d0d860-d663-40c3-8e90-2301e0b7b8cf\n2 < x-amz-apigw-id: SrqxiG3JIAMEpFQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15809-5e0f1c1b36adccc2556284bb\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 064907318388ddb71d9d0db586a17f3a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: veFfPtiV7GGMC_uzvsIyGEmpLpOe4joTZOPDWSOcl6qVenfbb0C9Eg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"601258aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV537037537037520240205165085\",\"approvalNum\":\"370375\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"370375\",\"rrn\":\"370375\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"TUYA\",\"millerNum\":\"54848948948\",\"card\":\"42757874****2513\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"370375\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"370375\"}}],\"status\":[{\"transactionId\":\"YTEUSCV537037537037520240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165001\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":14100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":515800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":249700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":285300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4307300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:02.065 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":536000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":934000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":589700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":234800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":75200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":69900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":78800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":708700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":575300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":74000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":68300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":20478900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":563900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":279600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":217200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":67,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":307400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":46600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":115800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":109200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":232600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":140500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":111100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":101100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\"","result":{"duration":92600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":128700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":370609800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:02.106 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"668081aBcD\"},\"transaction\":{\"approvalNum\":482125,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":482125,\"rrn\":482125,\"dateTime\":\"20240205165000\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"71308145****7684\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":482125,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":482125},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:02.469 response time in milliseconds: 363\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:00 GMT\n1 < x-amzn-RequestId: b6f1e701-2b77-4995-adaa-7afda558a73d\n1 < x-amz-apigw-id: SrqxaF0DIAMEJXw=\n1 < X-Amzn-Trace-Id: Root=1-65c15808-13f1017d45f128b862ab6087\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: LzZp6Su4LZxm9iIqDHWX9_V6SOvmvQ3tNvOx7Bkr1RELKr2bsJHRZg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"668081aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV548212548212520240205165000\",\"approvalNum\":\"482125\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"482125\",\"rrn\":\"482125\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"71308145****7684\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"482125\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"482125\"}}],\"status\":[{\"transactionId\":\"YTEUSCV548212548212520240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165000\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":843400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":508700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":323500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":713334700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":172000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":515300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":40900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":275100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":163500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":136700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":196500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADACR\"","result":{"duration":180800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":148200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":73200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":233574100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:03.187 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2808\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"668081aBcD\"},\"transaction\":{\"approvalNum\":482125,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":482125,\"rrn\":482125,\"dateTime\":\"20240205165000\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"71308145****7684\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":482125,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":482125},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:03.420 response time in milliseconds: 232\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 772\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:01 GMT\n2 < x-amzn-RequestId: 07650867-c2c0-4df5-a9a9-c4f3e7acc8ff\n2 < x-amz-apigw-id: SrqxjGVEIAMEiYQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15809-3d3d0d4f1e6ed6d25ee88af4\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: UGHLCpeG8a8jC2bobmF2Q3vXrKeCM-mSYZBarIYIpysvgU18L6E8Rg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"668081aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV548212548212520240205165085\",\"approvalNum\":\"482125\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"482125\",\"rrn\":\"482125\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"PRIVADACR\",\"millerNum\":\"54848948948\",\"card\":\"71308145****7684\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"482125\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"482125\"}}],\"status\":[{\"transactionId\":\"YTEUSCV548212548212520240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165001\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":428700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":212700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":199300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":8503100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:02.384 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":213200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":522300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":578000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":219700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":92100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":84000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":96800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":476500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":732100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":100000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":72800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6765000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":415500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":221300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":153800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":68,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":200900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":28900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":158300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":94900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":87400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":86200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\"","result":{"duration":78800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":94100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":249702600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:02.407 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"991274aBcD\"},\"transaction\":{\"approvalNum\":426830,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":426830,\"rrn\":426830,\"dateTime\":\"20240205165000\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"38851329****9298\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":426830,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":426830},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:02.656 response time in milliseconds: 247\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:00 GMT\n1 < x-amzn-RequestId: 74d236db-949f-4f7a-846d-7c4a5e2fe860\n1 < x-amz-apigw-id: SrqxbFDXoAMEtIw=\n1 < X-Amzn-Trace-Id: Root=1-65c15808-04028f7a270fd02e314ddb35\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: vWqHL4m5uPlSmoGbsz2AH9mTBdUnxEWdbxg3UAp1eU8vYQqR74T1-g==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"991274aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV542683042683020240205165000\",\"approvalNum\":\"426830\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"426830\",\"rrn\":\"426830\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"38851329****9298\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"426830\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"426830\"}}],\"status\":[{\"transactionId\":\"YTEUSCV542683042683020240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165000\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":520900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":314100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":317100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":713050400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":225300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":550000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":77600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":332300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":780400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":329600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":151500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDENVISA\"","result":{"duration":116300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":108800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":45500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":227137600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:03.375 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"991274aBcD\"},\"transaction\":{\"approvalNum\":426830,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":426830,\"rrn\":426830,\"dateTime\":\"20240205165000\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"38851329****9298\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":426830,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":426830},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:03.600 response time in milliseconds: 225\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 769\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:01 GMT\n2 < x-amzn-RequestId: 8b2b6c5a-80c7-4e08-8762-f193e30688c5\n2 < x-amz-apigw-id: SrqxlH36IAMEXcw=\n2 < X-Amzn-Trace-Id: Root=1-65c15809-1d19ebaf644fad4b74106c2c\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 5rvCMZlh0WnJDTNkloGTUeZQGNSQrLB7FQpFNRUTt2eA-W-ysq45jQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"991274aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV542683042683020240205165085\",\"approvalNum\":\"426830\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"426830\",\"rrn\":\"426830\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"CREDENVISA\",\"millerNum\":\"54848948948\",\"card\":\"38851329****9298\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"426830\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"426830\"}}],\"status\":[{\"transactionId\":\"YTEUSCV542683042683020240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165001\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":376900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":218300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":248100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3497200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:03.110 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":138400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":375200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":630000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":189300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":113900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":99800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":470000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":898500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":648100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":97800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":88800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4063600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":271500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":183000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":191400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":69,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":430000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":61500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":55900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":24600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":74000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":37400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":176300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":148500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\"","result":{"duration":115900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":98800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":214860600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:03.128 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"97912aBcD\"},\"transaction\":{\"approvalNum\":154019,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":154019,\"rrn\":154019,\"dateTime\":\"20240205165000\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"32643682****5227\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":154019,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":154019},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:03.339 response time in milliseconds: 211\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:01 GMT\n1 < x-amzn-RequestId: c4980d45-3a95-40e9-8132-f5d15089f2c8\n1 < x-amz-apigw-id: SrqxiG3eoAMEpFQ=\n1 < X-Amzn-Trace-Id: Root=1-65c15809-17796dd31205b27a2e2759cc\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Zh_cwIpWmveukVmBpIGqK6ADIkg-U9jxRUQeYQ0PIIei4BMJC4Cg9w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"97912aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV515401915401920240205165000\",\"approvalNum\":\"154019\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"154019\",\"rrn\":\"154019\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"32643682****5227\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"154019\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"154019\"}}],\"status\":[{\"transactionId\":\"YTEUSCV515401915401920240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165001\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":23100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":478500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":300200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":83500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710365100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":78200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":204800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":241200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":71800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":45000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"COLSUBISIDIO\"","result":{"duration":40300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":41500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":192745400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:04.054 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"97912aBcD\"},\"transaction\":{\"approvalNum\":154019,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":154019,\"rrn\":154019,\"dateTime\":\"20240205165000\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"32643682****5227\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":154019,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":154019},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:04.245 response time in milliseconds: 191\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:02 GMT\n2 < x-amzn-RequestId: b2c8e839-bc77-4378-be6f-61555f37ce51\n2 < x-amz-apigw-id: SrqxrGYaoAMEBeg=\n2 < X-Amzn-Trace-Id: Root=1-65c1580a-09e66132316291944d9bd0d4\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c9d18591280ab48b39f7a8e685801258.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: A1uS33xpnwOOCa402qdXLLUnohs0XnnT5hiiYLDb0HZdrTQAWuZ-vg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"97912aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV515401915401920240205165085\",\"approvalNum\":\"154019\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"154019\",\"rrn\":\"154019\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"COLSUBISIDIO\",\"millerNum\":\"54848948948\",\"card\":\"32643682****5227\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"154019\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"154019\"}}],\"status\":[{\"transactionId\":\"YTEUSCV515401915401920240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165002\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":385400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":190800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":206000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3210600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:03.301 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":97600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":430100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":604200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":160400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":98500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":122100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":206300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":942200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":739300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":127900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":84000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5836600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":412200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":250900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":188200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":70,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":236000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":27900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":36200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":21500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":72300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":36300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":269200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":159200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\"","result":{"duration":112000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":105500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":204836300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:03.319 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2808\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"652439aBcD\"},\"transaction\":{\"approvalNum\":619404,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":619404,\"rrn\":619404,\"dateTime\":\"20240205165000\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"95539109****3017\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":619404,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":619404},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:03.522 response time in milliseconds: 203\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 772\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:01 GMT\n1 < x-amzn-RequestId: 02a65663-640a-4ccd-ba3e-08f1cbd4ecc2\n1 < x-amz-apigw-id: SrqxkF6pIAMEe-g=\n1 < X-Amzn-Trace-Id: Root=1-65c15809-47de4db94e307667271985df\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: xExlnUxuqhZy-54HnC-dvWiNeHbz9ynN7fGGrPT1Xr_VxfTyHVfubQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"652439aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV561940461940420240205165000\",\"approvalNum\":\"619404\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"619404\",\"rrn\":\"619404\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"95539109****3017\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"619404\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"619404\"}}],\"status\":[{\"transactionId\":\"YTEUSCV561940461940420240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165001\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":395200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":231700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":253200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":715446300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":88500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":282000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":165900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":70000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":49400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":117800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CAJA C.F.\"","result":{"duration":80200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":65800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":346494400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:04.241 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2808\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"652439aBcD\"},\"transaction\":{\"approvalNum\":619404,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":619404,\"rrn\":619404,\"dateTime\":\"20240205165000\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"95539109****3017\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":619404,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":619404},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:04.586 response time in milliseconds: 345\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 772\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:02 GMT\n2 < x-amzn-RequestId: 68508697-f6f4-4fb9-96b4-d2176d0187fa\n2 < x-amz-apigw-id: SrqxvG_AoAMEpFQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1580a-7772d6567904b16419b96ce0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: JAZFmt_4vQnjrzn9SzjN-fZz9JcmD436nGnasyVnlHvb0lcCaA6RCQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"652439aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV561940461940420240205165085\",\"approvalNum\":\"619404\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"619404\",\"rrn\":\"619404\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"CAJA C.F.\",\"millerNum\":\"54848948948\",\"card\":\"95539109****3017\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"619404\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"619404\"}}],\"status\":[{\"transactionId\":\"YTEUSCV561940461940420240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165002\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":409200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":191800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":187200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3208500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:03.425 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":136000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":474800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":598900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":283400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":125700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":78600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":70300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":600000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":720600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":129600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":104800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":9833100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":502200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":224400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":143600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":71,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":226100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":26000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":160700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":91700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":82400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":73200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\"","result":{"duration":67200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":392416600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:03.447 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"498801aBcD\"},\"transaction\":{\"approvalNum\":468770,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":468770,\"rrn\":468770,\"dateTime\":\"20240205165000\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"38964267****4678\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":468770,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":468770},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:03.838 response time in milliseconds: 390\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:02 GMT\n1 < x-amzn-RequestId: 29073ec1-6e8f-4a4e-8700-ea4023fd8293\n1 < x-amz-apigw-id: SrqxnE61IAMEopg=\n1 < X-Amzn-Trace-Id: Root=1-65c1580a-5140c14b75a46df8345560ff\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: HzO0EAXDwN8En5NNzvSNKlfThKdeN1oDh3ZMqQRGQVUZ7_9gLeVtGg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"498801aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV546877046877020240205165000\",\"approvalNum\":\"468770\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"468770\",\"rrn\":\"468770\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"38964267****4678\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"468770\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"468770\"}}],\"status\":[{\"transactionId\":\"YTEUSCV546877046877020240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165002\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":543700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":271800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":299200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":709773300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":102200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":266500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":51800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":267300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":118600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":74000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":69100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. PRIVADA\"","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":66800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":306157700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:04.551 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2802\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"498801aBcD\"},\"transaction\":{\"approvalNum\":468770,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":468770,\"rrn\":468770,\"dateTime\":\"20240205165000\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"38964267****4678\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":468770,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":468770},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:04.856 response time in milliseconds: 305\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:03 GMT\n2 < x-amzn-RequestId: b88ff429-1cf4-48a8-b146-49edccc85543\n2 < x-amz-apigw-id: SrqxyE-joAMEvPg=\n2 < X-Amzn-Trace-Id: Root=1-65c1580b-4042275738d2852d71a49ae0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: CehnrctfomaaTCrcIoLjWC-b5YM32gaFI0DMWi9NuyLgMEJeVtQCAw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"498801aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV546877046877020240205165085\",\"approvalNum\":\"468770\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"468770\",\"rrn\":\"468770\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"T. PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"38964267****4678\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"468770\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"468770\"}}],\"status\":[{\"transactionId\":\"YTEUSCV546877046877020240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165003\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":5700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":136000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":211000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":57200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3488800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:03.610 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":88000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":424600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":578000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":184700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":106400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":57000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":492300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":449800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":78300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":55400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5795100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":331700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":157400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":113700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":72,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":194400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":48300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":244400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":158200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":78200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":66400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\"","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":56300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":18700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":179896100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:03.627 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"67171aBcD\"},\"transaction\":{\"approvalNum\":686315,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":686315,\"rrn\":686315,\"dateTime\":\"20240205165000\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"58622944****3728\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":686315,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":686315},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:03.806 response time in milliseconds: 177\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:02 GMT\n1 < x-amzn-RequestId: f7a4e6e8-c437-48b8-b794-3d0a48a47645\n1 < x-amz-apigw-id: SrqxnFwdIAMEccQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1580a-7c5e5ae6591c58b045ded302\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: Zet9KgqMMfevBBp7SwGtJyqogWrKlmp_6RSljiaD-q1yq-mzxjkP-Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"67171aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV568631568631520240205165000\",\"approvalNum\":\"686315\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"686315\",\"rrn\":\"686315\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"58622944****3728\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"686315\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"686315\"}}],\"status\":[{\"transactionId\":\"YTEUSCV568631568631520240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165002\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":482700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":180500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":195100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":712056800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":116400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":79400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":114400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":32000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":235100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":42000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. CREDITO\"","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":17600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":13600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":323259100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:04.521 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2802\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"67171aBcD\"},\"transaction\":{\"approvalNum\":686315,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":686315,\"rrn\":686315,\"dateTime\":\"20240205165000\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"58622944****3728\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":686315,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":686315},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:04.842 response time in milliseconds: 321\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:03 GMT\n2 < x-amzn-RequestId: 06e468d5-e591-49ec-a0e7-9d7b7508472f\n2 < x-amz-apigw-id: SrqxyFIHIAMEMcA=\n2 < X-Amzn-Trace-Id: Root=1-65c1580b-6af344f07bd76581609c9c06\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: ajc_hI5FeEFHOeYMeNfnpODGAwC42FKh6WNRl7KKuOc9Ms7gtGZJIg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"67171aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV568631568631520240205165085\",\"approvalNum\":\"686315\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"686315\",\"rrn\":\"686315\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"T. CREDITO\",\"millerNum\":\"54848948948\",\"card\":\"58622944****3728\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"686315\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"686315\"}}],\"status\":[{\"transactionId\":\"YTEUSCV568631568631520240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165003\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":235300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":257000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1941800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:04.250 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":119100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":290800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":411900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":158500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":90600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":58300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":71000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":451500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":599400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":74400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":66300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6484100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":436000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":212600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":143700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":73,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":213600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":89900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":52700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":158200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\"","result":{"duration":98600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\"","result":{"duration":86600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":78200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":214519600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:04.264 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2804\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"631546aBcD\"},\"transaction\":{\"approvalNum\":484956,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":484956,\"rrn\":484956,\"dateTime\":\"20240205165000\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"41288615****5010\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":484956,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":484956},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:04.478 response time in milliseconds: 214\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 768\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:02 GMT\n1 < x-amzn-RequestId: 2c85a2e3-66fc-422e-8b27-1e52f7caec01\n1 < x-amz-apigw-id: SrqxuH_2oAMEEXA=\n1 < X-Amzn-Trace-Id: Root=1-65c1580a-3342a7d62964164b3f3f62f5\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: ebQO9FSKm0lQ5qaIKB0riYS2Vwz9JlfbZypKYYkXBrzmhlQlNC9FTg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"631546aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV548495648495620240205165000\",\"approvalNum\":\"484956\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"484956\",\"rrn\":\"484956\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"41288615****5010\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"484956\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"484956\"}}],\"status\":[{\"transactionId\":\"YTEUSCV548495648495620240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165002\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":351900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":242200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":79100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":703636500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":115300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":76300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":256600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":43400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LC\"","result":{"duration":74600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"T. EXITO\"","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":29700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":215192600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:05.186 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2804\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"631546aBcD\"},\"transaction\":{\"approvalNum\":484956,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":484956,\"rrn\":484956,\"dateTime\":\"20240205165000\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"41288615****5010\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":484956,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":484956},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:05.399 response time in milliseconds: 212\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 768\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:03 GMT\n2 < x-amzn-RequestId: 8d86bdaf-e604-44fc-b499-ea12ff6aefe9\n2 < x-amz-apigw-id: Srqx3FBPoAMEgrQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1580b-6ef89ad21bee933655010b12\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 d413fb750cb8c5d3a6bce4d80dedeb9a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: SXgw0EB_tqWtxSDkjArtM1jVS4Uds1O_YRhA-AWgE6g9nllz-hPlsw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"631546aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV548495648495620240205165085\",\"approvalNum\":\"484956\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"484956\",\"rrn\":\"484956\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"T. EXITO\",\"millerNum\":\"54848948948\",\"card\":\"41288615****5010\",\"accountType\":\"LC\"},\"payment\":{\"taxBase\":\"484956\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"484956\"}}],\"status\":[{\"transactionId\":\"YTEUSCV548495648495620240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165003\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":224300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":88900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":56800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1976100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:04.591 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":141100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":298300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":419200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":155800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":90000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":131700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":73900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":479400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":426300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":80800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3846200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":257800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":159700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":165800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":74,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":178100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":27500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":26800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":151000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\"","result":{"duration":99300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\"","result":{"duration":83700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":80200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":17100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":223651200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:04.602 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2800\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"221568aBcD\"},\"transaction\":{\"approvalNum\":776032,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":776032,\"rrn\":776032,\"dateTime\":\"20240205165000\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"80198818****2067\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":776032,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":776032},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:04.824 response time in milliseconds: 222\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 764\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:03 GMT\n1 < x-amzn-RequestId: f342b021-ba0b-4fdd-b6bc-ab05af67475b\n1 < x-amz-apigw-id: SrqxxFrFoAMEZYQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1580b-2ff89b782c8a9c8c147b7663\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 3hFa7KpLJY5fpoSqK9V-GZPLvWs2Lg1gpihOya5ODuwVn9GYoRqT3Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"221568aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV577603277603220240205165000\",\"approvalNum\":\"776032\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"776032\",\"rrn\":\"776032\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"80198818****2067\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"776032\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"776032\"}}],\"status\":[{\"transactionId\":\"YTEUSCV577603277603220240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165003\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":293300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":373600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":71500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":708263300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":105300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":52900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":123300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":16000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"MD\"","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"C.M.R\"","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"VENTA\"","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":14900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":212014700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:05.536 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2800\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"221568aBcD\"},\"transaction\":{\"approvalNum\":776032,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":776032,\"rrn\":776032,\"dateTime\":\"20240205165000\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"80198818****2067\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":776032,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":776032},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:05.747 response time in milliseconds: 211\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 764\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:04 GMT\n2 < x-amzn-RequestId: 826a5f60-6ba6-497d-acbe-aee15510551c\n2 < x-amz-apigw-id: Srqx7EeYoAMEnpg=\n2 < X-Amzn-Trace-Id: Root=1-65c1580c-210018601992d4513b06c246\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: FRhrn6a5V3p8SUiwEJfpjCBARAQwuDLuhMx-JAT2QSqCbOLjZNccdA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"221568aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV577603277603220240205165085\",\"approvalNum\":\"776032\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"776032\",\"rrn\":\"776032\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"VENTA\"},\"paymentMethod\":{\"franchise\":\"C.M.R\",\"millerNum\":\"54848948948\",\"card\":\"80198818****2067\",\"accountType\":\"MD\"},\"payment\":{\"taxBase\":\"776032\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"776032\"}}],\"status\":[{\"transactionId\":\"YTEUSCV577603277603220240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165004\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":302300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":123700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":72200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1915500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:04.846 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":60900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":170900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":313100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":117900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":61900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":57500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":48500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":359700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":391200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":92100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":82800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3673700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":124500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":64400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":83300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":75,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":80200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":17400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":15900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":14200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":36900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":16400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\"","result":{"duration":281600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\"","result":{"duration":134700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":102200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":16800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":221368200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:04.858 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2805\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"586993aBcD\"},\"transaction\":{\"approvalNum\":953669,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":953669,\"rrn\":953669,\"dateTime\":\"20240205165000\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"56724547****5440\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":953669,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":953669},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:05.077 response time in milliseconds: 219\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 769\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:03 GMT\n1 < x-amzn-RequestId: f548cd58-3810-4177-9596-9e03f52e825b\n1 < x-amz-apigw-id: Srqx0GbUoAMEXxg=\n1 < X-Amzn-Trace-Id: Root=1-65c1580b-22c3d4dc52ee7fe453f639fb\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f0d6c9b495ebafa94a1c28c69b13c174.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: -VJPTVWO-6fVH-CTFWuiy0YB4x4Fdib9WID7d5b7TxuEKsceSNPxCw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"586993aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV595366995366920240205165000\",\"approvalNum\":\"953669\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"953669\",\"rrn\":\"953669\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"56724547****5440\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"953669\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"953669\"}}],\"status\":[{\"transactionId\":\"YTEUSCV595366995366920240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165003\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":201800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":80600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":702814800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":106100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":64100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":28300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":114700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":29600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AM\"","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"TARL TCO\"","result":{"duration":25900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTAD\"","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":15100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":276380800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:05.783 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2805\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"586993aBcD\"},\"transaction\":{\"approvalNum\":953669,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":953669,\"rrn\":953669,\"dateTime\":\"20240205165000\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"56724547****5440\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":953669,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":953669},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:06.058 response time in milliseconds: 275\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 769\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:04 GMT\n2 < x-amzn-RequestId: 447046bc-5e64-44d4-bb64-be6a05c3f223\n2 < x-amz-apigw-id: Srqx9E22oAMEeKQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1580c-63e5bd8117a288403c14457a\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: Ohz6DKCngkMO0ZqU4KADZVyYnqgC1h92gbKWNP94UqPtNqbIKseSBw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"586993aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV595366995366920240205165085\",\"approvalNum\":\"953669\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"953669\",\"rrn\":\"953669\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"LEALTAD\"},\"paymentMethod\":{\"franchise\":\"TARL TCO\",\"millerNum\":\"54848948948\",\"card\":\"56724547****5440\",\"accountType\":\"AM\"},\"payment\":{\"taxBase\":\"953669\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"953669\"}}],\"status\":[{\"transactionId\":\"YTEUSCV595366995366920240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165004\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":309300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":110500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":83400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2274900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:04.862 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":87900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":301400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":533500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":171900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":88400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":57600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":61800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":531500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":493700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":77200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":71300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4768200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":716500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":343000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":237300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":76,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":323400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":35600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":42200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":30900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":94400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":54200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":242000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\"","result":{"duration":147200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\"","result":{"duration":121000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":111700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":25300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":239936600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:04.878 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2812\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"874421aBcD\"},\"transaction\":{\"approvalNum\":338955,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":338955,\"rrn\":338955,\"dateTime\":\"20240205165000\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"24297638****6290\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":338955,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":338955},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:05.115 response time in milliseconds: 237\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 776\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:03 GMT\n1 < x-amzn-RequestId: 581c4a0a-cb09-4d8e-89ab-5bd58b3d4f9a\n1 < x-amz-apigw-id: Srqx0HCGoAMEpFQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1580b-4f9109643f47d5933179a954\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 029192accfd6bfc8c2572988b78b92e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: vzxy4T7R2zxq0xqa1ns3u6CKhdPGpGhyuPTokvAPGB4nWzTiEGP9eA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"874421aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV533895533895520240205165000\",\"approvalNum\":\"338955\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"338955\",\"rrn\":\"338955\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"24297638****6290\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"338955\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"338955\"}}],\"status\":[{\"transactionId\":\"YTEUSCV533895533895520240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165003\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":233800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":113300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":59800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710233900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":85700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":107700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"NC\"","result":{"duration":59300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PRIVADA\"","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PUNTOS COLOMBIA\"","result":{"duration":36800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":17300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":184221900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:05.830 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2812\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"874421aBcD\"},\"transaction\":{\"approvalNum\":338955,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":338955,\"rrn\":338955,\"dateTime\":\"20240205165000\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"24297638****6290\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":338955,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":338955},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:06.012 response time in milliseconds: 182\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 776\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:04 GMT\n2 < x-amzn-RequestId: ae8ec50e-e0d4-47e2-97b4-df16718b1859\n2 < x-amz-apigw-id: Srqx9E50oAMEExQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1580c-0a105cc92cab2be9131de693\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: _18fUTsUWdc3wLRFTbOuZUpn6YXEPDE9gdDnm4qgtVvwvHZxJ5scjQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"874421aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV533895533895520240205165085\",\"approvalNum\":\"338955\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"338955\",\"rrn\":\"338955\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"PUNTOS COLOMBIA\"},\"paymentMethod\":{\"franchise\":\"PRIVADA\",\"millerNum\":\"54848948948\",\"card\":\"24297638****6290\",\"accountType\":\"NC\"},\"payment\":{\"taxBase\":\"338955\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"338955\"}}],\"status\":[{\"transactionId\":\"YTEUSCV533895533895520240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165004\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":288000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":91100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2173100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:05.402 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":78800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":169600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":386500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":156100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":66300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":54900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":65900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":474700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":499600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":120400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":72800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":2908300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":167100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":116800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":86500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":77,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":126000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":24000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":16900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":55900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\"","result":{"duration":345500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\"","result":{"duration":168900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":113400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":21400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":370718200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:05.413 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"140356aBcD\"},\"transaction\":{\"approvalNum\":438198,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":438198,\"rrn\":438198,\"dateTime\":\"20240205165000\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"26813217****7379\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":438198,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":438198},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:05.782 response time in milliseconds: 369\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:04 GMT\n1 < x-amzn-RequestId: cd11e11e-bdb0-4f98-b631-fb8d60c69402\n1 < x-amz-apigw-id: Srqx7HCOoAMEAXw=\n1 < X-Amzn-Trace-Id: Root=1-65c1580c-65ea31fc189e1c0459595fbd\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 ed1f055a65d7d8c6a433873cae331418.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: efSlt-hbVrh2hbLeVnKFJSJYGCfsekMIHxwHo7rhbyP9sd6rbI3ymA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"140356aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV543819843819820240205165000\",\"approvalNum\":\"438198\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"438198\",\"rrn\":\"438198\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"26813217****7379\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"438198\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"438198\"}}],\"status\":[{\"transactionId\":\"YTEUSCV543819843819820240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165004\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":263900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":96400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":105500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":708859300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":127800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":93000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":28100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":105300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":31500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"-\"","result":{"duration":49500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"CREDITOPR\"","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LEALTADPLUS\"","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":17200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":214812200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:06.494 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"140356aBcD\"},\"transaction\":{\"approvalNum\":438198,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":438198,\"rrn\":438198,\"dateTime\":\"20240205165000\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"26813217****7379\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":438198,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":438198},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:06.707 response time in milliseconds: 213\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:04 GMT\n2 < x-amzn-RequestId: 75277433-ab4a-46f8-87f9-d2a2340fe3f6\n2 < x-amz-apigw-id: SrqyEGmWoAMEGSQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1580c-361aac1032ed6af75b2e7443\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: TjxXV4qjd20xwQz2dRSyscQ5rYO1CTJMkMD1SU59otafHo1Lgzb72w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"140356aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV543819843819820240205165085\",\"approvalNum\":\"438198\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"438198\",\"rrn\":\"438198\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"LEALTADPLUS\"},\"paymentMethod\":{\"franchise\":\"CREDITOPR\",\"millerNum\":\"54848948948\",\"card\":\"26813217****7379\",\"accountType\":\"-\"},\"payment\":{\"taxBase\":\"438198\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"438198\"}}],\"status\":[{\"transactionId\":\"YTEUSCV543819843819820240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165004\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":228500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":103600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":56500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2474800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:05.751 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":86300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":183000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":405900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":159600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":92300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":381800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":376900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":51200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":50800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4185300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":245600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":81300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":65900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":78,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":98200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":19200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":24800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":309000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\"","result":{"duration":116000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":95300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":17700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":251537700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:05.763 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2810\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"734416aBcD\"},\"transaction\":{\"approvalNum\":601774,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":601774,\"rrn\":601774,\"dateTime\":\"20240205165000\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"22432995****4091\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":601774,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":601774},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:06.013 response time in milliseconds: 250\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 774\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:04 GMT\n1 < x-amzn-RequestId: 34108693-b2e3-483f-a5b3-659a4feaf163\n1 < x-amz-apigw-id: Srqx9GT-IAMEuoQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1580c-1c04f78971da5a7f27657f05\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: fhBKaiK9-Gtw5nIl1BdxNfeJn9R8ooKqsv3ogjP3cKuAe1e9LwVLmg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"734416aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV560177460177420240205165000\",\"approvalNum\":\"601774\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"601774\",\"rrn\":\"601774\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"22432995****4091\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"601774\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"601774\"}}],\"status\":[{\"transactionId\":\"YTEUSCV560177460177420240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165004\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":191300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":100900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":72600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":710715900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":154900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":143400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":32100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":113000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":42100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":117600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"AH\"","result":{"duration":150600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONO CODEN\"","result":{"duration":91400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"T. PRIVADA\"","result":{"duration":82300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":176610000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:06.728 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2810\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"734416aBcD\"},\"transaction\":{\"approvalNum\":601774,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":601774,\"rrn\":601774,\"dateTime\":\"20240205165000\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"22432995****4091\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":601774,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":601774},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:06.903 response time in milliseconds: 175\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 774\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:05 GMT\n2 < x-amzn-RequestId: 57a6b0b2-9418-4c7f-8978-b3e25e902160\n2 < x-amz-apigw-id: SrqyGEuloAMEPOw=\n2 < X-Amzn-Trace-Id: Root=1-65c1580d-2cb1bf4c3a226bba79b30b13\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: dufZy06GFrnB2hCpl6Zg6APx9t3TX7ey3ramDJPe07wdF_3py6J1zg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"734416aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV560177460177420240205165085\",\"approvalNum\":\"601774\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"601774\",\"rrn\":\"601774\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"T. PRIVADA\"},\"paymentMethod\":{\"franchise\":\"BONO CODEN\",\"millerNum\":\"54848948948\",\"card\":\"22432995****4091\",\"accountType\":\"AH\"},\"payment\":{\"taxBase\":\"601774\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"601774\"}}],\"status\":[{\"transactionId\":\"YTEUSCV560177460177420240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165005\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":279300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":98700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":59000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":9955900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:06.015 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":90500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":192400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":456500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":160000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":74000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":56900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":57700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":470000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":394400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":77500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":60100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":13711400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":364000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":151000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":124700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":79,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":148700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":36500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":84300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":43100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":41300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":1333000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\"","result":{"duration":308700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":122400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":28700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":321469300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:06.048 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2806\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"727522aBcD\"},\"transaction\":{\"approvalNum\":401320,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":401320,\"rrn\":401320,\"dateTime\":\"20240205165000\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"45002095****5190\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":401320,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":401320},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:06.367 response time in milliseconds: 318\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 770\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:04 GMT\n1 < x-amzn-RequestId: 7c2d3b6b-9348-419b-8933-9c2af7d47fef\n1 < x-amz-apigw-id: SrqyBGBmIAMErAQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1580c-7e6d4ab7702a1dbb49ae7aee\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: jAu8RJweG3v2Fv9mrHChfcLP4hzuSALJORmD0M2PpW4xZTOyJ_O4sw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"727522aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV540132040132020240205165000\",\"approvalNum\":\"401320\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"401320\",\"rrn\":\"401320\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"45002095****5190\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"401320\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"401320\"}}],\"status\":[{\"transactionId\":\"YTEUSCV540132040132020240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165004\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":12500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":233400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":99700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":57300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":707184300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":83800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":47400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":24500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":174100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":151800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CC\"","result":{"duration":63000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BONOS\"","result":{"duration":33700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"TOTAL BONOS\"","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":38700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":206458200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:07.078 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2806\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"727522aBcD\"},\"transaction\":{\"approvalNum\":401320,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":401320,\"rrn\":401320,\"dateTime\":\"20240205165000\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"45002095****5190\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":401320,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":401320},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:07.282 response time in milliseconds: 203\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 770\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:05 GMT\n2 < x-amzn-RequestId: 19608df4-d3a6-4f5c-93c2-e23c9b3b117b\n2 < x-amz-apigw-id: SrqyKEVKIAMESGQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1580d-64ecc11823da8fb85540528c\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 52262f1028600b5841c2920de03f41c6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: C9JDVV_nGOhx0xPk9ZJNX_HD4NzdoddSznjwAgLA1GMHT2j9o9HkfA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"727522aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV540132040132020240205165085\",\"approvalNum\":\"401320\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"401320\",\"rrn\":\"401320\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"TOTAL BONOS\"},\"paymentMethod\":{\"franchise\":\"BONOS\",\"millerNum\":\"54848948948\",\"card\":\"45002095****5190\",\"accountType\":\"CC\"},\"payment\":{\"taxBase\":\"401320\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"401320\"}}],\"status\":[{\"transactionId\":\"YTEUSCV540132040132020240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165005\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":256800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":108800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":3270700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:06.061 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":97100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":193600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":586700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":193800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":128800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":72100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":486100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":377100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":63500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":51300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5779400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":286700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":95800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":61700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":80,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":119900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":25700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":20800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":59500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":23300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":295500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\"","result":{"duration":100800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":66400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":226896400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:06.077 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2813\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"366517aBcD\"},\"transaction\":{\"approvalNum\":912940,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":912940,\"rrn\":912940,\"dateTime\":\"20240205165000\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"39216018****7800\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":912940,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":912940},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:06.302 response time in milliseconds: 225\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 777\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:04 GMT\n1 < x-amzn-RequestId: 57e75d97-6ccd-46da-a9ae-01a6f70912f2\n1 < x-amz-apigw-id: SrqyAG3zoAMEtZg=\n1 < X-Amzn-Trace-Id: Root=1-65c1580c-4b14459813ff83cc6a85f982\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18572e89ca99b00275cf6291940e9690.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 2LVkPqyT5So9nLtxfFhfKUGF4EUJPO6OmoOT5BnvxQ6xAVV-RhlDrQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"366517aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV591294091294020240205165000\",\"approvalNum\":\"912940\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"912940\",\"rrn\":\"912940\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"39216018****7800\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"912940\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"912940\"}}],\"status\":[{\"transactionId\":\"YTEUSCV591294091294020240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165004\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":14700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":249200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":93600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":73100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":711911900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":167000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":78300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":38000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":134900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":64200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":44900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CR\"","result":{"duration":104500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"SODEXO\"","result":{"duration":98800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"BONOS RECARGABLES\"","result":{"duration":31700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":237876100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:07.018 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2813\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"366517aBcD\"},\"transaction\":{\"approvalNum\":912940,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":912940,\"rrn\":912940,\"dateTime\":\"20240205165000\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"39216018****7800\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":912940,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":912940},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:07.254 response time in milliseconds: 236\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 777\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:05 GMT\n2 < x-amzn-RequestId: 70796657-09eb-45e6-a787-72998f48eb0e\n2 < x-amz-apigw-id: SrqyJGOkoAMEo6w=\n2 < X-Amzn-Trace-Id: Root=1-65c1580d-248241bd1bb7641c7ec24176\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: e7jO0zyjuvUNBFUScfVZpR97o4pGZe2uKZ0Qf_3ZQGX7tnGM54bSWQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"366517aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV591294091294020240205165085\",\"approvalNum\":\"912940\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"912940\",\"rrn\":\"912940\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"BONOS RECARGABLES\"},\"paymentMethod\":{\"franchise\":\"SODEXO\",\"millerNum\":\"54848948948\",\"card\":\"39216018****7800\",\"accountType\":\"CR\"},\"payment\":{\"taxBase\":\"912940\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"912940\"}}],\"status\":[{\"transactionId\":\"YTEUSCV591294091294020240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165005\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":217700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":93300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":59100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2917200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:06.712 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":87700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":196300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":365200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":225400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":97800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":67900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":60300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":401200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":347000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":60200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3595300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":271800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":116900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":81500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":81,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":140800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":44500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":24900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":26400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":67200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":50200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":25600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":321400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\"","result":{"duration":394500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":124500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":224305200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:06.725 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"799928aBcD\"},\"transaction\":{\"approvalNum\":188506,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":188506,\"rrn\":188506,\"dateTime\":\"20240205165000\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"94591869****8395\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":188506,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":188506},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:06.948 response time in milliseconds: 222\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 765\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:05 GMT\n1 < x-amzn-RequestId: 19b0aa6b-c238-4736-93ff-5abf7931bb49\n1 < x-amz-apigw-id: SrqyGGvVIAMECkQ=\n1 < X-Amzn-Trace-Id: Root=1-65c1580d-3152f0ca107c35235b809c2a\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a1d7699bcc1502272b8c1d4eb2f77f7c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: KxP5Za4Ft3TubU75odnm02ff5yJkSiCZl2pDpaKosfTzudSzqUUnpw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"799928aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV518850618850620240205165000\",\"approvalNum\":\"188506\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"188506\",\"rrn\":\"188506\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"94591869****8395\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"188506\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"188506\"}}],\"status\":[{\"transactionId\":\"YTEUSCV518850618850620240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165005\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":276700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":100900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":65900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":712234300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":108000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":74900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":36000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":149700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":34200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":26300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"LT\"","result":{"duration":70300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BIG PASS\"","result":{"duration":29100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PCR\"","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":216304600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:07.664 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2801\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"799928aBcD\"},\"transaction\":{\"approvalNum\":188506,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":188506,\"rrn\":188506,\"dateTime\":\"20240205165000\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"94591869****8395\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":188506,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":188506},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:07.878 response time in milliseconds: 214\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 765\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:06 GMT\n2 < x-amzn-RequestId: b5a94abd-8e83-4b04-8e2b-353ce8357a52\n2 < x-amz-apigw-id: SrqyQGbpIAMEv3Q=\n2 < X-Amzn-Trace-Id: Root=1-65c1580e-75c563b12bcb07927ad907b8\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: V-r3giRpFqTVQ9aeJb9iZ9hg8H9fveE-ZFpavAFRDwlDDnyLxkhFFw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"799928aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV518850618850620240205165085\",\"approvalNum\":\"188506\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"188506\",\"rrn\":\"188506\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"PCR\"},\"paymentMethod\":{\"franchise\":\"BIG PASS\",\"millerNum\":\"54848948948\",\"card\":\"94591869****8395\",\"accountType\":\"LT\"},\"payment\":{\"taxBase\":\"188506\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"188506\"}}],\"status\":[{\"transactionId\":\"YTEUSCV518850618850620240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165006\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":437500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":219500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":209200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":5829500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:06.907 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":127900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":216700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":403700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":183100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":63600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":60000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":54600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":404200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":526800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":60200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":53100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4441700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":318500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":120700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":75700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":82,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":95300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":17800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":62500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":22800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":291400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\"","result":{"duration":136900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":85500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":18500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":191121600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:06.925 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2815\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"108494aBcD\"},\"transaction\":{\"approvalNum\":618194,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":618194,\"rrn\":618194,\"dateTime\":\"20240205165000\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"46219665****6843\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":618194,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":618194},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:07.113 response time in milliseconds: 188\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 779\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:05 GMT\n1 < x-amzn-RequestId: f211ef61-a250-4842-b29f-7bba8aed3a87\n1 < x-amz-apigw-id: SrqyIFOYoAMEopg=\n1 < X-Amzn-Trace-Id: Root=1-65c1580d-0179ca241a73ea8f5a6cf2a0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: 9WIW9QIwrGIDIHcAme5ujHavZOo0sY_bdmj9Bpyy_9dXuK_-lE0nhw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"108494aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV561819461819420240205165000\",\"approvalNum\":\"618194\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"618194\",\"rrn\":\"618194\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"46219665****6843\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"618194\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"618194\"}}],\"status\":[{\"transactionId\":\"YTEUSCV561819461819420240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165005\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":11500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":234400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":97400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":57100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":700887100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":130600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":357700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":258800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":106500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":73800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CM\"","result":{"duration":92200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"BTERA.OTP\"","result":{"duration":75200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGA EFECTIVO\"","result":{"duration":65700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":19100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":233442500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:07.818 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2815\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"108494aBcD\"},\"transaction\":{\"approvalNum\":618194,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":618194,\"rrn\":618194,\"dateTime\":\"20240205165000\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"46219665****6843\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":618194,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":618194},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:08.049 response time in milliseconds: 231\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 779\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:06 GMT\n2 < x-amzn-RequestId: 21862e46-c446-4fef-b163-0594276811d4\n2 < x-amz-apigw-id: SrqyRGTJIAMEfaw=\n2 < X-Amzn-Trace-Id: Root=1-65c1580e-7f8066e15eae7fa14bc8cfcb\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: qLGFgTGM8Q_wewiQV64lS-VyLSAhTPxl8LmiUesReC7P7IWYIRU7WQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"108494aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV561819461819420240205165085\",\"approvalNum\":\"618194\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"618194\",\"rrn\":\"618194\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"RECARGA EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"BTERA.OTP\",\"millerNum\":\"54848948948\",\"card\":\"46219665****6843\",\"accountType\":\"CM\"},\"payment\":{\"taxBase\":\"618194\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"618194\"}}],\"status\":[{\"transactionId\":\"YTEUSCV561819461819420240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165006\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":418100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":200200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":284800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":4467500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:07.258 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":178400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":233800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":474800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":204400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":86600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":55300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":424100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":283200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":55800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":51900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4190900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":306600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":92800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":66800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":83,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":95800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":21100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":58100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":23400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":22600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\"","result":{"duration":304900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":99300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":17900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":184218400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:07.274 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"232081aBcD\"},\"transaction\":{\"approvalNum\":631313,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":631313,\"rrn\":631313,\"dateTime\":\"20240205165000\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"72842005****4372\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":631313,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":631313},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:07.457 response time in milliseconds: 182\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:05 GMT\n1 < x-amzn-RequestId: 2403c1a2-9d57-4a2e-90cf-f57480dbcedf\n1 < x-amz-apigw-id: SrqyMGRtoAMELVw=\n1 < X-Amzn-Trace-Id: Root=1-65c1580d-147c379a24cf470c39aa0d8d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: ME_mDz9sN815in23mPYwhn6CbBfCnuDY5RoyQzCj-iY6Hll7Bb3wUQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"232081aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV563131363131320240205165000\",\"approvalNum\":\"631313\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"631313\",\"rrn\":\"631313\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"72842005****4372\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"631313\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"631313\"}}],\"status\":[{\"transactionId\":\"YTEUSCV563131363131320240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165005\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":19600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":284600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":99200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":77600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":714294500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":120900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":1360000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":169400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":2056300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":844500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":263300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"CU\"","result":{"duration":161500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"PTOSCOLMB\"","result":{"duration":374500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"RECARGAS\"","result":{"duration":246300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":73000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":209214600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:08.183 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2807\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"232081aBcD\"},\"transaction\":{\"approvalNum\":631313,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":631313,\"rrn\":631313,\"dateTime\":\"20240205165000\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"72842005****4372\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":631313,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":631313},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:08.388 response time in milliseconds: 204\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 771\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:06 GMT\n2 < x-amzn-RequestId: 351ebb37-227a-42e9-bdee-3a92d878337a\n2 < x-amz-apigw-id: SrqyVFYMIAMEqhw=\n2 < X-Amzn-Trace-Id: Root=1-65c1580e-67d7f3f349b7c64d2ccaddb2\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 9fa1e4953502cec4f2c796ef872e5d78.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: iYZRDXh8JT6l0fz8vbK2pjnGtwW_m4nO7owU1FYK0XmEGjblTg9B7Q==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"232081aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV563131363131320240205165085\",\"approvalNum\":\"631313\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"631313\",\"rrn\":\"631313\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"RECARGAS\"},\"paymentMethod\":{\"franchise\":\"PTOSCOLMB\",\"millerNum\":\"54848948948\",\"card\":\"72842005****4372\",\"accountType\":\"CU\"},\"payment\":{\"taxBase\":\"631313\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"631313\"}}],\"status\":[{\"transactionId\":\"YTEUSCV563131363131320240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165006\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":16700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":427100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":248400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":195300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2114800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:07.285 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":107600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":187000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":351600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":174800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":80600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":59300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":63800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":1168600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":1777300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":126200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":176200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":6473900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":392900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":219700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":149400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":84,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":127000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":38500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":27200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":100700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":37100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":28400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":394100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\"","result":{"duration":132900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":172300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":20000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":225093700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:07.303 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2807\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"337549aBcD\"},\"transaction\":{\"approvalNum\":643909,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":643909,\"rrn\":643909,\"dateTime\":\"20240205165000\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"14393168****9464\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":643909,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":643909},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:07.526 response time in milliseconds: 223\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 771\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:05 GMT\n1 < x-amzn-RequestId: 8da591d0-d313-41f7-89c7-1d5466096933\n1 < x-amz-apigw-id: SrqyMEo2oAMEIJw=\n1 < X-Amzn-Trace-Id: Root=1-65c1580d-1d2c235531feb2a65ec71a24\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 aeb457e87760dc433cf50cdb15399112.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: NSlbh2KfgFtJPcOc43dyYJPfBFiQNRR5fLvH1tOr6NxTVRpwQ3wNnQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"337549aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV564390964390920240205165000\",\"approvalNum\":\"643909\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"643909\",\"rrn\":\"643909\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"14393168****9464\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"643909\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"643909\"}}],\"status\":[{\"transactionId\":\"YTEUSCV564390964390920240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165005\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":17000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":301300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":164100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":706116000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":119400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":354000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":58500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":347000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":154900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":125100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BE\"","result":{"duration":89400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"LIFEMILES\"","result":{"duration":80900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"EFECTIVO\"","result":{"duration":79600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":25800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":309294700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:08.237 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2807\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"337549aBcD\"},\"transaction\":{\"approvalNum\":643909,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":643909,\"rrn\":643909,\"dateTime\":\"20240205165000\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"14393168****9464\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":643909,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":643909},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:08.544 response time in milliseconds: 306\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 771\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:06 GMT\n2 < x-amzn-RequestId: 0aadeec1-5b06-466a-ad69-fc7f5b1726e1\n2 < x-amz-apigw-id: SrqyXGZLIAMErOQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1580e-2db5c63c5420b06d55700dab\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c3cceb0089266c171ab3f8a814293e44.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 3--sEMF66TP_HJNy2I3EgP4N2krIo7mCwVcsLkMv7yOaWfMAvqPKHg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"337549aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV564390964390920240205165085\",\"approvalNum\":\"643909\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"643909\",\"rrn\":\"643909\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"EFECTIVO\"},\"paymentMethod\":{\"franchise\":\"LIFEMILES\",\"millerNum\":\"54848948948\",\"card\":\"14393168****9464\",\"accountType\":\"BE\"},\"payment\":{\"taxBase\":\"643909\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"643909\"}}],\"status\":[{\"transactionId\":\"YTEUSCV564390964390920240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165006\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":47800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":857700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":271800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":262300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2232500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:07.882 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":90500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":357100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":537100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":169600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":68000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":57100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":54900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":528000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":409100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":159000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":84100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5076100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":349600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":178200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":138500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":85,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":211900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":30600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":64000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":22000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":207000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":119900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":128100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":94700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\"","result":{"duration":112400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":195100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":175334000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:07.900 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2809\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"65674aBcD\"},\"transaction\":{\"approvalNum\":887839,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":887839,\"rrn\":887839,\"dateTime\":\"20240205165000\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"48495899****6418\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":887839,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":887839},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:08.071 response time in milliseconds: 171\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 773\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:06 GMT\n1 < x-amzn-RequestId: ee8cdcec-79a7-491b-904d-6bc1fdaadc93\n1 < x-amz-apigw-id: SrqySHIYoAMEMfg=\n1 < X-Amzn-Trace-Id: Root=1-65c1580e-54ba299e1bd0cfea62a70b98\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b3e15f172443119f871ead1d8c243064.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: sMqA3ktKsx8mjA-HQVPjJ4blVjY-uoPb1v3_gbphbdTLAD0XZ-voSw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"65674aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV588783988783920240205165000\",\"approvalNum\":\"887839\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"887839\",\"rrn\":\"887839\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"48495899****6418\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"887839\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"887839\"}}],\"status\":[{\"transactionId\":\"YTEUSCV588783988783920240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165006\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":348100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":316400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":65000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":704181400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":124100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":118800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":47900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":166900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":32900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":408500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RT\"","result":{"duration":52300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBI\"","result":{"duration":26200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"IMPUESTOS\"","result":{"duration":22300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":15200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":177003500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:08.780 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2809\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"65674aBcD\"},\"transaction\":{\"approvalNum\":887839,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":887839,\"rrn\":887839,\"dateTime\":\"20240205165000\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"48495899****6418\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":887839,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":887839},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:08.954 response time in milliseconds: 174\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 773\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:07 GMT\n2 < x-amzn-RequestId: 81320878-90f6-444c-8e60-f2e34135dd0c\n2 < x-amz-apigw-id: SrqybElxIAMECxQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1580f-16b5e20b151df9945906531a\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 c261294b728c8520b22fc1dd217247ea.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: gtzBBDO3u-Io-xx1QnyGkm4RZgNwEY26a56bz1mCfzizrY8C3i6QHw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"65674aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV588783988783920240205165085\",\"approvalNum\":\"887839\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"887839\",\"rrn\":\"887839\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"IMPUESTOS\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBI\",\"millerNum\":\"54848948948\",\"card\":\"48495899****6418\",\"accountType\":\"RT\"},\"payment\":{\"taxBase\":\"887839\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"887839\"}}],\"status\":[{\"transactionId\":\"YTEUSCV588783988783920240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165007\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":202900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":228700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":59800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2927000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:08.054 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":82300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":407100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":517800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":178500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":73000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":58800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":62600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":626700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":413900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":66600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":52800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":4565300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":379100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":214600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":132300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":86,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":200000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":25100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":30700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":23700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":64800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":26600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":140000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":76800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\"","result":{"duration":69600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":64600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":177713700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:08.068 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2801\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"104497aBcD\"},\"transaction\":{\"approvalNum\":739599,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":739599,\"rrn\":739599,\"dateTime\":\"20240205165000\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"85818157****5039\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":739599,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":739599},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:08.243 response time in milliseconds: 175\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 765\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:06 GMT\n1 < x-amzn-RequestId: 4d5d28bb-df85-42c5-ab54-b6b7603e2426\n1 < x-amz-apigw-id: SrqyUGyvIAMETXA=\n1 < X-Amzn-Trace-Id: Root=1-65c1580e-24a21c7123ef67576a0c7708\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00b260da6f81df3ba2b21777161e1986.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: zVShBysIuHtRvzJQgymAWAQfVyyG5RuH3BHjo7W0AHyz3V8t9I_skg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"104497aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV573959973959920240205165000\",\"approvalNum\":\"739599\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"739599\",\"rrn\":\"739599\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"85818157****5039\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"739599\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"739599\"}}],\"status\":[{\"transactionId\":\"YTEUSCV573959973959920240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165006\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":35000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":413500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":352000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":83700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":702396400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":92000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":47000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":20700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":86300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":20900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"RG\"","result":{"duration":43500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER\"","result":{"duration":22700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"WIZEO\"","result":{"duration":21700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":184528400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:08.949 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2801\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"104497aBcD\"},\"transaction\":{\"approvalNum\":739599,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":739599,\"rrn\":739599,\"dateTime\":\"20240205165000\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"85818157****5039\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":739599,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":739599},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:09.132 response time in milliseconds: 183\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 765\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:07 GMT\n2 < x-amzn-RequestId: f787d117-7a63-4ce9-b2ee-b8374d76f4de\n2 < x-amz-apigw-id: SrqycF7OoAMEq-Q=\n2 < X-Amzn-Trace-Id: Root=1-65c1580f-20ebc52753d9a3820ab17f18\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: lYTvb2Ko5yd__LFBF2OOlKElJqWeoiGKOvVZURX6PfhyvSVTkOa_Yw==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"104497aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV573959973959920240205165085\",\"approvalNum\":\"739599\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"739599\",\"rrn\":\"739599\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"WIZEO\"},\"paymentMethod\":{\"franchise\":\"MASTER\",\"millerNum\":\"54848948948\",\"card\":\"85818157****5039\",\"accountType\":\"RG\"},\"payment\":{\"taxBase\":\"739599\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"739599\"}}],\"status\":[{\"transactionId\":\"YTEUSCV573959973959920240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165007\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":200700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":64700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":37000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2727900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:08.394 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":73400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":380000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":432300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":162800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":63700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":100500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":65500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":502800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":484100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":93500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":62300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":7017900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":871700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":204600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":181400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":87,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":311000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":35400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":35500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":21000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":79600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":31300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":197800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":99400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\"","result":{"duration":68000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":63300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":304655000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:08.413 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2799\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"64826aBcD\"},\"transaction\":{\"approvalNum\":703957,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":703957,\"rrn\":703957,\"dateTime\":\"20240205165000\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"89673537****3059\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":703957,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":703957},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:08.715 response time in milliseconds: 301\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 763\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:06 GMT\n1 < x-amzn-RequestId: 35fb307f-7109-4192-9e72-047c00623d72\n1 < x-amz-apigw-id: SrqyYGXaoAMEfaw=\n1 < X-Amzn-Trace-Id: Root=1-65c1580e-4e86dad5483b712d1405488f\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a2ab4eb73241ceafe53715cb488cba40.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: JxkSL1sKvTr9eMtc3Ope99j2cQVAM98k8qB9kCzl5jBHYQJDVMmuww==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"64826aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV570395770395720240205165000\",\"approvalNum\":\"703957\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"703957\",\"rrn\":\"703957\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"89673537****3059\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"703957\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"703957\"}}],\"status\":[{\"transactionId\":\"YTEUSCV570395770395720240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165006\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":214300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":227300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":56000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":714894300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":118100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":88900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":33200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":121800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":32600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":33100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"DS\"","result":{"duration":65000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTERD\"","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"OPS\"","result":{"duration":64800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":20500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":355201100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:09.434 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2799\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"64826aBcD\"},\"transaction\":{\"approvalNum\":703957,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":703957,\"rrn\":703957,\"dateTime\":\"20240205165000\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"89673537****3059\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":703957,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":703957},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:09.786 response time in milliseconds: 352\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 763\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:08 GMT\n2 < x-amzn-RequestId: 7267f64b-f9a6-497e-8b4b-628b12105649\n2 < x-amz-apigw-id: SrqyjG89oAMEEYQ=\n2 < X-Amzn-Trace-Id: Root=1-65c15810-4fee2bd1426becf4766d2c29\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: 2AJfS6hWE8ShexL_y0QS-r3RMc4a_TcLMB8fLyPZY92IaSnQ9cojQQ==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"64826aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV570395770395720240205165085\",\"approvalNum\":\"703957\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"703957\",\"rrn\":\"703957\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"OPS\"},\"paymentMethod\":{\"franchise\":\"MASTERD\",\"millerNum\":\"54848948948\",\"card\":\"89673537****3059\",\"accountType\":\"DS\"},\"payment\":{\"taxBase\":\"703957\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"703957\"}}],\"status\":[{\"transactionId\":\"YTEUSCV570395770395720240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165008\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":210600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":66100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":55400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2077000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:08.550 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":107300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":378100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":298700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":119900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":42600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":49300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":51600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":413200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":305400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":37200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":46100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":5141900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":438300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":163300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":122400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":88,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":225200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":24700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":29300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":18400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":62100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":26900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":135600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":75500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\"","result":{"duration":69000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":75800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":16500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":176083600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:08.563 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"251074aBcD\"},\"transaction\":{\"approvalNum\":624339,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":624339,\"rrn\":624339,\"dateTime\":\"20240205165000\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"87421770****3610\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":624339,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":624339},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:08.737 response time in milliseconds: 174\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:07 GMT\n1 < x-amzn-RequestId: dc6aabac-9f28-4c70-891a-d2d87d4d7d17\n1 < x-amz-apigw-id: SrqyYF8JoAMEqCA=\n1 < X-Amzn-Trace-Id: Root=1-65c1580e-7feb3d8943b1d7832a04c5ec\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 029192accfd6bfc8c2572988b78b92e6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: zQt6IgBASRUaO-iELl1kR-X07VJ4ESLJSesJvB_0JV-1GeH1HLKjig==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"251074aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV562433962433920240205165000\",\"approvalNum\":\"624339\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"624339\",\"rrn\":\"624339\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"87421770****3610\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"624339\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"624339\"}}],\"status\":[{\"transactionId\":\"YTEUSCV562433962433920240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165007\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":13200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":234400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":237200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":55700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":707447100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":107600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":125200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":49100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":110300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":22900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":22200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BC\"","result":{"duration":44300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEB\"","result":{"duration":23900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"QR\"","result":{"duration":21800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":16300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":219053700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:09.449 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2802\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"251074aBcD\"},\"transaction\":{\"approvalNum\":624339,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":624339,\"rrn\":624339,\"dateTime\":\"20240205165000\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"87421770****3610\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":624339,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":624339},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:09.666 response time in milliseconds: 217\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:07 GMT\n2 < x-amzn-RequestId: d4503c28-7b3d-4ef7-896e-447b454cb47d\n2 < x-amz-apigw-id: SrqyiHAKoAMECkQ=\n2 < X-Amzn-Trace-Id: Root=1-65c1580f-0d062707547674a75db08bb1\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 064907318388ddb71d9d0db586a17f3a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: lkksnD0HHJVgHL75ZGk2F3Us-Fluf3toXjGlqF1PPzIHZK7ABKm43A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"251074aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV562433962433920240205165085\",\"approvalNum\":\"624339\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"624339\",\"rrn\":\"624339\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"QR\"},\"paymentMethod\":{\"franchise\":\"MASTER DEB\",\"millerNum\":\"54848948948\",\"card\":\"87421770****3610\",\"accountType\":\"BC\"},\"payment\":{\"taxBase\":\"624339\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"624339\"}}],\"status\":[{\"transactionId\":\"YTEUSCV562433962433920240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165007\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":10800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":180700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":78600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":54000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1601900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:08.957 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":56300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":133800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":195200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":85000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":32300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":25200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":202200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":264400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":61400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":49200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":2289800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":309700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":114500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":78100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":89,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":94300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":24100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":21300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":68100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":25500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":20300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":421200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\"","result":{"duration":168700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":74900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":12200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":239740800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:08.967 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2811\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"590628aBcD\"},\"transaction\":{\"approvalNum\":841007,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":841007,\"rrn\":841007,\"dateTime\":\"20240205165000\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"97115188****7486\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":841007,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":841007},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:09.205 response time in milliseconds: 238\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 775\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:07 GMT\n1 < x-amzn-RequestId: 5adac048-c0fa-4e0e-b80b-096ee630f99a\n1 < x-amz-apigw-id: SrqydEZDoAMEXcw=\n1 < X-Amzn-Trace-Id: Root=1-65c1580f-7776731b229f571820486e75\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd8c6bfe710f91c12ac92a052545fb5e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: SXLT4wLRaYnuop_Sf6vYgLggC3tnBmWz9HmUAYJG3bIoy-fsQgv9Bg==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"590628aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV584100784100720240205165000\",\"approvalNum\":\"841007\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"841007\",\"rrn\":\"841007\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"97115188****7486\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"841007\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"841007\"}}],\"status\":[{\"transactionId\":\"YTEUSCV584100784100720240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165007\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":149600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":57900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":44000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":705676600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":103900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":48400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":21200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":88000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":23200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":18800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"BD\"","result":{"duration":44200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"MASTER DEBIT\"","result":{"duration":23600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"LIFEMILES\"","result":{"duration":21600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":16100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":200799500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:09.912 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2811\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"590628aBcD\"},\"transaction\":{\"approvalNum\":841007,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":841007,\"rrn\":841007,\"dateTime\":\"20240205165000\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"97115188****7486\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":841007,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":841007},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:10.112 response time in milliseconds: 200\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 775\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:08 GMT\n2 < x-amzn-RequestId: 72caf6d8-673f-4033-a0a9-f77c3f883617\n2 < x-amz-apigw-id: SrqymF5qoAMEKvg=\n2 < X-Amzn-Trace-Id: Root=1-65c15810-1d628ea0301b288b1c150453\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 19d162d3ed93abff24de66e1e95635fa.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: PkDGPm10alf7VExHG8grFKpLBsFhNqSrzzeDDpx5R7hCimbytsiccA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"590628aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV584100784100720240205165085\",\"approvalNum\":\"841007\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"841007\",\"rrn\":\"841007\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"LIFEMILES\"},\"paymentMethod\":{\"franchise\":\"MASTER DEBIT\",\"millerNum\":\"54848948948\",\"card\":\"97115188****7486\",\"accountType\":\"BD\"},\"payment\":{\"taxBase\":\"841007\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"841007\"}}],\"status\":[{\"transactionId\":\"YTEUSCV584100784100720240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165008\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":11600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":257000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":76400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":63200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":1703800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:09.135 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":70800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":150800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":318300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":102900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":60500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":54300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":50500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":243600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":238100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":55600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":53600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":2950200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":137100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":41600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":35900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":90,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":53900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":13700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":11400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":10300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":33000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":13300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":12400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":174600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\"","result":{"duration":59900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":41000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":10100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":297238300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:09.143 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2797\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"444349aBcD\"},\"transaction\":{\"approvalNum\":523967,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":523967,\"rrn\":523967,\"dateTime\":\"20240205165000\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"50729071****8762\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":523967,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":523967},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:09.439 response time in milliseconds: 296\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 761\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:07 GMT\n1 < x-amzn-RequestId: 59cd65a4-152d-4a06-acae-dec4806ec2c3\n1 < x-amz-apigw-id: SrqygGnKoAMEEKA=\n1 < X-Amzn-Trace-Id: Root=1-65c1580f-4e240862525f967620350889\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 538648d6b175eaacef2ebee8f528f84e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: htQA-4hB4RQkZjKRYhFUO5E2N2lrZmqe84WSh4Mw47Gmtb5roJP_AA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"444349aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV552396752396720240205165000\",\"approvalNum\":\"523967\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"523967\",\"rrn\":\"523967\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"50729071****8762\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"523967\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"523967\"}}],\"status\":[{\"transactionId\":\"YTEUSCV552396752396720240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165007\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":62800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":433700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":101000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":65200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":705595000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":125100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":63100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":27100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":102000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":32800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":31000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"SP\"","result":{"duration":67800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"VISA\"","result":{"duration":43700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"PSP\"","result":{"duration":31800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":22500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":180049700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:10.149 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2797\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"444349aBcD\"},\"transaction\":{\"approvalNum\":523967,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":523967,\"rrn\":523967,\"dateTime\":\"20240205165000\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"50729071****8762\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":523967,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":523967},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:10.327 response time in milliseconds: 178\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 761\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:08 GMT\n2 < x-amzn-RequestId: a87f18b9-a552-426a-ac85-9c1ae1cecd52\n2 < x-amz-apigw-id: SrqyoH4QoAMEVFw=\n2 < X-Amzn-Trace-Id: Root=1-65c15810-1919749b6cf4432e151baf91\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 fd31d1c67e8343bcdb7b55426d326fe6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: fWY9kEjKWQLsUY6rDe2JKD07GwvUJfocg6ezvnZboEQdr0SL-4Xi2A==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"444349aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV552396752396720240205165085\",\"approvalNum\":\"523967\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"523967\",\"rrn\":\"523967\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"PSP\"},\"paymentMethod\":{\"franchise\":\"VISA\",\"millerNum\":\"54848948948\",\"card\":\"50729071****8762\",\"accountType\":\"SP\"},\"payment\":{\"taxBase\":\"523967\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"523967\"}}],\"status\":[{\"transactionId\":\"YTEUSCV552396752396720240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165008\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":13900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":254300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":92400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":57400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def bodyTrx = read('classpath:payloads\/BodyTrxAdquirencia.json')","result":{"duration":2140600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"16:50:09.669 karate.env system property was: dev-adqui \n","line":4}},{"name":"def responseTimeRange = { min: 10, max: 15000 }","result":{"duration":70500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5},{"name":"def dataGenerator = Java.type('helper.DataGenerator')","result":{"duration":161000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def NumReceipt = dataGenerator.getRandomNumReceipt()","result":{"duration":204900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"set bodyTrx.payload[0].transaction.receipt = NumReceipt","result":{"duration":96100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"set bodyTrx.payload[0].payment.fullAmount = NumReceipt","result":{"duration":37600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"set bodyTrx.payload[0].payment.taxBase = NumReceipt","result":{"duration":49700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":44400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11},{"name":"set bodyTrx.payload[0].paymentMethod.card = dataGenerator.getRandomValueCard()","result":{"duration":261900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"set bodyTrx.payload[0].commerce.atmId = dataGenerator.getRandomValueCajero()","result":{"duration":193500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13},{"name":"set bodyTrx.payload[0].transaction.rrn = NumReceipt","result":{"duration":34400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":14},{"name":"set bodyTrx.payload[0].transaction.approvalNum = NumReceipt","result":{"duration":28500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"def dateTimes = karate.call('classpath:helper\/dateTime.js')","result":{"duration":3113700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16},{"name":"set bodyTrx.payload[0].transaction.dateTime = dateTimes.date","result":{"duration":146900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17},{"name":"set bodyTrx.payload[0].transaction.hour = dateTimes.hora","result":{"duration":48800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":18},{"name":"set bodyTrx.payload[0].transaction.date = dateTimes.dia","result":{"duration":45700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19}]},{"line":91,"name":"peticion Post que obtiene el token de cognito y luego lo pasa al header de la peticion de aprobacion con firma","description":"","id":"peticion-post-que-obtiene-el-token-de-cognito-y-luego-lo-pasa-al-header-de-la-peticion-de-aprobacion-con-firma","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def sleep = function(pause){ java.lang.Thread.sleep(pause)}","result":{"duration":74100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"url url","result":{"duration":19900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":23},{"name":"path pathUrl","result":{"duration":16600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":24},{"name":"header x-api-key = apiKey","result":{"duration":15700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":25},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":49100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":19700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":27},{"name":"request bodyTrx.payload[0].transaction.status = '00'","result":{"duration":22400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":28},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":244500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":29},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\"","result":{"duration":189400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":30},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":91600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":31},{"name":"request bodyTrx","result":{"duration":18000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":32},{"name":"method post","result":{"duration":185834100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":33,"doc_string":{"content_type":"","value":"16:50:09.677 request:\n1 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n1 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n1 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 2802\n1 > Host: api.redebanvd.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n1 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"175992aBcD\"},\"transaction\":{\"approvalNum\":567972,\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":567972,\"rrn\":567972,\"dateTime\":\"20240205165000\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"93526801****9706\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":567972,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":567972},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:09.862 response time in milliseconds: 185\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 766\n1 < Connection: keep-alive\n1 < Date: Mon, 05 Feb 2024 21:50:08 GMT\n1 < x-amzn-RequestId: 7dc3b9f5-cb7d-49f0-b5e6-3de3294f7d78\n1 < x-amz-apigw-id: SrqykH2AIAMEIlg=\n1 < X-Amzn-Trace-Id: Root=1-65c15810-6feb9132217f04eb1612f287\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 00e72a1b4c017d7801d19ad924a1b104.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: BOG50-C1\n1 < X-Amz-Cf-Id: pNQhF5B-Xd-QecwGjY53A4feYm1K699IEvMZ4T67Azjnk8bcsem13w==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"175992aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV556797256797220240205165000\",\"approvalNum\":\"567972\",\"responseCode\":\"12\",\"status\":\"00\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"567972\",\"rrn\":\"567972\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"93526801****9706\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"567972\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"567972\"}}],\"status\":[{\"transactionId\":\"YTEUSCV556797256797220240205165000\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165008\"}]}\n\n","line":33}},{"name":"status 200","result":{"duration":10900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":34},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":199400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":35},{"name":"match response.resultObject[0].transaction.status == '00'","result":{"duration":82000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":36},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":57800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":37},{"name":"eval sleep(700)","result":{"duration":714632500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38},{"name":"url url","result":{"duration":87100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"path pathUrl","result":{"duration":44700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"header x-api-key = apiKey","result":{"duration":20400,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"request bodyTrx.payload[0].commerce.commerceId = '645122131'","result":{"duration":91500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"request bodyTrx.payload[0].commerce.terminalId = 'YTEUSCV5'","result":{"duration":24200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43},{"name":"request bodyTrx.payload[0].transaction.status = '85'","result":{"duration":20100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":44},{"name":"request bodyTrx.payload[0].paymentMethod.accountType = \"00\"","result":{"duration":48900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":45},{"name":"request bodyTrx.payload[0].paymentMethod.franchise = \"DINERS\"","result":{"duration":21900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":46},{"name":"request bodyTrx.payload[0].transaction.transactionType = \"NODATA\"","result":{"duration":19800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":47},{"name":"request bodyTrx","result":{"duration":15500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":48},{"name":"method post","result":{"duration":229529700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":49,"doc_string":{"content_type":"","value":"16:50:10.579 request:\n2 > POST https:\/\/api.redebanvd.net\/transactional\/api\/vouchers\/transactions\n2 > x-api-key: tZtH1xkzxt8au5Vae8at14kL4MwEZ2su59imax5g\n2 > Authorization: Bearer eyJraWQiOiJEK1lFdFlkdDdPeDUrU3prUWhoNDI0RnpId3dhQ3hNYlwvUng4YWUxTnZRYz0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIzZmRuN2N2a2szbjNtbWJtM3ZpZG1yNnZjZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiY29uc3VtZXJzXC9mYWJyaWNhIiwiYXV0aF90aW1lIjoxNzA3MTY5Nzc5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAudXMtZWFzdC0xLmFtYXpvbmF3cy5jb21cL3VzLWVhc3QtMV85dWM0ZGlWeloiLCJleHAiOjE3MDcxNzE1NzksImlhdCI6MTcwNzE2OTc3OSwidmVyc2lvbiI6MiwianRpIjoiOThjNWEwYTYtMzNiYy00OTcxLTk5YjgtNWY4N2Q1MDgxMDA0IiwiY2xpZW50X2lkIjoiM2ZkbjdjdmtrM24zbW1ibTN2aWRtcjZ2Y2UifQ.pz9dohH3RNkLCvtVYT7PVPRkYG_wyiAp6ppRMsPCg6yz7-FbZBQ8N8KZlRYv7uzD6Q5z6XZ8tSo5S4MOUKLch3epbti9sknVa3AK1KVVAK5gUR8tHHolfyVvTqTXl_eBj89yHz7QRW8g4hfbhUytHxe3LDBObgi9PTQa-QE7tN5qssN1RVz0edKTyCPykM69jmkc8mC_dY-rcYpy-eNa4krsTAhMusr1Bv07HKAMeBc5AcoBUQJeUR8SrNFlKrW5Cmbu37i1tt5ZzxEqdFAnb8I-oJTvRmuo-OfctgBJktj3V4tG73x1SuClG7r8G14M3JefNx52UJs4Uin0DpiTiA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2802\n2 > Host: api.redebanvd.net\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/17.0.5)\n2 > Accept-Encoding: gzip,deflate\n{\"payload\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"175992aBcD\"},\"transaction\":{\"approvalNum\":567972,\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"20240205\",\"hour\":\"1650\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":567972,\"rrn\":567972,\"dateTime\":\"20240205165000\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"93526801****9706\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":567972,\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":567972},\"script\":\"[0X0A][0X1C][0X2C][0X3B]p&r%u\\\/e@b*ap&r%u\\\/e@b*a[0X0A][0X1C][0X2C][0X3B]CR 20 33 - 15 [0X0A][0X1A][0X2A][0X3A]C.UNICO:112121212121 [0X1B]TER:LEAL0041[0X0A][0X1A]MASTERCARD[0X1C]EXP:2710 CUO:2[0X1B]CR[0X0A][0X1A]528209**5461[0X1C]RECIBO:000034[0X1B]RRN:000955[0X0A][0X1C]ARQC:7110DDB67A6B1AB0[0X0A][0X1C]AID:A0000000041010[0X0A][0X1C]AP LABEL:Mastercard[0X0A] [0X0A][0X1A]VENTA[0X1B]APRO:HOME01[0X0A][0X1A]COMPRA NETA:[0X1B]$ 46.463[0X0A][0X1A]IVA:[0X1B]$ 330[0X0A][0X1A]INC:[0X1B]$ 440[0X0A][0X1A]PROPINA:[0X1B]$ 23.323[0X0A][0X3C][0X1A]TOTAL:[0X1B]$ 438.786[0X0A]\",\"signature\":{\"signatureFlag\":true,\"signature\":\"424D3E0F(12)3E(6)28(6)2C01(4)6(8)10001(56)B1{6}01{75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){41}E0{32}(5){40}8000{31}(5){39}000E01{30}(5){37}C003FFE01{29}(5){36}E007{4}C01{28}(5){36}C1{7}C03{27}(5){36}8{9}C07{26}(5){36}9{10}80{26}(5){36}9{11}01{25}(5){36}9{11}E03{24}(5){36}1{12}C07{23}(5){36}3{13}80{23}(5){35}E3{14}01{22}(5){35}E7{14}E03{21}(5){35}C7{15}C03{20}(5){35}C{17}807{19}(5){35}C{18}80{19}(5){35}C{19}00{18}(5){35}C{19}E03{17}(5){35}8{20}E3{17}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{39}(5){35}9{17}3{21}(5){35}9{17}3{21}(5){35}9{16}E3{21}(5){35}8{16}E7{21}(5){35}C{16}C7{21}(5){35}C{16}8{22}(5){35}C{16}9{22}(5){35}C{16}1{22}(5){35}C{16}3{22}(5){35}C{15}E3{22}(5){35}C{15}E7{22}(5){35}C7{14}C7{22}(5){35}E7FFF03{9}C{23}(5){35}E7F0003{9}8{23}(5){34}E(5)7{10}1{23}(5){30}C(7)7{11}E3{23}(5){27}E(7)F3{13}E7{23}(5){26}80001{5}3{13}C7{23}(5){25}000{8}3{13}C{24}(5){10}9{12}E003{9}1{13}C{24}(5){10}9{11}8007{10}9{13}8{24}(5){10}8{10}000{12}9{12}E1{24}(5){10}C{8}E003{13}9{12}C3{24}(5){10}C7{6}8007{14}8{12}8{25}(5){10}E3{5}000{16}C{12}1{25}(5){11}3FFFE003{17}C7{10}C3{25}(5){11}1FF8007{18}E7{10}87{25}(5){11}9F000{20}E3{9}E1{26}(5){11}8003{22}3{9}C3{26}(5){11}C07{23}1{9}0{27}(5){11}C{25}9{8}C1{27}(5){37}8{8}87{27}(5){37}C{7}E1{28}(5){37}C7{6}03{28}(5){37}E3{5}00{29}(5){38}3FFFC007{29}(5){38}03F8007{30}(5){38}80001{32}(5){39}803{33}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5){75}(5)\"},\"notification\":{\"notificationFlag\":true,\"cellphone\":\"3177928280\",\"notificationType\":1}}]}\n\n16:50:10.807 response time in milliseconds: 228\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 766\n2 < Connection: keep-alive\n2 < Date: Mon, 05 Feb 2024 21:50:09 GMT\n2 < x-amzn-RequestId: a04d8869-d86c-4f73-9e0a-16c9bbb6f332\n2 < x-amz-apigw-id: SrqytFovoAMEK5A=\n2 < X-Amzn-Trace-Id: Root=1-65c15811-0a2e3a2525f83ec8149aff7a\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 d413fb750cb8c5d3a6bce4d80dedeb9a.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: BOG50-C1\n2 < X-Amz-Cf-Id: fCVcJIu1fmzCwHgctRjnDWvXdDkiaeS1ThCaUKfUfKywETWoM75EoA==\n{\"resultObject\":[{\"commerce\":{\"commerceId\":\"645122131\",\"terminalId\":\"YTEUSCV5\",\"techVersion\":\"V-T35T\",\"atmId\":\"175992aBcD\"},\"transaction\":{\"voucherId\":\"YTEUSCV556797256797220240205165085\",\"approvalNum\":\"567972\",\"responseCode\":\"12\",\"status\":\"85\",\"date\":\"2024-02-05\",\"hour\":\"16:50:00\",\"authMode\":\"01\",\"inMode\":\"03X\",\"receipt\":\"567972\",\"rrn\":\"567972\",\"dateTime\":\"2024-02-05T16:50:00\",\"transactionType\":\"NODATA\"},\"paymentMethod\":{\"franchise\":\"DINERS\",\"millerNum\":\"54848948948\",\"card\":\"93526801****9706\",\"accountType\":\"00\"},\"payment\":{\"taxBase\":\"567972\",\"incAmount\":\"0\",\"ivaAmount\":\"0\",\"tipAmount\":\"0\",\"fullAmount\":\"567972\"}}],\"status\":[{\"transactionId\":\"YTEUSCV556797256797220240205165085\",\"statusCode\":\"00\",\"statusDescription\":\"PROCESSED\",\"dateTime\":\"20240205165009\"}]}\n\n","line":49}},{"name":"status 200","result":{"duration":9900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":50},{"name":"match response.status[0].statusDescription == 'PROCESSED'","result":{"duration":188700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":51},{"name":"match response.resultObject[0].transaction.status == '85'","result":{"duration":66100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":52},{"name":"assert responseTime >= responseTimeRange.min && responseTime <= responseTimeRange.max","result":{"duration":47300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":53}],"tags":[]}],"name":"ADQUI\/TransaccionalADQUI85.feature","description":"Ejecutar Endpoint para crear una transaccion aprobada con firma y validando distintos datos de respuesta","id":"ejecutar-endpoint-para-crear-una-transaccion-aprobada-con-firma-y-validando-distintos-datos-de-respuesta","keyword":"Feature","uri":"ADQUI\/TransaccionalADQUI85.feature"}]